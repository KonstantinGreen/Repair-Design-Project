!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(w,t){"use strict";function m(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item}function g(t){return null!=t&&t===t.window}var e=[],i=Object.getPrototypeOf,a=e.slice,y=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},l=e.push,r=e.indexOf,n={},s=n.toString,v=n.hasOwnProperty,o=v.toString,c=o.call(Object),b={},S=w.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function _(t,e,i){var n,r,s=(i=i||S).createElement("script");if(s.text=t,e)for(n in u)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&s.setAttribute(n,r);i.head.appendChild(s).parentNode.removeChild(s)}function f(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[s.call(t)]||"object":typeof t}var d="3.6.0",x=function(t,e){return new x.fn.init(t,e)};function h(t){var e=!!t&&"length"in t&&t.length,i=f(t);return!m(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}x.fn=x.prototype={jquery:d,constructor:x,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=x.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return x.each(this,t)},map:function(i){return this.pushStack(x.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(x.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},x.extend=x.fn.extend=function(){var t,e,i,n,r,s=arguments[0]||{},o=1,a=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[o]||{},o++),"object"==typeof s||m(s)||(s={}),o===a&&(s=this,o--);o<a;o++)if(null!=(t=arguments[o]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(l&&i&&(x.isPlainObject(i)||(n=Array.isArray(i)))?(r=s[e],r=n&&!Array.isArray(r)?[]:n||x.isPlainObject(r)?r:{},n=!1,s[e]=x.extend(l,r,i)):void 0!==i&&(s[e]=i));return s},x.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==s.call(t))&&(!(t=i(t))||"function"==typeof(t=v.call(t,"constructor")&&t.constructor)&&o.call(t)===c)},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,i){_(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(h(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){e=e||[];return null!=t&&(h(Object(t))?x.merge(e,"string"==typeof t?[t]:t):l.call(e,t)),e},inArray:function(t,e,i){return null==e?-1:r.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,s=t.length,o=!i;r<s;r++)!e(t[r],r)!=o&&n.push(t[r]);return n},map:function(t,e,i){var n,r,s=0,o=[];if(h(t))for(n=t.length;s<n;s++)null!=(r=e(t[s],s,i))&&o.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&o.push(r);return y(o)},guid:1,support:b}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=e[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var p=function(i){function d(t,e){return t="0x"+t.slice(1)-65536,e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))}function h(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}function n(){w()}var t,p,_,s,r,f,m,g,T,l,c,w,S,o,x,y,a,u,v,C="sizzle"+ +new Date,b=i.document,k=0,E=0,A=lt(),I=lt(),P=lt(),D=lt(),O=function(t,e){return t===e&&(c=!0),0},L={}.hasOwnProperty,e=[],M=e.pop,N=e.push,R=e.push,F=e.slice,j=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},U="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",$="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+B+"*("+$+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+B+"*\\]",q=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",W=new RegExp(B+"+","g"),z=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),V=new RegExp("^"+B+"*,"+B+"*"),G=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),X=new RegExp(B+"|>"),Y=new RegExp(q),K=new RegExp("^"+$+"$"),Q={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+U+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,et=/^[^{]+\{\s*\[native \w/,it=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nt=/[+~]/,rt=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),st=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=vt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{R.apply(e=F.call(b.childNodes),b.childNodes),e[b.childNodes.length].nodeType}catch(t){R={apply:e.length?function(t,e){N.apply(t,F.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(e,t,i,n){var r,s,o,a,l,c,u=t&&t.ownerDocument,d=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return i;if(!n&&(w(t),t=t||S,x)){if(11!==d&&(a=it.exec(e)))if(c=a[1]){if(9===d){if(!(s=t.getElementById(c)))return i;if(s.id===c)return i.push(s),i}else if(u&&(s=u.getElementById(c))&&v(t,s)&&s.id===c)return i.push(s),i}else{if(a[2])return R.apply(i,t.getElementsByTagName(e)),i;if((c=a[3])&&p.getElementsByClassName&&t.getElementsByClassName)return R.apply(i,t.getElementsByClassName(c)),i}if(p.qsa&&!D[e+" "]&&(!y||!y.test(e))&&(1!==d||"object"!==t.nodeName.toLowerCase())){if(c=e,u=t,1===d&&(X.test(e)||G.test(e))){for((u=nt.test(e)&&mt(t.parentNode)||t)===t&&p.scope||((o=t.getAttribute("id"))?o=o.replace(st,h):t.setAttribute("id",o=C)),r=(l=f(e)).length;r--;)l[r]=(o?"#"+o:":scope")+" "+yt(l[r]);c=l.join(",")}try{return R.apply(i,u.querySelectorAll(c)),i}catch(t){D(e,!0)}finally{o===C&&t.removeAttribute("id")}}}return g(e.replace(z,"$1"),t,i,n)}function lt(){var i=[];function n(t,e){return i.push(t+" ")>_.cacheLength&&delete n[i.shift()],n[t+" "]=e}return n}function ct(t){return t[C]=!0,t}function ut(t){var e=S.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function dt(t,e){for(var i=t.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function pt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ot(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ft(o){return ct(function(s){return s=+s,ct(function(t,e){for(var i,n=o([],t.length,s),r=n.length;r--;)t[i=n[r]]&&(t[i]=!(e[i]=t[i]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=at.support={},r=at.isXML=function(t){var e=t&&t.namespaceURI,t=t&&(t.ownerDocument||t).documentElement;return!Z.test(e||t&&t.nodeName||"HTML")},w=at.setDocument=function(t){var e,t=t?t.ownerDocument||t:b;return t!=S&&9===t.nodeType&&t.documentElement&&(o=(S=t).documentElement,x=!r(S),b!=S&&(e=S.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",n,!1):e.attachEvent&&e.attachEvent("onunload",n)),p.scope=ut(function(t){return o.appendChild(t).appendChild(S.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),p.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=ut(function(t){return t.appendChild(S.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=et.test(S.getElementsByClassName),p.getById=ut(function(t){return o.appendChild(t).id=C,!S.getElementsByName||!S.getElementsByName(C).length}),p.getById?(_.filter.ID=function(t){var e=t.replace(rt,d);return function(t){return t.getAttribute("id")===e}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&x){t=e.getElementById(t);return t?[t]:[]}}):(_.filter.ID=function(t){var e=t.replace(rt,d);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&x){var i,n,r,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(r=e.getElementsByName(t),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),_.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"!==t)return s;for(;i=s[r++];)1===i.nodeType&&n.push(i);return n},_.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&x)return e.getElementsByClassName(t)},a=[],y=[],(p.qsa=et.test(S.querySelectorAll))&&(ut(function(t){var e;o.appendChild(t).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||y.push("\\["+B+"*(?:value|"+U+")"),t.querySelectorAll("[id~="+C+"-]").length||y.push("~="),(e=S.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||y.push("\\["+B+"*name"+B+"*="+B+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||y.push(":checked"),t.querySelectorAll("a#"+C+"+*").length||y.push(".#.+[+~]"),t.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=S.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&y.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),o.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),y.push(",.*:")})),(p.matchesSelector=et.test(u=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ut(function(t){p.disconnectedMatch=u.call(t,"*"),u.call(t,"[s!='']:x"),a.push("!=",q)}),y=y.length&&new RegExp(y.join("|")),a=a.length&&new RegExp(a.join("|")),e=et.test(o.compareDocumentPosition),v=e||et.test(o.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(i.contains?i.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return c=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===i?t==S||t.ownerDocument==b&&v(b,t)?-1:e==S||e.ownerDocument==b&&v(b,e)?1:l?j(l,t)-j(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!r||!s)return t==S?-1:e==S?1:r?-1:s?1:l?j(l,t)-j(l,e):0;if(r===s)return ht(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?ht(o[n],a[n]):o[n]==b?-1:a[n]==b?1:0}),S},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(w(t),p.matchesSelector&&x&&!D[e+" "]&&(!a||!a.test(e))&&(!y||!y.test(e)))try{var i=u.call(t,e);if(i||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){D(e,!0)}return 0<at(e,S,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=S&&w(t),v(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=S&&w(t);var i=_.attrHandle[e.toLowerCase()],i=i&&L.call(_.attrHandle,e.toLowerCase())?i(t,e,!x):void 0;return void 0!==i?i:p.attributes||!x?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},at.escape=function(t){return(t+"").replace(st,h)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],n=0,r=0;if(c=!p.detectDuplicates,l=!p.sortStable&&t.slice(0),t.sort(O),c){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return l=null,t},s=at.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=s(e);return i},(_=at.selectors={cacheLength:50,createPseudo:ct,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(rt,d),t[3]=(t[3]||t[4]||t[5]||"").replace(rt,d),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Y.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(rt,d).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=A[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&A(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(t){t=at.attr(t,e);return null==t?"!="===i:!i||(t+="","="===i?t===n:"!="===i?t!==n:"^="===i?n&&0===t.indexOf(n):"*="===i?n&&-1<t.indexOf(n):"$="===i?n&&t.slice(-n.length)===n:"~="===i?-1<(" "+t.replace(W," ")+" ").indexOf(n):"|="===i&&(t===n||t.slice(0,n.length+1)===n+"-"))}},CHILD:function(f,t,e,m,g){var y="nth"!==f.slice(0,3),v="last"!==f.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,i){var n,r,s,o,a,l,c=y!=v?"nextSibling":"previousSibling",u=t.parentNode,d=b&&t.nodeName.toLowerCase(),h=!i&&!b,p=!1;if(u){if(y){for(;c;){for(o=t;o=o[c];)if(b?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(p=(a=(n=(r=(s=(o=u)[C]||(o[C]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===k&&n[1])&&n[2],o=a&&u.childNodes[a];o=++a&&o&&o[c]||(p=a=0)||l.pop();)if(1===o.nodeType&&++p&&o===t){r[f]=[k,a,p];break}}else if(!1===(p=h?a=(n=(r=(s=(o=t)[C]||(o[C]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===k&&n[1]:p))for(;(o=++a&&o&&o[c]||(p=a=0)||l.pop())&&((b?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++p||(h&&((r=(s=o[C]||(o[C]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]=[k,p]),o!==t)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(t,s){var e,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return o[C]?o(s):1<o.length?(e=[t,t,"",s],_.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,e){for(var i,n=o(t,s),r=n.length;r--;)t[i=j(t,n[r])]=!(e[i]=n[r])}):function(t){return o(t,0,e)}):o}},pseudos:{not:ct(function(t){var n=[],r=[],a=m(t.replace(z,"$1"));return a[C]?ct(function(t,e,i,n){for(var r,s=a(t,null,n,[]),o=t.length;o--;)(r=s[o])&&(t[o]=!(e[o]=r))}):function(t,e,i){return n[0]=t,a(n,null,i,r),n[0]=null,!r.pop()}}),has:ct(function(e){return function(t){return 0<at(e,t).length}}),contains:ct(function(e){return e=e.replace(rt,d),function(t){return-1<(t.textContent||s(t)).indexOf(e)}}),lang:ct(function(i){return K.test(i||"")||at.error("unsupported lang: "+i),i=i.replace(rt,d).toLowerCase(),function(t){var e;do{if(e=x?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===o},focus:function(t){return t===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return tt.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t}),gt:ft(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=function(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}(t);function gt(){}function yt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function vt(o,t,e){var a=t.dir,l=t.next,c=l||a,u=e&&"parentNode"===c,d=E++;return t.first?function(t,e,i){for(;t=t[a];)if(1===t.nodeType||u)return o(t,e,i);return!1}:function(t,e,i){var n,r,s=[k,d];if(i){for(;t=t[a];)if((1===t.nodeType||u)&&o(t,e,i))return!0}else for(;t=t[a];)if(1===t.nodeType||u)if(n=(r=t[C]||(t[C]={}))[t.uniqueID]||(r[t.uniqueID]={}),l&&l===t.nodeName.toLowerCase())t=t[a]||t;else{if((r=n[c])&&r[0]===k&&r[1]===d)return s[2]=r[2];if((n[c]=s)[2]=o(t,e,i))return!0}return!1}}function bt(r){return 1<r.length?function(t,e,i){for(var n=r.length;n--;)if(!r[n](t,e,i))return!1;return!0}:r[0]}function _t(t,e,i,n,r){for(var s,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),c&&e.push(a)));return o}function Tt(p,f,m,g,y,t){return g&&!g[C]&&(g=Tt(g)),y&&!y[C]&&(y=Tt(y,t)),ct(function(t,e,i,n){var r,s,o,a=[],l=[],c=e.length,u=t||function(t,e,i){for(var n=0,r=e.length;n<r;n++)at(t,e[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),d=!p||!t&&f?u:_t(u,a,p,i,n),h=m?y||(t?p:c||g)?[]:e:d;if(m&&m(d,h,i,n),g)for(r=_t(h,l),g(r,[],i,n),s=r.length;s--;)(o=r[s])&&(h[l[s]]=!(d[l[s]]=o));if(t){if(y||p){if(y){for(r=[],s=h.length;s--;)(o=h[s])&&r.push(d[s]=o);y(null,h=[],r,n)}for(s=h.length;s--;)(o=h[s])&&-1<(r=y?j(t,o):a[s])&&(t[r]=!(e[r]=o))}}else h=_t(h===e?h.splice(c,h.length):h),y?y(null,e,h,n):R.apply(e,h)})}function wt(g,y){function t(t,e,i,n,r){var s,o,a,l=0,c="0",u=t&&[],d=[],h=T,p=t||b&&_.find.TAG("*",r),f=k+=null==h?1:Math.random()||.1,m=p.length;for(r&&(T=e==S||e||r);c!==m&&null!=(s=p[c]);c++){if(b&&s){for(o=0,e||s.ownerDocument==S||(w(s),i=!x);a=g[o++];)if(a(s,e||S,i)){n.push(s);break}r&&(k=f)}v&&((s=!a&&s)&&l--,t&&u.push(s))}if(l+=c,v&&c!==l){for(o=0;a=y[o++];)a(u,d,e,i);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=M.call(n));d=_t(d)}R.apply(n,d),r&&!t&&0<d.length&&1<l+y.length&&at.uniqueSort(n)}return r&&(k=f,T=h),u}var v=0<y.length,b=0<g.length;return v?ct(t):t}return gt.prototype=_.filters=_.pseudos,_.setFilters=new gt,f=at.tokenize=function(t,e){var i,n,r,s,o,a,l,c=I[t+" "];if(c)return e?0:c.slice(0);for(o=t,a=[],l=_.preFilter;o;){for(s in i&&!(n=V.exec(o))||(n&&(o=o.slice(n[0].length)||o),a.push(r=[])),i=!1,(n=G.exec(o))&&(i=n.shift(),r.push({value:i,type:n[0].replace(z," ")}),o=o.slice(i.length)),_.filter)!(n=Q[s].exec(o))||l[s]&&!(n=l[s](n))||(i=n.shift(),r.push({value:i,type:s,matches:n}),o=o.slice(i.length));if(!i)break}return e?o.length:o?at.error(t):I(t,a).slice(0)},m=at.compile=function(t,e){var i,n=[],r=[],s=P[t+" "];if(!s){for(i=(e=e||f(t)).length;i--;)((s=function t(e){for(var n,i,r,s=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],l=o?1:0,c=vt(function(t){return t===n},a,!0),u=vt(function(t){return-1<j(n,t)},a,!0),d=[function(t,e,i){return i=!o&&(i||e!==T)||((n=e).nodeType?c:u)(t,e,i),n=null,i}];l<s;l++)if(i=_.relative[e[l].type])d=[vt(bt(d),i)];else{if((i=_.filter[e[l].type].apply(null,e[l].matches))[C]){for(r=++l;r<s&&!_.relative[e[r].type];r++);return Tt(1<l&&bt(d),1<l&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),i,l<r&&t(e.slice(l,r)),r<s&&t(e=e.slice(r)),r<s&&yt(e))}d.push(i)}return bt(d)}(e[i]))[C]?n:r).push(s);(s=P(t,wt(r,n))).selector=t}return s},g=at.select=function(t,e,i,n){var r,s,o,a,l,c="function"==typeof t&&t,u=!n&&f(t=c.selector||t);if(i=i||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(o=s[0]).type&&9===e.nodeType&&x&&_.relative[s[1].type]){if(!(e=(_.find.ID(o.matches[0].replace(rt,d),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=Q.needsContext.test(t)?0:s.length;r--&&(o=s[r],!_.relative[a=o.type]);)if((l=_.find[a])&&(n=l(o.matches[0].replace(rt,d),nt.test(s[0].type)&&mt(e.parentNode)||e))){if(s.splice(r,1),!(t=n.length&&yt(s)))return R.apply(i,n),i;break}}return(c||m(t,u))(n,e,!x,i,!e||nt.test(t)&&mt(e.parentNode)||e),i},p.sortStable=C.split("").sort(O).join("")===C,p.detectDuplicates=!!c,w(),p.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(S.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||dt("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||dt("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||dt(U,function(t,e,i){if(!i)return!0===t[e]?e.toLowerCase():(e=t.getAttributeNode(e))&&e.specified?e.value:null}),at}(w);x.find=p,x.expr=p.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=p.uniqueSort,x.text=p.getText,x.isXMLDoc=p.isXML,x.contains=p.contains,x.escapeSelector=p.escape;function T(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&x(t).is(i))break;n.push(t)}return n}function C(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}var k=x.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,i,n){return m(i)?x.grep(t,function(t,e){return!!i.call(t,e,t)!==n}):i.nodeType?x.grep(t,function(t){return t===i!==n}):"string"!=typeof i?x.grep(t,function(t){return-1<r.call(i,t)!==n}):x.filter(i,t,n)}x.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?x.find.matchesSelector(n,t)?[n]:[]:x.find.matches(t,x.grep(e,function(t){return 1===t.nodeType}))},x.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(x(t).filter(function(){for(e=0;e<n;e++)if(x.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)x.find(t,r[e],i);return 1<n?x.uniqueSort(i):i},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&k.test(t)?x(t):t||[],!1).length}});var P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,i){if(!t)return this;if(i=i||D,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==i.ready?i.ready(t):t(x):x.makeArray(t,this);if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:P.exec(t))||!n[1]&&e)return(!e||e.jquery?e||i:this.constructor(e)).find(t);if(n[1]){if(e=e instanceof x?e[0]:e,x.merge(this,x.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),A.test(n[1])&&x.isPlainObject(e))for(var n in e)m(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(t=S.getElementById(n[2]))&&(this[0]=t,this.length=1),this}).prototype=x.fn;var D=x(S),O=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(x.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&x(t);if(!k.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&x.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(1<s.length?x.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?r.call(x(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,i){return T(t,"parentNode",i)},next:function(t){return M(t,"nextSibling")},prev:function(t){return M(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,i){return T(t,"nextSibling",i)},prevUntil:function(t,e,i){return T(t,"previousSibling",i)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(E(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},function(n,r){x.fn[n]=function(t,e){var i=x.map(this,r,t);return(e="Until"!==n.slice(-5)?t:e)&&"string"==typeof e&&(i=x.filter(e,i)),1<this.length&&(L[n]||x.uniqueSort(i),O.test(n)&&i.reverse()),this.pushStack(i)}});var N=/[^\x20\t\r\n\f]+/g;function R(t){return t}function F(t){throw t}function j(t,e,i,n){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(i):t&&m(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}x.Callbacks=function(n){var t,i;n="string"==typeof n?(t=n,i={},x.each(t.match(N)||[],function(t,e){i[e]=!0}),i):x.extend({},n);function r(){for(a=a||n.once,o=s=!0;c.length;u=-1)for(e=c.shift();++u<l.length;)!1===l[u].apply(e[0],e[1])&&n.stopOnFalse&&(u=l.length,e=!1);n.memory||(e=!1),s=!1,a&&(l=e?[]:"")}var s,e,o,a,l=[],c=[],u=-1,d={add:function(){return l&&(e&&!s&&(u=l.length-1,c.push(e)),function i(t){x.each(t,function(t,e){m(e)?n.unique&&d.has(e)||l.push(e):e&&e.length&&"string"!==f(e)&&i(e)})}(arguments),e&&!s&&r()),this},remove:function(){return x.each(arguments,function(t,e){for(var i;-1<(i=x.inArray(e,l,i));)l.splice(i,1),i<=u&&u--}),this},has:function(t){return t?-1<x.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=c=[],l=e="",this},disabled:function(){return!l},lock:function(){return a=c=[],e||s||(l=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],c.push(e),s||r()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},x.extend({Deferred:function(t){var s=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var r=arguments;return x.Deferred(function(n){x.each(s,function(t,e){var i=m(r[e[4]])&&r[e[4]];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,i?[t]:arguments)})}),r=null}).promise()},then:function(e,i,n){var l=0;function c(r,s,o,a){return function(){function t(){var t,e;if(!(r<l)){if((t=o.apply(i,n))===s.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,m(e)?a?e.call(t,c(l,s,R,a),c(l,s,F,a)):(l++,e.call(t,c(l,s,R,a),c(l,s,F,a),c(l,s,R,s.notifyWith))):(o!==R&&(i=void 0,n=[t]),(a||s.resolveWith)(i,n))}}var i=this,n=arguments,e=a?t:function(){try{t()}catch(t){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(t,e.stackTrace),l<=r+1&&(o!==F&&(i=void 0,n=[t]),s.rejectWith(i,n))}};r?e():(x.Deferred.getStackHook&&(e.stackTrace=x.Deferred.getStackHook()),w.setTimeout(e))}}return x.Deferred(function(t){s[0][3].add(c(0,t,m(n)?n:R,t.notifyWith)),s[1][3].add(c(0,t,m(e)?e:R)),s[2][3].add(c(0,t,m(i)?i:F))}).promise()},promise:function(t){return null!=t?x.extend(t,o):o}},a={};return x.each(s,function(t,e){var i=e[2],n=e[5];o[e[1]]=i.add,n&&i.add(function(){r=n},s[3-t][2].disable,s[3-t][3].disable,s[0][2].lock,s[0][3].lock),i.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=i.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){r[e]=this,s[e]=1<arguments.length?a.call(arguments):t,--i||o.resolveWith(r,s)}}var i=arguments.length,n=i,r=Array(n),s=a.call(arguments),o=x.Deferred();if(i<=1&&(j(t,o.done(e(n)).resolve,o.reject,!i),"pending"===o.state()||m(s[n]&&s[n].then)))return o.then();for(;n--;)j(s[n],e(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,e){w.console&&w.console.warn&&t&&U.test(t.name)&&w.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},x.readyException=function(t){w.setTimeout(function(){throw t})};var B=x.Deferred();function $(){S.removeEventListener("DOMContentLoaded",$),w.removeEventListener("load",$),x.ready()}x.fn.ready=function(t){return B.then(t).catch(function(t){x.readyException(t)}),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0)!==t&&0<--x.readyWait||B.resolveWith(S,[x])}}),x.ready.then=B.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?w.setTimeout(x.ready):(S.addEventListener("DOMContentLoaded",$),w.addEventListener("load",$));function H(t,e,i,n,r,s,o){var a=0,l=t.length,c=null==i;if("object"===f(i))for(a in r=!0,i)H(t,e,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,m(n)||(o=!0),e=c?o?(e.call(t,n),null):(c=e,function(t,e,i){return c.call(x(t),i)}):e))for(;a<l;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:c?e.call(t):l?e(t[0],i):s}var q=/^-ms-/,W=/-([a-z])/g;function z(t,e){return e.toUpperCase()}function V(t){return t.replace(q,"ms-").replace(W,z)}function G(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function X(){this.expando=x.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[V(e)]=i;else for(n in e)r[V(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(V):(e=V(e))in n?[e]:e.match(N)||[]).length;for(;i--;)delete n[e[i]]}void 0!==e&&!x.isEmptyObject(n)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var Y=new X,K=new X,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function J(t,e,i){var n,r;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Z,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:Q.test(r)?JSON.parse(r):r)}catch(t){}K.set(t,e,i)}else i=void 0;return i}x.extend({hasData:function(t){return K.hasData(t)||Y.hasData(t)},data:function(t,e,i){return K.access(t,e,i)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,i){return Y.access(t,e,i)},_removeData:function(t,e){Y.remove(t,e)}}),x.fn.extend({data:function(i,t){var e,n,r,s=this[0],o=s&&s.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){K.set(this,i)}):H(this,function(t){var e;return s&&void 0===t?void 0!==(e=K.get(s,i))||void 0!==(e=J(s,i))?e:void 0:void this.each(function(){K.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=K.get(s),1===s.nodeType&&!Y.get(s,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(n=o[e].name).indexOf("data-")&&(n=V(n.slice(5)),J(s,n,r[n]));Y.set(s,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){K.remove(this,t)})}}),x.extend({queue:function(t,e,i){var n;if(t)return n=Y.get(t,e=(e||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=Y.access(t,e,x.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=x.queue(t,e),n=i.length,r=i.shift(),s=x._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,function(){x.dequeue(t,e)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Y.get(t,i)||Y.access(t,i,{empty:x.Callbacks("once memory").add(function(){Y.remove(t,[e+"queue",i])})})}}),x.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?x.queue(this[0],e):void 0===i?this:this.each(function(){var t=x.queue(this,e,i);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(t){return this.each(function(){x.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--r||s.resolveWith(o,[o])}var n,r=1,s=x.Deferred(),o=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Y.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(i));return i(),s.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],nt=S.documentElement,rt=function(t){return x.contains(t.ownerDocument,t)},st={composed:!0};nt.getRootNode&&(rt=function(t){return x.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});function ot(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===x.css(t,"display")}function at(t,e,i,n){var r,s,o=20,a=n?function(){return n.cur()}:function(){return x.css(t,e,"")},l=a(),c=i&&i[3]||(x.cssNumber[e]?"":"px"),u=t.nodeType&&(x.cssNumber[e]||"px"!==c&&+l)&&et.exec(x.css(t,e));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;o--;)x.style(t,e,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),u/=s;x.style(t,e,(u*=2)+c),i=i||[]}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}var lt={};function ct(t,e){for(var i,n,r,s,o,a=[],l=0,c=t.length;l<c;l++)(n=t[l]).style&&(i=n.style.display,e?("none"===i&&(a[l]=Y.get(n,"display")||null,a[l]||(n.style.display="")),""===n.style.display&&ot(n)&&(a[l]=(o=s=void 0,s=(r=n).ownerDocument,o=r.nodeName,(r=lt[o])||(s=s.body.appendChild(s.createElement(o)),r=x.css(s,"display"),s.parentNode.removeChild(s),lt[o]=r="none"===r?"block":r)))):"none"!==i&&(a[l]="none",Y.set(n,"display",i)));for(l=0;l<c;l++)null!=a[l]&&(t[l].style.display=a[l]);return t}x.fn.extend({show:function(){return ct(this,!0)},hide:function(){return ct(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ot(this)?x(this).show():x(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ht=/^$|^module$|\/(?:java|ecma)script/i;d=S.createDocumentFragment().appendChild(S.createElement("div")),(p=S.createElement("input")).setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),d.appendChild(p),b.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",b.option=!!d.lastChild;var pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ft(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&E(t,e)?x.merge([t],i):i}function mt(t,e){for(var i=0,n=t.length;i<n;i++)Y.set(t[i],"globalEval",!e||Y.get(e[i],"globalEval"))}pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td,b.option||(pt.optgroup=pt.option=[1,"<select multiple='multiple'>","</select>"]);var gt=/<|&#?\w+;/;function yt(t,e,i,n,r){for(var s,o,a,l,c,u=e.createDocumentFragment(),d=[],h=0,p=t.length;h<p;h++)if((s=t[h])||0===s)if("object"===f(s))x.merge(d,s.nodeType?[s]:s);else if(gt.test(s)){for(o=o||u.appendChild(e.createElement("div")),a=(dt.exec(s)||["",""])[1].toLowerCase(),a=pt[a]||pt._default,o.innerHTML=a[1]+x.htmlPrefilter(s)+a[2],c=a[0];c--;)o=o.lastChild;x.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(e.createTextNode(s));for(u.textContent="",h=0;s=d[h++];)if(n&&-1<x.inArray(s,n))r&&r.push(s);else if(l=rt(s),o=ft(u.appendChild(s),"script"),l&&mt(o),i)for(c=0;s=o[c++];)ht.test(s.type||"")&&i.push(s);return u}var vt=/^([^.]*)(?:\.(.+)|)/;function bt(){return!0}function _t(){return!1}function Tt(t,e){return t===function(){try{return S.activeElement}catch(t){}}()==("focus"===e)}function wt(t,e,i,n,r,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)wt(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=_t;else if(!r)return t;return 1===s&&(o=r,(r=function(t){return x().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=x.guid++)),t.each(function(){x.event.add(this,e,r,n,i)})}function St(t,r,s){s?(Y.set(t,r,!1),x.event.add(t,r,{namespace:!1,handler:function(t){var e,i,n=Y.get(this,r);if(1&t.isTrigger&&this[r]){if(n.length)(x.event.special[r]||{}).delegateType&&t.stopPropagation();else if(n=a.call(arguments),Y.set(this,r,n),e=s(this,r),this[r](),n!==(i=Y.get(this,r))||e?Y.set(this,r,!1):i={},n!==i)return t.stopImmediatePropagation(),t.preventDefault(),i&&i.value}else n.length&&(Y.set(this,r,{value:x.event.trigger(x.extend(n[0],x.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,r)&&x.event.add(t,r,bt)}x.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,c,u,d,h,p,f=Y.get(e);if(G(e))for(i.handler&&(i=(s=i).handler,r=s.selector),r&&x.find.matchesSelector(nt,r),i.guid||(i.guid=x.guid++),(a=f.events)||(a=f.events=Object.create(null)),(o=f.handle)||(o=f.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(N)||[""]).length;l--;)d=p=(c=vt.exec(t[l])||[])[1],h=(c[2]||"").split(".").sort(),d&&(u=x.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=x.event.special[d]||{},c=x.extend({type:d,origType:p,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:h.join(".")},s),(p=a[d])||((p=a[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,h,o)||e.addEventListener&&e.addEventListener(d,o)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),x.event.global[d]=!0)},remove:function(t,e,i,n,r){var s,o,a,l,c,u,d,h,p,f,m,g=Y.hasData(t)&&Y.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(N)||[""]).length;c--;)if(p=m=(a=vt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=x.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)u=h[s],!r&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,g.handle)||x.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)x.event.remove(t,p+e[c],i,n,!0);x.isEmptyObject(l)&&Y.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o=new Array(arguments.length),a=x.event.fix(t),l=(Y.get(this,"events")||Object.create(null))[a.type]||[],t=x.event.special[a.type]||{};for(o[0]=a,e=1;e<arguments.length;e++)o[e]=arguments[e];if(a.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,a)){for(s=x.event.handlers.call(this,a,l),e=0;(n=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==r.namespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((x.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,o))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return t.postDispatch&&t.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,s,o,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[r=(n=e[i]).selector+" "]&&(o[r]=n.needsContext?-1<x(r,this).index(c):x.find(r,this,null,[c]).length),o[r]&&s.push(n);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return ut.test(t.type)&&t.click&&E(t,"input")&&St(t,"click",bt),!1},trigger:function(t){t=this||t;return ut.test(t.type)&&t.click&&E(t,"input")&&St(t,"click"),!0},_default:function(t){t=t.target;return ut.test(t.type)&&t.click&&E(t,"input")&&Y.get(t,"click")||E(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?bt:_t,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:_t,isPropagationStopped:_t,isImmediatePropagationStopped:_t,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=bt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=bt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=bt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(t,e){x.event.special[t]={setup:function(){return St(this,t,Tt),!1},trigger:function(){return St(this,t),!0},_default:function(){return!0},delegateType:e}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){x.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||x.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=r),e}}}),x.fn.extend({on:function(t,e,i,n){return wt(this,t,e,i,n)},one:function(t,e,i,n){return wt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,x(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=_t),this.each(function(){x.event.remove(this,t,i,e)});for(r in t)this.off(r,e,t[r]);return this}});var xt=/<script|<style|<link/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Et(t,e){return E(t,"table")&&E(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function At(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function It(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Pt(t,e){var i,n,r,s;if(1===e.nodeType){if(Y.hasData(t)&&(s=Y.get(t).events))for(r in Y.remove(e,"handle events"),s)for(i=0,n=s[r].length;i<n;i++)x.event.add(e,r,s[r][i]);K.hasData(t)&&(t=K.access(t),t=x.extend({},t),K.set(e,t))}}function Dt(i,n,r,s){n=y(n);var t,e,o,a,l,c,u=0,d=i.length,h=d-1,p=n[0],f=m(p);if(f||1<d&&"string"==typeof p&&!b.checkClone&&Ct.test(p))return i.each(function(t){var e=i.eq(t);f&&(n[0]=p.call(this,t,e.html())),Dt(e,n,r,s)});if(d&&(e=(t=yt(n,i[0].ownerDocument,!1,i,s)).firstChild,1===t.childNodes.length&&(t=e),e||s)){for(a=(o=x.map(ft(t,"script"),At)).length;u<d;u++)l=t,u!==h&&(l=x.clone(l,!0,!0),a&&x.merge(o,ft(l,"script"))),r.call(i[u],l,u);if(a)for(c=o[o.length-1].ownerDocument,x.map(o,It),u=0;u<a;u++)l=o[u],ht.test(l.type||"")&&!Y.access(l,"globalEval")&&x.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&!l.noModule&&x._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):_(l.textContent.replace(kt,""),l,c))}return i}function Ot(t,e,i){for(var n,r=e?x.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||x.cleanData(ft(n)),n.parentNode&&(i&&rt(n)&&mt(ft(n,"script")),n.parentNode.removeChild(n));return t}x.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,s,o,a,l,c,u=t.cloneNode(!0),d=rt(t);if(!(b.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(o=ft(u),n=0,r=(s=ft(t)).length;n<r;n++)a=s[n],l=o[n],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&ut.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(i)for(s=s||ft(t),o=o||ft(u),n=0,r=s.length;n<r;n++)Pt(s[n],o[n]);else Pt(t,u);return 0<(o=ft(u,"script")).length&&mt(o,!d&&ft(t,"script")),u},cleanData:function(t){for(var e,i,n,r=x.event.special,s=0;void 0!==(i=t[s]);s++)if(G(i)){if(e=i[Y.expando]){if(e.events)for(n in e.events)r[n]?x.event.remove(i,n):x.removeEvent(i,n,e.handle);i[Y.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),x.fn.extend({detach:function(t){return Ot(this,t,!0)},remove:function(t){return Ot(this,t)},text:function(t){return H(this,function(t){return void 0===t?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Dt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Et(this,t).appendChild(t)})},prepend:function(){return Dt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Et(this,t)).insertBefore(t,e.firstChild)})},before:function(){return Dt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Dt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return x.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!xt.test(t)&&!pt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(x.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Dt(this,arguments,function(t){var e=this.parentNode;x.inArray(this,i)<0&&(x.cleanData(ft(this)),e&&e.replaceChild(t,this))},i)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){x.fn[t]=function(t){for(var e,i=[],n=x(t),r=n.length-1,s=0;s<=r;s++)e=s===r?this:this.clone(!0),x(n[s])[o](e),l.apply(i,e.get());return this.pushStack(i)}});function Lt(t){var e=t.ownerDocument.defaultView;return(e=!e||!e.opener?w:e).getComputedStyle(t)}function Mt(t,e,i){var n,r={};for(n in e)r[n]=t.style[n],t.style[n]=e[n];for(n in i=i.call(t),e)t.style[n]=r[n];return i}var Nt,Rt,Ft,jt,Ut,Bt,$t,Ht,qt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Wt=new RegExp(it.join("|"),"i");function zt(){var t;Ht&&($t.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ht.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild($t).appendChild(Ht),t=w.getComputedStyle(Ht),Nt="1%"!==t.top,Bt=12===Vt(t.marginLeft),Ht.style.right="60%",jt=36===Vt(t.right),Rt=36===Vt(t.width),Ht.style.position="absolute",Ft=12===Vt(Ht.offsetWidth/3),nt.removeChild($t),Ht=null)}function Vt(t){return Math.round(parseFloat(t))}function Gt(t,e,i){var n,r,s=t.style;return(i=i||Lt(t))&&(""!==(r=i.getPropertyValue(e)||i[e])||rt(t)||(r=x.style(t,e)),!b.pixelBoxStyles()&&qt.test(r)&&Wt.test(e)&&(n=s.width,t=s.minWidth,e=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=i.width,s.width=n,s.minWidth=t,s.maxWidth=e)),void 0!==r?r+"":r}function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}$t=S.createElement("div"),(Ht=S.createElement("div")).style&&(Ht.style.backgroundClip="content-box",Ht.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===Ht.style.backgroundClip,x.extend(b,{boxSizingReliable:function(){return zt(),Rt},pixelBoxStyles:function(){return zt(),jt},pixelPosition:function(){return zt(),Nt},reliableMarginLeft:function(){return zt(),Bt},scrollboxSize:function(){return zt(),Ft},reliableTrDimensions:function(){var t,e,i;return null==Ut&&(t=S.createElement("table"),e=S.createElement("tr"),i=S.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",nt.appendChild(t).appendChild(e).appendChild(i),i=w.getComputedStyle(e),Ut=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,nt.removeChild(t)),Ut}}));var Yt=["Webkit","Moz","ms"],Kt=S.createElement("div").style,Qt={};function Zt(t){var e=x.cssProps[t]||Qt[t];return e||(t in Kt?t:Qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Yt.length;i--;)if((t=Yt[i]+e)in Kt)return t}(t)||t)}var Jt=/^(none|table(?!-c[ea]).+)/,te=/^--/,ee={position:"absolute",visibility:"hidden",display:"block"},ie={letterSpacing:"0",fontWeight:"400"};function ne(t,e,i){var n=et.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function re(t,e,i,n,r,s){var o="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=x.css(t,i+it[o],!0,r)),n?("content"===i&&(l-=x.css(t,"padding"+it[o],!0,r)),"margin"!==i&&(l-=x.css(t,"border"+it[o]+"Width",!0,r))):(l+=x.css(t,"padding"+it[o],!0,r),"padding"!==i?l+=x.css(t,"border"+it[o]+"Width",!0,r):a+=x.css(t,"border"+it[o]+"Width",!0,r));return!n&&0<=s&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))||0),l}function se(t,e,i){var n=Lt(t),r=(!b.boxSizingReliable()||i)&&"border-box"===x.css(t,"boxSizing",!1,n),s=r,o=Gt(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(qt.test(o)){if(!i)return o;o="auto"}return(!b.boxSizingReliable()&&r||!b.reliableTrDimensions()&&E(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===x.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===x.css(t,"boxSizing",!1,n),(s=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+re(t,e,i||(r?"border":"content"),s,n,o)+"px"}function oe(t,e,i,n,r){return new oe.prototype.init(t,e,i,n,r)}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){t=Gt(t,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=V(e),l=te.test(e),c=t.style;if(l||(e=Zt(a)),o=x.cssHooks[e]||x.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:c[e];"string"===(s=typeof i)&&(r=et.exec(i))&&r[1]&&(i=at(t,e,r),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=r&&r[3]||(x.cssNumber[a]?"":"px")),b.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var r,s=V(e);return te.test(e)||(e=Zt(s)),"normal"===(r=void 0===(r=(s=x.cssHooks[e]||x.cssHooks[s])&&"get"in s?s.get(t,!0,i):r)?Gt(t,e,n):r)&&e in ie&&(r=ie[e]),""===i||i?(e=parseFloat(r),!0===i||isFinite(e)?e||0:r):r}}),x.each(["height","width"],function(t,a){x.cssHooks[a]={get:function(t,e,i){if(e)return!Jt.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?se(t,a,i):Mt(t,ee,function(){return se(t,a,i)})},set:function(t,e,i){var n,r=Lt(t),s=!b.scrollboxSize()&&"absolute"===r.position,o=(s||i)&&"border-box"===x.css(t,"boxSizing",!1,r),i=i?re(t,a,i,o,r):0;return o&&s&&(i-=Math.ceil(t["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(r[a])-re(t,a,"border",!1,r)-.5)),i&&(n=et.exec(e))&&"px"!==(n[3]||"px")&&(t.style[a]=e,e=x.css(t,a)),ne(0,e,i)}}}),x.cssHooks.marginLeft=Xt(b.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Gt(t,"marginLeft"))||t.getBoundingClientRect().left-Mt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(r,s){x.cssHooks[r+s]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[r+it[e]+s]=n[e]||n[e-2]||n[0];return i}},"margin"!==r&&(x.cssHooks[r+s].set=ne)}),x.fn.extend({css:function(t,e){return H(this,function(t,e,i){var n,r,s={},o=0;if(Array.isArray(e)){for(n=Lt(t),r=e.length;o<r;o++)s[e[o]]=x.css(t,e[o],!1,n);return s}return void 0!==i?x.style(t,e,i):x.css(t,e)},t,e,1<arguments.length)}}),((x.Tween=oe).prototype={constructor:oe,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||x.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(x.cssNumber[i]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return(t&&t.get?t:oe.propHooks._default).get(this)},run:function(t){var e,i=oe.propHooks[this.prop];return this.options.duration?this.pos=e=x.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:oe.propHooks._default).set(this),this}}).init.prototype=oe.prototype,(oe.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=x.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){x.fx.step[t.prop]?x.fx.step[t.prop](t):1!==t.elem.nodeType||!x.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:x.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},x.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},x.fx=oe.prototype.init,x.fx.step={};var ae,le,ce=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function de(){le&&(!1===S.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(de):w.setTimeout(de,x.fx.interval),x.fx.tick())}function he(){return w.setTimeout(function(){ae=void 0}),ae=Date.now()}function pe(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=it[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function fe(t,e,i){for(var n,r=(me.tweeners[e]||[]).concat(me.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function me(r,t,e){var i,s,n=0,o=me.prefilters.length,a=x.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=ae||he(),t=Math.max(0,c.startTime+c.duration-t),e=1-(t/c.duration||0),i=0,n=c.tweens.length;i<n;i++)c.tweens[i].run(e);return a.notifyWith(r,[c,e,t]),e<1&&n?t:(n||a.notifyWith(r,[c,1,0]),a.resolveWith(r,[c]),!1)},c=a.promise({elem:r,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},e),originalProperties:t,originalOptions:e,startTime:ae||he(),duration:e.duration,tweens:[],createTween:function(t,e){t=x.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(t),t},stop:function(t){var e=0,i=t?c.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)c.tweens[e].run(1);return t?(a.notifyWith(r,[c,1,0]),a.resolveWith(r,[c,t])):a.rejectWith(r,[c,t]),this}}),u=c.props;for(!function(t,e){var i,n,r,s,o;for(i in t)if(r=e[n=V(i)],s=t[i],Array.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=x.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=r);else e[n]=r}(u,c.opts.specialEasing);n<o;n++)if(i=me.prefilters[n].call(c,r,u,c.opts))return m(i.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return x.map(u,fe,c),m(c.opts.start)&&c.opts.start.call(r,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(me,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return at(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){for(var i,n=0,r=(t=m(t)?(e=t,["*"]):t.match(N)).length;n<r;n++)i=t[n],me.tweeners[i]=me.tweeners[i]||[],me.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,s,o,a,l,c,u="width"in e||"height"in e,d=this,h={},p=t.style,f=t.nodeType&&ot(t),m=Y.get(t,"fxshow");for(n in i.queue||(null==(o=x._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,x.queue(t,"fx").length||o.empty.fire()})})),e)if(r=e[n],ce.test(r)){if(delete e[n],s=s||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;f=!0}h[n]=m&&m[n]||x.style(t,n)}if((l=!x.isEmptyObject(e))||!x.isEmptyObject(h))for(n in u&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=Y.get(t,"display")),"none"===(u=x.css(t,"display"))&&(c?u=c:(ct([t],!0),c=t.style.display||c,u=x.css(t,"display"),ct([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===x.css(t,"float")&&(l||(d.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,h)l||(m?"hidden"in m&&(f=m.hidden):m=Y.access(t,"fxshow",{display:c}),s&&(m.hidden=!f),f&&ct([t],!0),d.done(function(){for(n in f||ct([t]),Y.remove(t,"fxshow"),h)x.style(t,n,h[n])})),l=fe(f?m[n]:0,n,d),n in m||(m[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?me.prefilters.unshift(t):me.prefilters.push(t)}}),x.speed=function(t,e,i){var n=t&&"object"==typeof t?x.extend({},t):{complete:i||!i&&e||m(t)&&t,duration:t,easing:i&&e||e&&!m(e)&&e};return x.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in x.fx.speeds?n.duration=x.fx.speeds[n.duration]:n.duration=x.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&x.dequeue(this,n.queue)},n},x.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){var r=x.isEmptyObject(e),s=x.speed(t,i,n),n=function(){var t=me(this,x.extend({},e),s);(r||Y.get(this,"finish"))&&t.stop(!0)};return n.finish=n,r||!1===s.queue?this.each(n):this.queue(s.queue,n)},stop:function(r,t,s){function o(t){var e=t.stop;delete t.stop,e(s)}return"string"!=typeof r&&(s=t,t=r,r=void 0),t&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",i=x.timers,n=Y.get(this);if(e)n[e]&&n[e].stop&&o(n[e]);else for(e in n)n[e]&&n[e].stop&&ue.test(e)&&o(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=r&&i[e].queue!==r||(i[e].anim.stop(s),t=!1,i.splice(e,1));!t&&s||x.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=Y.get(this),i=e[o+"queue"],n=e[o+"queueHooks"],r=x.timers,s=i?i.length:0;for(e.finish=!0,x.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===o&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),x.each(["toggle","show","hide"],function(t,n){var r=x.fn[n];x.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(pe(n,!0),t,e,i)}}),x.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){x.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),x.timers=[],x.fx.tick=function(){var t,e=0,i=x.timers;for(ae=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||x.fx.stop(),ae=void 0},x.fx.timer=function(t){x.timers.push(t),x.fx.start()},x.fx.interval=13,x.fx.start=function(){le||(le=!0,de())},x.fx.stop=function(){le=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(n,t){return n=x.fx&&x.fx.speeds[n]||n,this.queue(t=t||"fx",function(t,e){var i=w.setTimeout(t,n);e.stop=function(){w.clearTimeout(i)}})},d=S.createElement("input"),tt=S.createElement("select").appendChild(S.createElement("option")),d.type="checkbox",b.checkOn=""!==d.value,b.optSelected=tt.selected,(d=S.createElement("input")).value="t",d.type="radio",b.radioValue="t"===d.value;var ge,ye=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return H(this,x.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){x.removeAttr(this,t)})}}),x.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?x.prop(t,e,i):(1===s&&x.isXMLDoc(t)||(r=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?ge:void 0)),void 0!==i?null===i?void x.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):!(r&&"get"in r&&null!==(n=r.get(t,e)))&&null==(n=x.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!b.radioValue&&"radio"===e&&E(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(N);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),ge={set:function(t,e,i){return!1===e?x.removeAttr(t,i):t.setAttribute(i,i),i}},x.each(x.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ye[e]||x.find.attr;ye[e]=function(t,e,i){var n,r,s=e.toLowerCase();return i||(r=ye[s],ye[s]=n,n=null!=o(t,e,i)?s:null,ye[s]=r),n}});var ve=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;function _e(t){return(t.match(N)||[]).join(" ")}function Te(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}x.fn.extend({prop:function(t,e){return H(this,x.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[x.propFix[t]||t]})}}),x.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&x.isXMLDoc(t)||(e=x.propFix[e]||e,r=x.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(x.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(e){var t,i,n,r,s,o,a=0;if(m(e))return this.each(function(t){x(this).addClass(e.call(this,t,Te(this)))});if((t=we(e)).length)for(;i=this[a++];)if(o=Te(i),n=1===i.nodeType&&" "+_e(o)+" "){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(o=_e(n))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,n,r,s,o,a=0;if(m(e))return this.each(function(t){x(this).removeClass(e.call(this,t,Te(this)))});if(!arguments.length)return this.attr("class","");if((t=we(e)).length)for(;i=this[a++];)if(o=Te(i),n=1===i.nodeType&&" "+_e(o)+" "){for(s=0;r=t[s++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");o!==(o=_e(n))&&i.setAttribute("class",o)}return this},toggleClass:function(r,e){var s=typeof r,o="string"==s||Array.isArray(r);return"boolean"==typeof e&&o?e?this.addClass(r):this.removeClass(r):m(r)?this.each(function(t){x(this).toggleClass(r.call(this,t,Te(this),e),e)}):this.each(function(){var t,e,i,n;if(o)for(e=0,i=x(this),n=we(r);t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==r&&"boolean"!=s||((t=Te(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==r&&Y.get(this,"__className__")||""))})},hasClass:function(t){for(var e,i=0,n=" "+t+" ";e=this[i++];)if(1===e.nodeType&&-1<(" "+_e(Te(e))+" ").indexOf(n))return!0;return!1}});var Se=/\r/g;x.fn.extend({val:function(e){var i,t,n,r=this[0];return arguments.length?(n=m(e),this.each(function(t){1===this.nodeType&&(null==(t=n?e.call(this,t,x(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=x.map(t,function(t){return null==t?"":t+""})),(i=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):r?(i=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(r,"value"))?t:"string"==typeof(t=r.value)?t.replace(Se,""):null==t?"":t:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:_e(x.text(t))}},select:{get:function(t){for(var e,i=t.options,n=t.selectedIndex,r="select-one"===t.type,s=r?null:[],o=r?n+1:i.length,a=n<0?o:r?n:0;a<o;a++)if(((e=i[a]).selected||a===n)&&!e.disabled&&(!e.parentNode.disabled||!E(e.parentNode,"optgroup"))){if(e=x(e).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,s=x.makeArray(e),o=r.length;o--;)((n=r[o]).selected=-1<x.inArray(x.valHooks.option.get(n),s))&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<x.inArray(x(t).val(),e)}},b.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),b.focusin="onfocusin"in w;function xe(t){t.stopPropagation()}var Ce=/^(?:focusinfocus|focusoutblur)$/;x.extend(x.event,{trigger:function(t,e,i,n){var r,s,o,a,l,c,u,d=[i||S],h=v.call(t,"type")?t.type:t,p=v.call(t,"namespace")?t.namespace.split("."):[],f=u=s=i=i||S;if(3!==i.nodeType&&8!==i.nodeType&&!Ce.test(h+x.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,(t=t[x.expando]?t:new x.Event(h,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:x.makeArray(e,[t]),c=x.event.special[h]||{},n||!c.trigger||!1!==c.trigger.apply(i,e))){if(!n&&!c.noBubble&&!g(i)){for(o=c.delegateType||h,Ce.test(o+h)||(f=f.parentNode);f;f=f.parentNode)d.push(f),s=f;s===(i.ownerDocument||S)&&d.push(s.defaultView||s.parentWindow||w)}for(r=0;(f=d[r++])&&!t.isPropagationStopped();)u=f,t.type=1<r?o:c.bindType||h,(l=(Y.get(f,"events")||Object.create(null))[t.type]&&Y.get(f,"handle"))&&l.apply(f,e),(l=a&&f[a])&&l.apply&&G(f)&&(t.result=l.apply(f,e),!1===t.result&&t.preventDefault());return t.type=h,n||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),e)||!G(i)||a&&m(i[h])&&!g(i)&&((s=i[a])&&(i[a]=null),x.event.triggered=h,t.isPropagationStopped()&&u.addEventListener(h,xe),i[h](),t.isPropagationStopped()&&u.removeEventListener(h,xe),x.event.triggered=void 0,s&&(i[a]=s)),t.result}},simulate:function(t,e,i){t=x.extend(new x.Event,i,{type:t,isSimulated:!0});x.event.trigger(t,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each(function(){x.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return x.event.trigger(t,e,i,!0)}}),b.focusin||x.each({focus:"focusin",blur:"focusout"},function(i,n){function r(t){x.event.simulate(n,t.target,x.event.fix(t))}x.event.special[n]={setup:function(){var t=this.ownerDocument||this.document||this,e=Y.access(t,n);e||t.addEventListener(i,r,!0),Y.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=Y.access(t,n)-1;e?Y.access(t,n,e):(t.removeEventListener(i,r,!0),Y.remove(t,n))}}});var ke=w.location,Ee={guid:Date.now()},Ae=/\?/;x.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{e=(new w.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||x.error("Invalid XML: "+(i?x.map(i.childNodes,function(t){return t.textContent}).join("\n"):t)),e};var Ie=/\[\]$/,Pe=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;x.param=function(t,e){function i(t,e){e=m(e)?e():e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var n,r=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,function(){i(this.name,this.value)});else for(n in t)!function i(n,t,r,s){if(Array.isArray(t))x.each(t,function(t,e){r||Ie.test(n)?s(n,e):i(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,s)});else if(r||"object"!==f(t))s(n,t);else for(var e in t)i(n+"["+e+"]",t[e],r,s)}(n,t[n],e,i);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&Oe.test(this.nodeName)&&!De.test(t)&&(this.checked||!ut.test(t))}).map(function(t,e){var i=x(this).val();return null==i?null:Array.isArray(i)?x.map(i,function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}}):{name:e.name,value:i.replace(Pe,"\r\n")}}).get()}});var Le=/%20/g,Me=/#.*$/,Ne=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:GET|HEAD)$/,je=/^\/\//,Ue={},Be={},$e="*/".concat("*"),He=S.createElement("a");function qe(s){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,r=t.toLowerCase().match(N)||[];if(m(e))for(;i=r[n++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(e)):(s[i]=s[i]||[]).push(e)}}function We(e,n,r,s){var o={},a=e===Be;function l(t){var i;return o[t]=!0,x.each(e[t]||[],function(t,e){e=e(n,r,s);return"string"!=typeof e||a||o[e]?a?!(i=e):void 0:(n.dataTypes.unshift(e),l(e),!1)}),i}return l(n.dataTypes[0])||!o["*"]&&l("*")}function ze(t,e){var i,n,r=x.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n=n||{})[i]=e[i]);return n&&x.extend(!0,t,n),t}He.href=ke.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,x.ajaxSettings),e):ze(x.ajaxSettings,t)},ajaxPrefilter:qe(Ue),ajaxTransport:qe(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var l,c,u,i,d,h,p,n,r,f=x.ajaxSetup({},e=e||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?x(m):x.event,y=x.Deferred(),v=x.Callbacks("once memory"),b=f.statusCode||{},s={},o={},a="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(h){if(!i)for(i={};e=Re.exec(u);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return h?u:null},setRequestHeader:function(t,e){return null==h&&(t=o[t.toLowerCase()]=o[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==h&&(f.mimeType=t),this},statusCode:function(t){if(t)if(h)_.always(t[_.status]);else for(var e in t)b[e]=[b[e],t[e]];return this},abort:function(t){t=t||a;return l&&l.abort(t),T(0,t),this}};if(y.promise(_),f.url=((t||f.url||ke.href)+"").replace(je,ke.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){r=S.createElement("a");try{r.href=f.url,r.href=r.href,f.crossDomain=He.protocol+"//"+He.host!=r.protocol+"//"+r.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=x.param(f.data,f.traditional)),We(Ue,f,e,_),h)return _;for(n in(p=x.event&&f.global)&&0==x.active++&&x.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Fe.test(f.type),c=f.url.replace(Me,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Le,"+")):(r=f.url.slice(c.length),f.data&&(f.processData||"string"==typeof f.data)&&(c+=(Ae.test(c)?"&":"?")+f.data,delete f.data),!1===f.cache&&(c=c.replace(Ne,"$1"),r=(Ae.test(c)?"&":"?")+"_="+Ee.guid+++r),f.url=c+r),f.ifModified&&(x.lastModified[c]&&_.setRequestHeader("If-Modified-Since",x.lastModified[c]),x.etag[c]&&_.setRequestHeader("If-None-Match",x.etag[c])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+$e+"; q=0.01":""):f.accepts["*"]),f.headers)_.setRequestHeader(n,f.headers[n]);if(f.beforeSend&&(!1===f.beforeSend.call(m,_,f)||h))return _.abort();if(a="abort",v.add(f.complete),_.done(f.success),_.fail(f.error),l=We(Be,f,e,_)){if(_.readyState=1,p&&g.trigger("ajaxSend",[_,f]),h)return _;f.async&&0<f.timeout&&(d=w.setTimeout(function(){_.abort("timeout")},f.timeout));try{h=!1,l.send(s,T)}catch(t){if(h)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,i,n){var r,s,o,a=e;h||(h=!0,d&&w.clearTimeout(d),l=void 0,u=n||"",_.readyState=0<t?4:0,n=200<=t&&t<300||304===t,i&&(o=function(t,e,i){for(var n,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o=o||r}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(f,_,i)),!n&&-1<x.inArray("script",f.dataTypes)&&x.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),o=function(t,e,i,n){var r,s,o,a,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(r in c)if((a=r.split(" "))[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(f,o,_,n),n?(f.ifModified&&((i=_.getResponseHeader("Last-Modified"))&&(x.lastModified[c]=i),(i=_.getResponseHeader("etag"))&&(x.etag[c]=i)),204===t||"HEAD"===f.type?a="nocontent":304===t?a="notmodified":(a=o.state,r=o.data,n=!(s=o.error))):(s=a,!t&&a||(a="error",t<0&&(t=0))),_.status=t,_.statusText=(e||a)+"",n?y.resolveWith(m,[r,a,_]):y.rejectWith(m,[_,a,s]),_.statusCode(b),b=void 0,p&&g.trigger(n?"ajaxSuccess":"ajaxError",[_,f,n?r:s]),v.fireWith(m,[_,a]),p&&(g.trigger("ajaxComplete",[_,f]),--x.active||x.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,i){return x.get(t,e,i,"json")},getScript:function(t,e){return x.get(t,void 0,e,"script")}}),x.each(["get","post"],function(t,r){x[r]=function(t,e,i,n){return m(e)&&(n=n||i,i=e,e=void 0),x.ajax(x.extend({url:t,type:r,dataType:n,data:e,success:i},x.isPlainObject(t)&&t))}}),x.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),x._evalUrl=function(t,e,i){return x.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){x.globalEval(t,e,i)}})},x.fn.extend({wrapAll:function(t){return this[0]&&(m(t)&&(t=t.call(this[0])),t=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return m(i)?this.each(function(t){x(this).wrapInner(i.call(this,t))}):this.each(function(){var t=x(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=m(e);return this.each(function(t){x(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},Ge=x.ajaxSettings.xhr();b.cors=!!Ge&&"withCredentials"in Ge,b.ajax=Ge=!!Ge,x.ajaxTransport(function(r){var s,o;if(b.cors||Ge&&!r.crossDomain)return{send:function(t,e){var i,n=r.xhr();if(n.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(i in r.xhrFields)n[i]=r.xhrFields[i];for(i in r.mimeType&&n.overrideMimeType&&n.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);s=function(t){return function(){s&&(s=o=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(Ve[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=s(),o=n.onerror=n.ontimeout=s("error"),void 0!==n.onabort?n.onabort=o:n.onreadystatechange=function(){4===n.readyState&&w.setTimeout(function(){s&&o()})},s=s("abort");try{n.send(r.hasContent&&r.data||null)}catch(t){if(s)throw t}},abort:function(){s&&s()}}}),x.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return x.globalEval(t),t}}}),x.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),x.ajaxTransport("script",function(i){var n,r;if(i.crossDomain||i.scriptAttrs)return{send:function(t,e){n=x("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",r=function(t){n.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(n[0])},abort:function(){r&&r()}}});var Xe=[],Ye=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||x.expando+"_"+Ee.guid++;return this[t]=!0,t}}),x.ajaxPrefilter("json jsonp",function(t,e,i){var n,r,s,o=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Ye,"$1"+n):!1!==t.jsonp&&(t.url+=(Ae.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||x.error(n+" was not called"),s[0]},t.dataTypes[0]="json",r=w[n],w[n]=function(){s=arguments},i.always(function(){void 0===r?x(w).removeProp(n):w[n]=r,t[n]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(n)),s&&m(r)&&r(s[0]),s=r=void 0}),"script"}),b.createHTMLDocument=((d=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===d.childNodes.length),x.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(b.createHTMLDocument?((n=(e=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,e.head.appendChild(n)):e=S),n=!i&&[],(i=A.exec(t))?[e.createElement(i[1])]:(i=yt([t],e,n),n&&n.length&&x(n).remove(),x.merge([],i.childNodes)));var n},x.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return-1<a&&(n=_e(t.slice(a)),t=t.slice(0,a)),m(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<o.length&&x.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?x("<div>").append(x.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},x.expr.pseudos.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length},x.offset={setOffset:function(t,e,i){var n,r,s,o,a=x.css(t,"position"),l=x(t),c={};"static"===a&&(t.style.position="relative"),s=l.offset(),n=x.css(t,"top"),o=x.css(t,"left"),o=("absolute"===a||"fixed"===a)&&-1<(n+o).indexOf("auto")?(r=(a=l.position()).top,a.left):(r=parseFloat(n)||0,parseFloat(o)||0),null!=(e=m(e)?e.call(t,i,x.extend({},s)):e).top&&(c.top=e.top-s.top+r),null!=e.left&&(c.left=e.left-s.left+o),"using"in e?e.using.call(t,c):l.css(c)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),i=i.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===x.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),r.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-x.css(n,"marginTop",!0),left:e.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||nt})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var s="pageYOffset"===r;x.fn[e]=function(t){return H(this,function(t,e,i){var n;return g(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===i?n?n[r]:t[e]:void(n?n.scrollTo(s?n.pageXOffset:i,s?i:n.pageYOffset):t[e]=i)},e,t,arguments.length)}}),x.each(["top","left"],function(t,i){x.cssHooks[i]=Xt(b.pixelPosition,function(t,e){if(e)return e=Gt(t,i),qt.test(e)?x(t).position()[i]+"px":e})}),x.each({Height:"height",Width:"width"},function(o,a){x.each({padding:"inner"+o,content:a,"":"outer"+o},function(n,s){x.fn[s]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),r=n||(!0===t||!0===e?"margin":"border");return H(this,function(t,e,i){var n;return g(t)?0===s.indexOf("outer")?t["inner"+o]:t.document.documentElement["client"+o]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+o],n["scroll"+o],t.body["offset"+o],n["offset"+o],n["client"+o])):void 0===i?x.css(t,e,r):x.style(t,e,i,r)},a,i?t:void 0,i)}})}),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){x.fn[e]=function(t){return this.on(e,t)}}),x.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){x.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}});var Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(t,e){var i,n;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=a.call(arguments,2),(n=function(){return t.apply(e||this,i.concat(a.call(arguments)))}).guid=t.guid=t.guid||x.guid++,n},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=E,x.isFunction=m,x.isWindow=g,x.camelCase=V,x.type=f,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},x.trim=function(t){return null==t?"":(t+"").replace(Ke,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return x});var Qe=w.jQuery,Ze=w.$;return x.noConflict=function(t){return w.$===x&&(w.$=Ze),t&&w.jQuery===x&&(w.jQuery=Qe),x},void 0===t&&(w.jQuery=w.$=x),x}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(c){"use strict";var n,o=window.Slick||{};n=0,(o=function(t,e){var i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(t),appendDots:c(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return c('<button type="button" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=c(t),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,t=c(t).data("slick")||{},i.options=c.extend({},i.defaults,e,t),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,void 0!==document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=c.proxy(i.autoPlay,i),i.autoPlayClear=c.proxy(i.autoPlayClear,i),i.autoPlayIterator=c.proxy(i.autoPlayIterator,i),i.changeSlide=c.proxy(i.changeSlide,i),i.clickHandler=c.proxy(i.clickHandler,i),i.selectHandler=c.proxy(i.selectHandler,i),i.setPosition=c.proxy(i.setPosition,i),i.swipeHandler=c.proxy(i.swipeHandler,i),i.dragHandler=c.proxy(i.dragHandler,i),i.keyHandler=c.proxy(i.keyHandler,i),i.instanceUid=n++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},o.prototype.addSlide=o.prototype.slickAdd=function(t,e,i){var n=this;if("boolean"==typeof e)i=e,e=null;else if(e<0||e>=n.slideCount)return!1;n.unload(),"number"==typeof e?0===e&&0===n.$slides.length?c(t).appendTo(n.$slideTrack):i?c(t).insertBefore(n.$slides.eq(e)):c(t).insertAfter(n.$slides.eq(e)):!0===i?c(t).prependTo(n.$slideTrack):c(t).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(t,e){c(e).attr("data-slick-index",t)}),n.$slidesCache=n.$slides,n.reinit()},o.prototype.animateHeight=function(){var t,e=this;1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical&&(t=e.$slides.eq(e.currentSlide).outerHeight(!0),e.$list.animate({height:t},e.options.speed))},o.prototype.animateSlide=function(t,e){var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(t=-t),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:t},n.options.speed,n.options.easing,e):n.$slideTrack.animate({top:t},n.options.speed,n.options.easing,e):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),c({animStart:n.currentLeft}).animate({animStart:t},{duration:n.options.speed,easing:n.options.easing,step:function(t){t=Math.ceil(t),!1===n.options.vertical?i[n.animType]="translate("+t+"px, 0px)":i[n.animType]="translate(0px,"+t+"px)",n.$slideTrack.css(i)},complete:function(){e&&e.call()}})):(n.applyTransition(),t=Math.ceil(t),!1===n.options.vertical?i[n.animType]="translate3d("+t+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+t+"px, 0px)",n.$slideTrack.css(i),e&&setTimeout(function(){n.disableTransition(),e.call()},n.options.speed))},o.prototype.getNavTarget=function(){var t=this.options.asNavFor;return t=t&&null!==t?c(t).not(this.$slider):t},o.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=c(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},o.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,(!1===e.options.fade?e.$slideTrack:e.$slides.eq(t)).css(i)},o.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},o.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},o.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},o.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=c(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=c(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},o.prototype.buildDots=function(){var t,e,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),e=c("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)e.append(c("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=e.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},o.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){c(e).attr("data-slick-index",t).data("originalStyling",c(e).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?c('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),c("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},o.prototype.buildRows=function(){var t,e,i,n=this,r=document.createDocumentFragment(),s=n.$slider.children();if(0<n.options.rows){for(i=n.options.slidesPerRow*n.options.rows,e=Math.ceil(s.length/i),t=0;t<e;t++){for(var o=document.createElement("div"),a=0;a<n.options.rows;a++){for(var l=document.createElement("div"),c=0;c<n.options.slidesPerRow;c++){var u=t*i+(a*n.options.slidesPerRow+c);s.get(u)&&l.appendChild(s.get(u))}o.appendChild(l)}r.appendChild(o)}n.$slider.empty().append(r),n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}},o.prototype.checkResponsive=function(t,e){var i,n,r,s=this,o=!1,a=s.$slider.width(),l=window.innerWidth||c(window).width();if("window"===s.respondTo?r=l:"slider"===s.respondTo?r=a:"min"===s.respondTo&&(r=Math.min(l,a)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){for(i in n=null,s.breakpoints)s.breakpoints.hasOwnProperty(i)&&(!1===s.originalSettings.mobileFirst?r<s.breakpoints[i]&&(n=s.breakpoints[i]):r>s.breakpoints[i]&&(n=s.breakpoints[i]));null!==n?null!==s.activeBreakpoint&&n===s.activeBreakpoint&&!e||(s.activeBreakpoint=n,"unslick"===s.breakpointSettings[n]?s.unslick(n):(s.options=c.extend({},s.originalSettings,s.breakpointSettings[n]),!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),o=n):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t),o=n),t||!1===o||s.$slider.trigger("breakpoint",[s,o])}},o.prototype.changeSlide=function(t,e){var i,n=this,r=c(t.currentTarget);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),i=n.slideCount%n.options.slidesToScroll!=0?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,t.data.message){case"previous":s=0==i?n.options.slidesToScroll:n.options.slidesToShow-i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-s,!1,e);break;case"next":s=0==i?n.options.slidesToScroll:i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+s,!1,e);break;case"index":var s=0===t.data.index?0:t.data.index||r.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(s),!1,e),r.children().trigger("focus");break;default:return}},o.prototype.checkNavigable=function(t){var e=this.getNavigableIndexes(),i=0;if(t>e[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},o.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(c("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",c.proxy(t.interrupt,t,!0)).off("mouseleave.slick",c.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),c(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().off("click.slick",t.selectHandler),c(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),c(window).off("resize.slick.slick-"+t.instanceUid,t.resize),c("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),c(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},o.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",c.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",c.proxy(t.interrupt,t,!1))},o.prototype.cleanUpRows=function(){var t;0<this.options.rows&&((t=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(t))},o.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},o.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),c(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},o.prototype.disableTransition=function(t){var e={};e[this.transitionType]="",(!1===this.options.fade?this.$slideTrack:this.$slides.eq(t)).css(e)},o.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},o.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},o.prototype.filterSlides=o.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},o.prototype.focusHandler=function(){var i=this;i.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var e=c(this);setTimeout(function(){i.options.pauseOnFocus&&(i.focussed=e.is(":focus"),i.autoPlay())},0)})},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){return this.currentSlide},o.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++n;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},o.prototype.getLeft=function(t){var e,i,n=this,r=0;return n.slideOffset=0,e=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,i=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?i=-1.5:1===n.options.slidesToShow&&(i=-2)),r=e*n.options.slidesToShow*i),n.slideCount%n.options.slidesToScroll!=0&&t+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(r=t>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(t-n.slideCount))*n.slideWidth*-1,(n.options.slidesToShow-(t-n.slideCount))*e*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,n.slideCount%n.options.slidesToScroll*e*-1))):t+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(t+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(t+n.options.slidesToShow-n.slideCount)*e),n.slideCount<=n.options.slidesToShow&&(r=n.slideOffset=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?t*n.slideWidth*-1+n.slideOffset:t*e*-1+r,!0===n.options.variableWidth&&(r=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow),e=!0===n.options.rtl?r[0]?-1*(n.$slideTrack.width()-r[0].offsetLeft-r.width()):0:r[0]?-1*r[0].offsetLeft:0,!0===n.options.centerMode&&(r=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow+1),e=!0===n.options.rtl?r[0]?-1*(n.$slideTrack.width()-r[0].offsetLeft-r.width()):0:r[0]?-1*r[0].offsetLeft:0,e+=(n.$list.width()-r.outerWidth())/2)),e},o.prototype.getOption=o.prototype.slickGetOption=function(t){return this.options[t]},o.prototype.getNavigableIndexes=function(){for(var t=this,e=0,i=0,n=[],r=!1===t.options.infinite?t.slideCount:(e=-1*t.options.slidesToScroll,i=-1*t.options.slidesToScroll,2*t.slideCount);e<r;)n.push(e),e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n},o.prototype.getSlick=function(){return this},o.prototype.getSlideCount=function(){var i,n=this,r=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0;return!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(t,e){if(e.offsetLeft-r+c(e).outerWidth()/2>-1*n.swipeLeft)return i=e,!1}),Math.abs(c(i).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},o.prototype.goTo=o.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},o.prototype.init=function(t){var e=this;c(e.$slider).hasClass("slick-initialized")||(c(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},o.prototype.initADA=function(){var i=this,n=Math.ceil(i.slideCount/i.options.slidesToShow),r=i.getNavigableIndexes().filter(function(t){return 0<=t&&t<i.slideCount});i.$slides.add(i.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==i.$dots&&(i.$slides.not(i.$slideTrack.find(".slick-cloned")).each(function(t){var e=r.indexOf(t);c(this).attr({role:"tabpanel",id:"slick-slide"+i.instanceUid+t,tabindex:-1}),-1!==e&&(e="slick-slide-control"+i.instanceUid+e,c("#"+e).length&&c(this).attr({"aria-describedby":e}))}),i.$dots.attr("role","tablist").find("li").each(function(t){var e=r[t];c(this).attr({role:"presentation"}),c(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+i.instanceUid+t,"aria-controls":"slick-slide"+i.instanceUid+e,"aria-label":t+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(i.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var t=i.currentSlide,e=t+i.options.slidesToShow;t<e;t++)i.options.focusOnChange?i.$slides.eq(t).attr({tabindex:"0"}):i.$slides.eq(t).removeAttr("tabindex");i.activateADA()},o.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},o.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&(c("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&t.slideCount>t.options.slidesToShow&&c("li",t.$dots).on("mouseenter.slick",c.proxy(t.interrupt,t,!0)).on("mouseleave.slick",c.proxy(t.interrupt,t,!1))},o.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",c.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",c.proxy(t.interrupt,t,!1)))},o.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),c(document).on(t.visibilityChange,c.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),c(window).on("orientationchange.slick.slick-"+t.instanceUid,c.proxy(t.orientationChange,t)),c(window).on("resize.slick.slick-"+t.instanceUid,c.proxy(t.resize,t)),c("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),c(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),c(t.setPosition)},o.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},o.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},o.prototype.lazyLoad=function(){var t,e,i,s=this;function n(t){c("img[data-lazy]",t).each(function(){var t=c(this),e=c(this).attr("data-lazy"),i=c(this).attr("data-srcset"),n=c(this).attr("data-sizes")||s.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){t.animate({opacity:0},100,function(){i&&(t.attr("srcset",i),n&&t.attr("sizes",n)),t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),s.$slider.trigger("lazyLoaded",[s,t,e])})},r.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,t,e])},r.src=e})}if(!0===s.options.centerMode?i=!0===s.options.infinite?(e=s.currentSlide+(s.options.slidesToShow/2+1))+s.options.slidesToShow+2:(e=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),s.options.slidesToShow/2+1+2+s.currentSlide):(e=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,i=Math.ceil(e+s.options.slidesToShow),!0===s.options.fade&&(0<e&&e--,i<=s.slideCount&&i++)),t=s.$slider.find(".slick-slide").slice(e,i),"anticipated"===s.options.lazyLoad)for(var r=e-1,o=i,a=s.$slider.find(".slick-slide"),l=0;l<s.options.slidesToScroll;l++)r<0&&(r=s.slideCount-1),t=(t=t.add(a.eq(r))).add(a.eq(o)),r--,o++;n(t),s.slideCount<=s.options.slidesToShow?n(s.$slider.find(".slick-slide")):s.currentSlide>=s.slideCount-s.options.slidesToShow?n(s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow)):0===s.currentSlide&&n(s.$slider.find(".slick-cloned").slice(-1*s.options.slidesToShow))},o.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},o.prototype.next=o.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},o.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},o.prototype.pause=o.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},o.prototype.play=o.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},o.prototype.postSlide=function(t){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.slideCount>e.options.slidesToShow&&e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&(e.initADA(),e.options.focusOnChange&&c(e.$slides.get(e.currentSlide)).attr("tabindex",0).focus()))},o.prototype.prev=o.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},o.prototype.preventDefault=function(t){t.preventDefault()},o.prototype.progressiveLazyLoad=function(t){t=t||1;var e,i,n,r,s=this,o=c("img[data-lazy]",s.$slider);o.length?(e=o.first(),i=e.attr("data-lazy"),n=e.attr("data-srcset"),r=e.attr("data-sizes")||s.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){n&&(e.attr("srcset",n),r&&e.attr("sizes",r)),e.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,e,i]),s.progressiveLazyLoad()},o.onerror=function(){t<3?setTimeout(function(){s.progressiveLazyLoad(t+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,e,i]),s.progressiveLazyLoad())},o.src=i):s.$slider.trigger("allImagesLoaded",[s])},o.prototype.refresh=function(t){var e=this,i=e.slideCount-e.options.slidesToShow;!e.options.infinite&&e.currentSlide>i&&(e.currentSlide=i),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),i=e.currentSlide,e.destroy(!0),c.extend(e,e.initials,{currentSlide:i}),e.init(),t||e.changeSlide({data:{message:"index",index:i}},!1)},o.prototype.registerBreakpoints=function(){var t,e,i,n=this,r=n.options.responsive||null;if("array"===c.type(r)&&r.length){for(t in n.respondTo=n.options.respondTo||"window",r)if(i=n.breakpoints.length-1,r.hasOwnProperty(t)){for(e=r[t].breakpoint;0<=i;)n.breakpoints[i]&&n.breakpoints[i]===e&&n.breakpoints.splice(i,1),i--;n.breakpoints.push(e),n.breakpointSettings[e]=r[t].settings}n.breakpoints.sort(function(t,e){return n.options.mobileFirst?t-e:e-t})}},o.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},o.prototype.resize=function(){var t=this;c(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=c(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},o.prototype.removeSlide=o.prototype.slickRemove=function(t,e,i){var n=this;if(t="boolean"==typeof t?!0===(e=t)?0:n.slideCount-1:!0===e?--t:t,n.slideCount<1||t<0||t>n.slideCount-1)return!1;n.unload(),(!0===i?n.$slideTrack.children():n.$slideTrack.children(this.options.slide).eq(t)).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},o.prototype.setCSS=function(t){var e,i,n=this,r={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",r[n.positionProp]=t,!1===n.transformsEnabled||(!(r={})===n.cssTransitions?r[n.animType]="translate("+e+", "+i+")":r[n.animType]="translate3d("+e+", "+i+", 0px)"),n.$slideTrack.css(r)},o.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},o.prototype.setFade=function(){var i,n=this;n.$slides.each(function(t,e){i=n.slideWidth*t*-1,!0===n.options.rtl?c(e).css({position:"relative",right:i,top:0,zIndex:n.options.zIndex-2,opacity:0}):c(e).css({position:"relative",left:i,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},o.prototype.setHeight=function(){var t,e=this;1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical&&(t=e.$slides.eq(e.currentSlide).outerHeight(!0),e.$list.css("height",t))},o.prototype.setOption=o.prototype.slickSetOption=function(){var t,e,i,n,r,s=this,o=!1;if("object"===c.type(arguments[0])?(i=arguments[0],o=arguments[1],r="multiple"):"string"===c.type(arguments[0])&&(i=arguments[0],n=arguments[1],o=arguments[2],"responsive"===arguments[0]&&"array"===c.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)s.options[i]=n;else if("multiple"===r)c.each(i,function(t,e){s.options[t]=e});else if("responsive"===r)for(e in n)if("array"!==c.type(s.options.responsive))s.options.responsive=[n[e]];else{for(t=s.options.responsive.length-1;0<=t;)s.options.responsive[t].breakpoint===n[e].breakpoint&&s.options.responsive.splice(t,1),t--;s.options.responsive.push(n[e])}o&&(s.unload(),s.reinit())},o.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},o.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},o.prototype.setSlideClasses=function(t){var e,i,n,r=this,s=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");r.$slides.eq(t).addClass("slick-current"),!0===r.options.centerMode?(i=r.options.slidesToShow%2==0?1:0,n=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(n<=t&&t<=r.slideCount-1-n?r.$slides.slice(t-n+i,t+n+1).addClass("slick-active").attr("aria-hidden","false"):(e=r.options.slidesToShow+t,s.slice(e-n+1+i,e+n+2).addClass("slick-active").attr("aria-hidden","false")),0===t?s.eq(s.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&s.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")):0<=t&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):s.length<=r.options.slidesToShow?s.addClass("slick-active").attr("aria-hidden","false"):(n=r.slideCount%r.options.slidesToShow,e=!0===r.options.infinite?r.options.slidesToShow+t:t,(r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?s.slice(e-(r.options.slidesToShow-n),e+n):s.slice(e,e+r.options.slidesToShow)).addClass("slick-active").attr("aria-hidden","false")),"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},o.prototype.setupInfinite=function(){var t,e,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(e=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,t=n.slideCount;t>n.slideCount-i;--t)c(n.$slides[e=t-1]).clone(!0).attr("id","").attr("data-slick-index",e-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(t=0;t<i+n.slideCount;t+=1)e=t,c(n.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},o.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},o.prototype.selectHandler=function(t){t=c(t.target).is(".slick-slide")?c(t.target):c(t.target).parents(".slick-slide"),t=parseInt(t.attr("data-slick-index"))||0;this.slideCount<=this.options.slidesToShow?this.slideHandler(t,!1,!0):this.slideHandler(t)},o.prototype.slideHandler=function(t,e,i){var n,r,s,o,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===t))if(!1===e&&a.asNavFor(t),n=t,s=a.getLeft(n),e=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?e:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(t<0||t>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(n=a.currentSlide,!0!==i&&a.slideCount>a.options.slidesToShow?a.animateSlide(e,function(){a.postSlide(n)}):a.postSlide(n));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(t<0||t>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(n=a.currentSlide,!0!==i&&a.slideCount>a.options.slidesToShow?a.animateSlide(e,function(){a.postSlide(n)}):a.postSlide(n));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),r=n<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+n:n>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:n-a.slideCount:n,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,r]),e=a.currentSlide,a.currentSlide=r,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(o=(o=a.getNavTarget()).slick("getSlick")).slideCount<=o.options.slidesToShow&&o.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==i?(a.fadeSlideOut(e),a.fadeSlide(r,function(){a.postSlide(r)})):a.postSlide(r),void a.animateHeight();!0!==i&&a.slideCount>a.options.slidesToShow?a.animateSlide(s,function(){a.postSlide(r)}):a.postSlide(r)}},o.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},o.prototype.swipeDirection=function(){var t=this,e=t.touchObject.startX-t.touchObject.curX,i=t.touchObject.startY-t.touchObject.curY,e=Math.atan2(i,e),e=Math.round(180*e/Math.PI);return(e=e<0?360-Math.abs(e):e)<=45&&0<=e||e<=360&&315<=e?!1===t.options.rtl?"left":"right":135<=e&&e<=225?!1===t.options.rtl?"right":"left":!0===t.options.verticalSwiping?35<=e&&e<=135?"down":"up":"vertical"},o.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1;if(n.interrupted=!1,n.shouldClick=!(10<n.touchObject.swipeLength),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},o.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},o.prototype.swipeMove=function(t){var e,i,n=this,r=void 0!==t.originalEvent?t.originalEvent.touches:null;return!(!n.dragging||n.scrolling||r&&1!==r.length)&&(e=n.getLeft(n.currentSlide),n.touchObject.curX=void 0!==r?r[0].pageX:t.clientX,n.touchObject.curY=void 0!==r?r[0].pageY:t.clientY,n.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(n.touchObject.curX-n.touchObject.startX,2))),i=Math.round(Math.sqrt(Math.pow(n.touchObject.curY-n.touchObject.startY,2))),!n.options.verticalSwiping&&!n.swiping&&4<i?!(n.scrolling=!0):(!0===n.options.verticalSwiping&&(n.touchObject.swipeLength=i),r=n.swipeDirection(),void 0!==t.originalEvent&&4<n.touchObject.swipeLength&&(n.swiping=!0,t.preventDefault()),i=(!1===n.options.rtl?1:-1)*(n.touchObject.curX>n.touchObject.startX?1:-1),!0===n.options.verticalSwiping&&(i=n.touchObject.curY>n.touchObject.startY?1:-1),t=n.touchObject.swipeLength,(n.touchObject.edgeHit=!1)===n.options.infinite&&(0===n.currentSlide&&"right"===r||n.currentSlide>=n.getDotCount()&&"left"===r)&&(t=n.touchObject.swipeLength*n.options.edgeFriction,n.touchObject.edgeHit=!0),!1===n.options.vertical?n.swipeLeft=e+t*i:n.swipeLeft=e+t*(n.$list.height()/n.listWidth)*i,!0===n.options.verticalSwiping&&(n.swipeLeft=e+t*i),!0!==n.options.fade&&!1!==n.options.touchMove&&(!0===n.animating?(n.swipeLeft=null,!1):void n.setCSS(n.swipeLeft))))},o.prototype.swipeStart=function(t){var e,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},o.prototype.unload=function(){var t=this;c(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},o.prototype.unslick=function(t){this.$slider.trigger("unslick",[this,t]),this.destroy()},o.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2);!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode||t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode)&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},o.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},o.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},c.fn.slick=function(){for(var t,e=this,i=arguments[0],n=Array.prototype.slice.call(arguments,1),r=e.length,s=0;s<r;s++)if("object"==typeof i||void 0===i?e[s].slick=new o(e[s],i):t=e[s].slick[i].apply(e[s].slick,n),void 0!==t)return t;return e}}),function(h){"use strict";var p,f=null;!function(){for(var r,s,o,a,t=["webkit","moz","o","ms"],e=h.document.createElement("div"),i=-1,i=0;i<t.length&&!h.requestAnimationFrame;i++)h.requestAnimationFrame=h[t[i]+"RequestAnimationFrame"];function n(){}void 0===e.nextElementSibling&&Object.defineProperty(h.Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t;){if(1===t.nodeType)return t;t=t.nextSibling}return null}}),(e=h.Element.prototype).matches=e.matches||e.machesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(t){return-1<Array.prototype.indexOf.call(this.parentElement.querySelectorAll(t),this)},Object.keys||(Object.keys=(r=Object.prototype.hasOwnProperty,s=[],o=!{toString:null}.propertyIsEnumerable("toString"),a=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){var e=[],i="",n=-1;if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");for(i in t)r.call(t,i)&&e.push(i);if(o)for(n=0;n<a;n++)r.call(t,s[n])&&e.push(s[n]);return e})),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),"function"!=typeof Object.create&&(Object.create=function(t,e){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");n.prototype=t||{};var i=new n;return n.prototype=null,void 0!==e&&Object.defineProperties(i,e),null===t&&(i.__proto__=null),i}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e,i,n,r;if(null===this)throw new TypeError;if(0==(r=(n=Object(this)).length>>>0))return-1;if(e=0,1<arguments.length&&((e=Number(arguments[1]))!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e)))),r<=e)return-1;for(i=0<=e?e:Math.max(r-Math.abs(e),0);i<r;i++)if(i in n&&n[i]===t)return i;return-1}),Function.prototype.bind||(Function.prototype.bind=function(t){var e,i,n,r;if("function"!=typeof this)throw new TypeError;return e=Array.prototype.slice.call(arguments,1),n=function(){},r=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))},(i=this).prototype&&(n.prototype=this.prototype),r.prototype=new n,r}),h.Element.prototype.dispatchEvent||(h.Element.prototype.dispatchEvent=function(t){try{return this.fireEvent("on"+t.type,t)}catch(t){}})}(),(p=function(t,e,i){var n,r=null,s=!1,o=null,a=null,l=[],c="",u=[],d=-1,a=i||h.document;if((s=arguments[3])&&(s="boolean"==typeof s),"string"==typeof t)u=a.querySelectorAll(t);else if(t&&"object"==typeof t&&f.isElement(t,a))u=[t];else{if(!t||"object"!=typeof t||!t.length)throw new Error(p.messages.errorFactoryInvalidContainer());u=t}if(u.length<1)throw new Error(p.messages.errorFactoryContainerNotFound());for(d=0;(r=u[d])&&(!(0<d)||s);d++)r.id?c=r.id:(c="MixItUp"+f.randomHex(),r.id=c),p.instances[c]instanceof p.Mixer?(o=p.instances[c],(!e||e.debug&&!1!==e.debug.showWarnings)&&console.warn(p.messages.warningFactoryPreexistingInstance())):((o=new p.Mixer).attach(r,a,c,e),p.instances[c]=o),n=new p.Facade(o),e&&e.debug&&e.debug.enable?l.push(o):l.push(n);return s?new p.Collection(l):l[0]}).use=function(t){p.Base.prototype.callActions.call(p,"beforeUse",arguments),"function"==typeof t&&"mixitup-extension"===t.TYPE?void 0===p.extensions[t.NAME]&&(t(p),p.extensions[t.NAME]=t):t.fn&&t.fn.jquery&&(p.libraries.$=t),p.Base.prototype.callActions.call(p,"afterUse",arguments)},p.instances={},p.extensions={},p.libraries={},f={hasClass:function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){this.hasClass(t,e)||(t.className+=t.className?" "+e:e)},removeClass:function(t,e){this.hasClass(t,e)&&(e=new RegExp("(\\s|^)"+e+"(\\s|$)"),t.className=t.className.replace(e," ").trim())},extend:function(e,t,i,n){var r,s=[],o=-1;i=i||!1,n=n||!1;try{if(Array.isArray(t))for(o=0;o<t.length;o++)s.push(o);else t&&(s=Object.keys(t));for(o=0;o<s.length;o++)r=s[o],!i||"object"!=typeof t[r]||this.isElement(t[r])?e[r]=t[r]:(Array.isArray(t[r])?e[r]||(e[r]=[]):e[r]||(e[r]={}),this.extend(e[r],t[r],i,n))}catch(t){if(!n)throw t;this.handleExtendError(t,e)}return e},handleExtendError:function(t,e){var i,n=null,r="",s="",o="",a="",l=-1,c=-1;if(t instanceof TypeError&&(n=/property "?(\w*)"?[,:] object/i.exec(t.message))){for(a in r=n[1],e){for(c=0;c<r.length&&r.charAt(c)===a.charAt(c);)c++;l<c&&(l=c,o=a)}throw 1<l&&(s=p.messages.errorConfigInvalidPropertySuggestion({probableMatch:o})),i=p.messages.errorConfigInvalidProperty({erroneous:r,suggestion:s}),new TypeError(i)}throw t},template:function(n){for(var t,e=/\${([\w]*)}/g,r={};t=e.exec(n);)r[t[1]]=new RegExp("\\${"+t[1]+"}","g");return function(t){var e="",i=n;for(e in t=t||{},r)i=i.replace(r[e],void 0!==t[e]?t[e]:"");return i}},on:function(t,e,i,n){t&&(t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&(t["e"+e+i]=i,t[e+i]=function(){t["e"+e+i](h.event)},t.attachEvent("on"+e,t[e+i])))},off:function(t,e,i){t&&(t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&(t.detachEvent("on"+e,t[e+i]),t[e+i]=null))},getCustomEvent:function(t,e,i){var n=null;return i=i||h.document,"function"==typeof h.CustomEvent?n=new h.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}):"function"==typeof i.createEvent?(n=i.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,e):((n=i.createEventObject()).type=t,n.returnValue=!1,n.cancelBubble=!1,n.detail=e),n},getOriginalEvent:function(t){return t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t},index:function(t,e){for(var i=0;null!==(t=t.previousElementSibling);)e&&!t.matches(e)||++i;return i},camelCase:function(t){return t.toLowerCase().replace(/([_-][a-z])/g,function(t){return t.toUpperCase().replace(/[_-]/,"")})},pascalCase:function(t){return(t=this.camelCase(t)).charAt(0).toUpperCase()+t.slice(1)},dashCase:function(t){return t.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()},isElement:function(t,e){return e=e||h.document,!!(h.HTMLElement&&t instanceof h.HTMLElement)||(!!(e.defaultView&&e.defaultView.HTMLElement&&t instanceof e.defaultView.HTMLElement)||null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)},createElement:function(t,e){var i=null,n=null,i=(e=e||h.document).createDocumentFragment();for((n=e.createElement("div")).innerHTML=t.trim();n.firstChild;)i.appendChild(n.firstChild);return i},removeWhitespace:function(t){for(var e;t&&"#text"===t.nodeName;)t=(e=t).previousSibling,e.parentElement&&e.parentElement.removeChild(e)},isEqualArray:function(t,e){var i=t.length;if(i!==e.length)return!1;for(;i--;)if(t[i]!==e[i])return!1;return!0},deepEquals:function(t,e){if("object"==typeof t&&t&&"object"==typeof e&&e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(!e.hasOwnProperty(i)||!this.deepEquals(t[i],e[i]))return!1}else if(t!==e)return!1;return!0},arrayShuffle:function(t){for(var e,i,n=t.slice(),r=n.length,s=r;s--;)e=~~(Math.random()*r),i=n[s],n[s]=n[e],n[e]=i;return n},arrayFromList:function(e){var i,n;try{return Array.prototype.slice.call(e)}catch(t){for(i=[],n=0;n<e.length;n++)i.push(e[n]);return i}},debounce:function(r,s,o){var a;return function(){var t=this,e=arguments,i=o&&!a,n=function(){a=null,o||r.apply(t,e)};clearTimeout(a),a=setTimeout(n,s),i&&r.apply(t,e)}},position:function(t){for(var e=0,i=0,n=t;t;)e-=t.scrollLeft,i-=t.scrollTop,t===n&&(e+=t.offsetLeft,i+=t.offsetTop,n=t.offsetParent),t=t.parentElement;return{x:e,y:i}},getHypotenuse:function(t,e){var i=(i=t.x-e.x)<0?-1*i:i,e=(e=t.y-e.y)<0?-1*e:e;return Math.sqrt(Math.pow(i,2)+Math.pow(e,2))},getIntersectionRatio:function(t,e){var i=t.width*t.height,n=Math.max(0,Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left));return Math.max(0,Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top))*n/i},closestParent:function(t,e,i,n){var r=t.parentNode;if(n=n||h.document,i&&t.matches(e))return t;for(;r&&r!=n.body;){if(r.matches&&r.matches(e))return r;if(!r.parentNode)return null;r=r.parentNode}return null},children:function(t,e,i){var n=[],r="";return i=i||h.doc,t&&(t.id||(r="Temp"+this.randomHexKey(),t.id=r),n=i.querySelectorAll("#"+t.id+" > "+e),r&&t.removeAttribute("id")),n},clean:function(t){for(var e=[],i=-1,i=0;i<t.length;i++)""!==t[i]&&e.push(t[i]);return e},defer:function(t){var e=null,i=null,n=null,i=new this.Deferred;return p.features.has.promises?i.promise=new Promise(function(t,e){i.resolve=t,i.reject=e}):(n=h.jQuery||t.$)&&"function"==typeof n.Deferred?(e=n.Deferred(),i.promise=e.promise(),i.resolve=e.resolve,i.reject=e.reject):h.console&&console.warn(p.messages.warningNoPromiseImplementation()),i},all:function(t,e){var i=null;return p.features.has.promises?Promise.all(t):(i=h.jQuery||e.$)&&"function"==typeof i.when?i.when.apply(i,t).done(function(){return arguments}):(h.console&&console.warn(p.messages.warningNoPromiseImplementation()),[])},getPrefix:function(t,e,i){var n=-1,r="";if(f.dashCase(e)in t.style)return"";for(n=0;r=i[n];n++)if(r+e in t.style)return r.toLowerCase();return"unsupported"},randomHex:function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()},getDocumentState:function(t){return t="object"==typeof t.body?t:h.document,{scrollTop:h.pageYOffset,scrollLeft:h.pageXOffset,docHeight:t.documentElement.scrollHeight,docWidth:t.documentElement.scrollWidth,viewportHeight:t.documentElement.clientHeight,viewportWidth:t.documentElement.clientWidth}},bind:function(t,e){return function(){return e.apply(t,arguments)}},isVisible:function(t){var e;return!!t.offsetParent||"fixed"===(e=h.getComputedStyle(t)).position&&"hidden"!==e.visibility&&"0"!==e.opacity},seal:function(t){"function"==typeof Object.seal&&Object.seal(t)},freeze:function(t){"function"==typeof Object.freeze&&Object.freeze(t)},compareVersions:function(t,e){for(var i,n,r=t.split("."),s=e.split("."),o=-1,o=0;o<r.length;o++){if(i=parseInt(r[o].replace(/[^\d.]/g,"")),(n=parseInt(s[o].replace(/[^\d.]/g,"")||0))<i)return!1;if(i<n)return!0}return!0},Deferred:function(){this.promise=null,this.resolve=null,this.reject=null,this.id=f.randomHex()},isEmptyObject:function(t){var e="";if("function"==typeof Object.keys)return 0===Object.keys(t).length;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},getClassname:function(t,e,i){var n="";return(n+=t.block).length&&(n+=t.delineatorElement),n+=t["element"+this.pascalCase(e)],i?(n.length&&(n+=t.delineatorModifier),n+=i):n},getProperty:function(t,e){var i,n=e.split("."),r="",s=0;if(!e)return t;for(i=function(t){return t?t[r]:null};s<n.length;)r=n[s],t=i(t),s++;return void 0!==t?t:null}},p.h=f,(p.Base=function(){}).prototype={constructor:p.Base,callActions:function(t,e){var i=this.constructor.actions[t],n="";if(i&&!f.isEmptyObject(i))for(n in i)i[n].apply(this,e)},callFilters:function(t,e,i){var n=this.constructor.filters[t],r=e,s="";if(!n||f.isEmptyObject(n))return r;for(s in i=i||[],n)(i=f.arrayFromList(i)).unshift(r),r=n[s].apply(this,i);return r}},(p.BaseStatic=function(){this.actions={},this.filters={},this.extend=function(t){f.extend(this.prototype,t)},this.registerAction=function(t,e,i){(this.actions[t]=this.actions[t]||{})[e]=i},this.registerFilter=function(t,e,i){(this.filters[t]=this.filters[t]||{})[e]=i}}).call(p.Features=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.boxSizingPrefix="",this.transformPrefix="",this.transitionPrefix="",this.boxSizingPrefix="",this.transformProp="",this.transformRule="",this.transitionProp="",this.perspectiveProp="",this.perspectiveOriginProp="",this.has=new p.Has,this.canary=null,this.BOX_SIZING_PROP="boxSizing",this.TRANSITION_PROP="transition",this.TRANSFORM_PROP="transform",this.PERSPECTIVE_PROP="perspective",this.PERSPECTIVE_ORIGIN_PROP="perspectiveOrigin",this.VENDORS=["Webkit","moz","O","ms"],this.TWEENABLE=["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],this.callActions("afterConstruct")}),p.Features.prototype=Object.create(p.Base.prototype),f.extend(p.Features.prototype,{constructor:p.Features,init:function(){var t=this;t.callActions("beforeInit",arguments),t.canary=document.createElement("div"),t.setPrefixes(),t.runTests(),t.callActions("beforeInit",arguments)},runTests:function(){var t=this;t.callActions("beforeRunTests",arguments),t.has.promises="function"==typeof h.Promise,t.has.transitions="unsupported"!==t.transitionPrefix,t.callActions("afterRunTests",arguments),f.freeze(t.has)},setPrefixes:function(){var t=this;t.callActions("beforeSetPrefixes",arguments),t.transitionPrefix=f.getPrefix(t.canary,"Transition",t.VENDORS),t.transformPrefix=f.getPrefix(t.canary,"Transform",t.VENDORS),t.boxSizingPrefix=f.getPrefix(t.canary,"BoxSizing",t.VENDORS),t.boxSizingProp=t.boxSizingPrefix?t.boxSizingPrefix+f.pascalCase(t.BOX_SIZING_PROP):t.BOX_SIZING_PROP,t.transitionProp=t.transitionPrefix?t.transitionPrefix+f.pascalCase(t.TRANSITION_PROP):t.TRANSITION_PROP,t.transformProp=t.transformPrefix?t.transformPrefix+f.pascalCase(t.TRANSFORM_PROP):t.TRANSFORM_PROP,t.transformRule=t.transformPrefix?"-"+t.transformPrefix+"-"+t.TRANSFORM_PROP:t.TRANSFORM_PROP,t.perspectiveProp=t.transformPrefix?t.transformPrefix+f.pascalCase(t.PERSPECTIVE_PROP):t.PERSPECTIVE_PROP,t.perspectiveOriginProp=t.transformPrefix?t.transformPrefix+f.pascalCase(t.PERSPECTIVE_ORIGIN_PROP):t.PERSPECTIVE_ORIGIN_PROP,t.callActions("afterSetPrefixes",arguments)}}),p.Has=function(){this.transitions=!1,this.promises=!1,f.seal(this)},(p.features=new p.Features).init(),p.ConfigAnimation=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.effects="fade scale",this.effectsIn="",this.effectsOut="",this.duration=600,this.easing="ease",this.applyPerspective=!0,this.perspectiveDistance="3000px",this.perspectiveOrigin="50% 50%",this.queue=!0,this.queueLimit=3,this.animateResizeContainer=!0,this.animateResizeTargets=!1,this.staggerSequence=null,this.reverseOut=!1,this.nudge=!0,this.clampHeight=!0,this.clampWidth=!0,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigAnimation),p.ConfigAnimation.prototype=Object.create(p.Base.prototype),p.ConfigAnimation.prototype.constructor=p.ConfigAnimation,p.ConfigBehavior=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.liveSort=!1,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigBehavior),p.ConfigBehavior.prototype=Object.create(p.Base.prototype),p.ConfigBehavior.prototype.constructor=p.ConfigBehavior,p.ConfigCallbacks=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.onMixStart=null,this.onMixBusy=null,this.onMixEnd=null,this.onMixFail=null,this.onMixClick=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigCallbacks),p.ConfigCallbacks.prototype=Object.create(p.Base.prototype),p.ConfigCallbacks.prototype.constructor=p.ConfigCallbacks,p.ConfigControls=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.live=!1,this.scope="global",this.toggleLogic="or",this.toggleDefault="all",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigControls),p.ConfigControls.prototype=Object.create(p.Base.prototype),p.ConfigControls.prototype.constructor=p.ConfigControls,p.ConfigClassNames=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.block="mixitup",this.elementContainer="container",this.elementFilter="control",this.elementSort="control",this.elementMultimix="control",this.elementToggle="control",this.modifierActive="active",this.modifierDisabled="disabled",this.modifierFailed="failed",this.delineatorElement="-",this.delineatorModifier="-",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigClassNames),p.ConfigClassNames.prototype=Object.create(p.Base.prototype),p.ConfigClassNames.prototype.constructor=p.ConfigClassNames,p.ConfigData=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.uidKey="",this.dirtyCheck=!1,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigData),p.ConfigData.prototype=Object.create(p.Base.prototype),p.ConfigData.prototype.constructor=p.ConfigData,p.ConfigDebug=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.enable=!1,this.showWarnings=!0,this.fauxAsync=!1,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigDebug),p.ConfigDebug.prototype=Object.create(p.Base.prototype),p.ConfigDebug.prototype.constructor=p.ConfigDebug,p.ConfigLayout=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.allowNestedTargets=!0,this.containerClassName="",this.siblingBefore=null,this.siblingAfter=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigLayout),p.ConfigLayout.prototype=Object.create(p.Base.prototype),p.ConfigLayout.prototype.constructor=p.ConfigLayout,p.ConfigLoad=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.filter="all",this.sort="default:asc",this.dataset=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigLoad),p.ConfigLoad.prototype=Object.create(p.Base.prototype),p.ConfigLoad.prototype.constructor=p.ConfigLoad,p.ConfigSelectors=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.target=".mix",this.control="",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigSelectors),p.ConfigSelectors.prototype=Object.create(p.Base.prototype),p.ConfigSelectors.prototype.constructor=p.ConfigSelectors,p.ConfigRender=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.target=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigRender),p.ConfigRender.prototype=Object.create(p.Base.prototype),p.ConfigRender.prototype.constructor=p.ConfigRender,p.ConfigTemplates=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.ConfigTemplates),p.ConfigTemplates.prototype=Object.create(p.Base.prototype),p.ConfigTemplates.prototype.constructor=p.ConfigTemplates,p.Config=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.animation=new p.ConfigAnimation,this.behavior=new p.ConfigBehavior,this.callbacks=new p.ConfigCallbacks,this.controls=new p.ConfigControls,this.classNames=new p.ConfigClassNames,this.data=new p.ConfigData,this.debug=new p.ConfigDebug,this.layout=new p.ConfigLayout,this.load=new p.ConfigLoad,this.selectors=new p.ConfigSelectors,this.render=new p.ConfigRender,this.templates=new p.ConfigTemplates,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.Config),p.Config.prototype=Object.create(p.Base.prototype),p.Config.prototype.constructor=p.Config,p.MixerDom=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.document=null,this.body=null,this.container=null,this.parent=null,this.targets=[],this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.MixerDom),p.MixerDom.prototype=Object.create(p.Base.prototype),p.MixerDom.prototype.constructor=p.MixerDom,p.UiClassNames=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.base="",this.active="",this.disabled="",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.UiClassNames),p.UiClassNames.prototype=Object.create(p.Base.prototype),p.UiClassNames.prototype.constructor=p.UiClassNames,p.CommandDataset=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.dataset=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.CommandDataset),p.CommandDataset.prototype=Object.create(p.Base.prototype),p.CommandDataset.prototype.constructor=p.CommandDataset,p.CommandMultimix=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.filter=null,this.sort=null,this.insert=null,this.remove=null,this.changeLayout=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.CommandMultimix),p.CommandMultimix.prototype=Object.create(p.Base.prototype),p.CommandMultimix.prototype.constructor=p.CommandMultimix,p.CommandFilter=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.selector="",this.collection=null,this.action="show",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.CommandFilter),p.CommandFilter.prototype=Object.create(p.Base.prototype),p.CommandFilter.prototype.constructor=p.CommandFilter,p.CommandSort=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.sortString="",this.attribute="",this.order="asc",this.collection=null,this.next=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.CommandSort),p.CommandSort.prototype=Object.create(p.Base.prototype),p.CommandSort.prototype.constructor=p.CommandSort,p.CommandInsert=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.index=0,this.collection=[],this.position="before",this.sibling=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.CommandInsert),p.CommandInsert.prototype=Object.create(p.Base.prototype),p.CommandInsert.prototype.constructor=p.CommandInsert,p.CommandRemove=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.targets=[],this.collection=[],this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.CommandRemove),p.CommandRemove.prototype=Object.create(p.Base.prototype),p.CommandRemove.prototype.constructor=p.CommandRemove,p.CommandChangeLayout=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.containerClassName="",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.CommandChangeLayout),p.CommandChangeLayout.prototype=Object.create(p.Base.prototype),p.CommandChangeLayout.prototype.constructor=p.CommandChangeLayout,p.ControlDefinition=function(t,e,i,n){p.Base.call(this),this.callActions("beforeConstruct"),this.type=t,this.selector=e,this.live=i||!1,this.parent=n||"",this.callActions("afterConstruct"),f.freeze(this),f.seal(this)},p.BaseStatic.call(p.ControlDefinition),p.ControlDefinition.prototype=Object.create(p.Base.prototype),p.ControlDefinition.prototype.constructor=p.ControlDefinition,(p.controlDefinitions=[]).push(new p.ControlDefinition("multimix","[data-filter][data-sort]")),p.controlDefinitions.push(new p.ControlDefinition("filter","[data-filter]")),p.controlDefinitions.push(new p.ControlDefinition("sort","[data-sort]")),p.controlDefinitions.push(new p.ControlDefinition("toggle","[data-toggle]")),p.Control=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.selector="",this.bound=[],this.pending=-1,this.type="",this.status="inactive",this.filter="",this.sort="",this.canDisable=!1,this.handler=null,this.classNames=new p.UiClassNames,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.Control),p.Control.prototype=Object.create(p.Base.prototype),f.extend(p.Control.prototype,{constructor:p.Control,init:function(t,e,i){var n=this;if(this.callActions("beforeInit",arguments),n.el=t,n.type=e,n.selector=i,n.selector)n.status="live";else switch(n.canDisable="boolean"==typeof n.el.disable,n.type){case"filter":n.filter=n.el.getAttribute("data-filter");break;case"toggle":n.filter=n.el.getAttribute("data-toggle");break;case"sort":n.sort=n.el.getAttribute("data-sort");break;case"multimix":n.filter=n.el.getAttribute("data-filter"),n.sort=n.el.getAttribute("data-sort")}n.bindClick(),p.controls.push(n),this.callActions("afterInit",arguments)},isBound:function(t){var e;return this.callActions("beforeIsBound",arguments),e=-1<this.bound.indexOf(t),this.callFilters("afterIsBound",e,arguments)},addBinding:function(t){this.callActions("beforeAddBinding",arguments),this.isBound()||this.bound.push(t),this.callActions("afterAddBinding",arguments)},removeBinding:function(t){var e=this,i=-1;this.callActions("beforeRemoveBinding",arguments),-1<(i=e.bound.indexOf(t))&&e.bound.splice(i,1),e.bound.length<1&&(e.unbindClick(),i=p.controls.indexOf(e),p.controls.splice(i,1),"active"===e.status&&e.renderStatus(e.el,"inactive")),this.callActions("afterRemoveBinding",arguments)},bindClick:function(){var e=this;this.callActions("beforeBindClick",arguments),e.handler=function(t){e.handleClick(t)},f.on(e.el,"click",e.handler),this.callActions("afterBindClick",arguments)},unbindClick:function(){this.callActions("beforeUnbindClick",arguments),f.off(this.el,"click",this.handler),this.handler=null,this.callActions("afterUnbindClick",arguments)},handleClick:function(t){var e,i=this,n=null,r=null,s=!1,o={},a=[],l=-1;if(this.callActions("beforeHandleClick",arguments),this.pending=0,r=i.bound[0],n=i.selector?f.closestParent(t.target,r.config.selectors.control+i.selector,!0,r.dom.document):i.el){switch(i.type){case"filter":o.filter=i.filter||n.getAttribute("data-filter");break;case"sort":o.sort=i.sort||n.getAttribute("data-sort");break;case"multimix":o.filter=i.filter||n.getAttribute("data-filter"),o.sort=i.sort||n.getAttribute("data-sort");break;case"toggle":o.filter=i.filter||n.getAttribute("data-toggle"),s="live"===i.status?f.hasClass(n,i.classNames.active):"active"===i.status}for(l=0;l<i.bound.length;l++)e=new p.CommandMultimix,f.extend(e,o),a.push(e);for(a=i.callFilters("commandsHandleClick",a,arguments),i.pending=i.bound.length,l=0;r=i.bound[l];l++)(o=a[l])&&(r.lastClicked||(r.lastClicked=n),p.events.fire("mixClick",r.dom.container,{state:r.state,instance:r,originalEvent:t,control:r.lastClicked},r.dom.document),"function"==typeof r.config.callbacks.onMixClick&&!1===r.config.callbacks.onMixClick.call(r.lastClicked,r.state,t,r)||("toggle"===i.type?s?r.toggleOff(o.filter):r.toggleOn(o.filter):r.multimix(o)));this.callActions("afterHandleClick",arguments)}else i.callActions("afterHandleClick",arguments)},update:function(t,e){var i=this,n=new p.CommandMultimix;i.callActions("beforeUpdate",arguments),i.pending--,i.pending=Math.max(0,i.pending),0<i.pending||("live"===i.status?i.updateLive(t,e):(n.sort=i.sort,n.filter=i.filter,i.callFilters("actionsUpdate",n,arguments),i.parseStatusChange(i.el,t,n,e)),i.callActions("afterUpdate",arguments))},updateLive:function(t,e){var i,n=this,r=null,s=null,o=-1;if(n.callActions("beforeUpdateLive",arguments),n.el){for(i=n.el.querySelectorAll(n.selector),o=0;s=i[o];o++){switch(r=new p.CommandMultimix,n.type){case"filter":r.filter=s.getAttribute("data-filter");break;case"sort":r.sort=s.getAttribute("data-sort");break;case"multimix":r.filter=s.getAttribute("data-filter"),r.sort=s.getAttribute("data-sort");break;case"toggle":r.filter=s.getAttribute("data-toggle")}r=n.callFilters("actionsUpdateLive",r,arguments),n.parseStatusChange(s,t,r,e)}n.callActions("afterUpdateLive",arguments)}},parseStatusChange:function(t,e,i,n){var r=this,s="",o=-1;switch(r.callActions("beforeParseStatusChange",arguments),r.type){case"filter":e.filter===i.filter?r.renderStatus(t,"active"):r.renderStatus(t,"inactive");break;case"multimix":e.sort===i.sort&&e.filter===i.filter?r.renderStatus(t,"active"):r.renderStatus(t,"inactive");break;case"sort":e.sort.match(/:asc/g)&&(s=e.sort.replace(/:asc/g,"")),e.sort===i.sort||s===i.sort?r.renderStatus(t,"active"):r.renderStatus(t,"inactive");break;case"toggle":for(n.length<1&&r.renderStatus(t,"inactive"),e.filter===i.filter&&r.renderStatus(t,"active"),o=0;o<n.length;o++){if(n[o]===i.filter){r.renderStatus(t,"active");break}r.renderStatus(t,"inactive")}}r.callActions("afterParseStatusChange",arguments)},renderStatus:function(t,e){var i=this;switch(i.callActions("beforeRenderStatus",arguments),e){case"active":f.addClass(t,i.classNames.active),f.removeClass(t,i.classNames.disabled),i.canDisable&&(i.el.disabled=!1);break;case"inactive":f.removeClass(t,i.classNames.active),f.removeClass(t,i.classNames.disabled),i.canDisable&&(i.el.disabled=!1);break;case"disabled":i.canDisable&&(i.el.disabled=!0),f.addClass(t,i.classNames.disabled),f.removeClass(t,i.classNames.active)}"live"!==i.status&&(i.status=e),i.callActions("afterRenderStatus",arguments)}}),p.controls=[],p.StyleData=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.x=0,this.y=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.marginRight=0,this.marginBottom=0,this.opacity=0,this.scale=new p.TransformData,this.translateX=new p.TransformData,this.translateY=new p.TransformData,this.translateZ=new p.TransformData,this.rotateX=new p.TransformData,this.rotateY=new p.TransformData,this.rotateZ=new p.TransformData,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.StyleData),p.StyleData.prototype=Object.create(p.Base.prototype),p.StyleData.prototype.constructor=p.StyleData,p.TransformData=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.value=0,this.unit="",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.TransformData),p.TransformData.prototype=Object.create(p.Base.prototype),p.TransformData.prototype.constructor=p.TransformData,p.TransformDefaults=function(){p.StyleData.apply(this),this.callActions("beforeConstruct"),this.scale.value=.01,this.scale.unit="",this.translateX.value=20,this.translateX.unit="px",this.translateY.value=20,this.translateY.unit="px",this.translateZ.value=20,this.translateZ.unit="px",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateY.value=90,this.rotateY.unit="deg",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateZ.value=180,this.rotateZ.unit="deg",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.TransformDefaults),p.TransformDefaults.prototype=Object.create(p.StyleData.prototype),p.TransformDefaults.prototype.constructor=p.TransformDefaults,p.transformDefaults=new p.TransformDefaults,p.EventDetail=function(){this.state=null,this.futureState=null,this.instance=null,this.originalEvent=null},p.Events=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.mixStart=null,this.mixBusy=null,this.mixEnd=null,this.mixFail=null,this.mixClick=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.Events),p.Events.prototype=Object.create(p.Base.prototype),p.Events.prototype.constructor=p.Events,p.Events.prototype.fire=function(t,e,i,n){var r,s=new p.EventDetail;if(this.callActions("beforeFire",arguments),void 0===this[t])throw new Error('Event type "'+t+'" not found.');s.state=new p.State,f.extend(s.state,i.state),i.futureState&&(s.futureState=new p.State,f.extend(s.futureState,i.futureState)),s.instance=i.instance,i.originalEvent&&(s.originalEvent=i.originalEvent),r=f.getCustomEvent(t,s,n),this.callFilters("eventFire",r,arguments),e.dispatchEvent(r)},p.events=new p.Events,p.QueueItem=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.args=[],this.instruction=null,this.triggerElement=null,this.deferred=null,this.isToggling=!1,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.QueueItem),p.QueueItem.prototype=Object.create(p.Base.prototype),p.QueueItem.prototype.constructor=p.QueueItem,p.Mixer=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.config=new p.Config,this.id="",this.isBusy=!1,this.isToggling=!1,this.incPadding=!0,this.controls=[],this.targets=[],this.origOrder=[],this.cache={},this.toggleArray=[],this.targetsMoved=0,this.targetsImmovable=0,this.targetsBound=0,this.targetsDone=0,this.staggerDuration=0,this.effectsIn=null,this.effectsOut=null,this.transformIn=[],this.transformOut=[],this.queue=[],this.state=null,this.lastOperation=null,this.lastClicked=null,this.userCallback=null,this.userDeferred=null,this.dom=new p.MixerDom,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.Mixer),p.Mixer.prototype=Object.create(p.Base.prototype),f.extend(p.Mixer.prototype,{constructor:p.Mixer,attach:function(t,e,i,n){var r=this,s=null,o=-1;for(r.callActions("beforeAttach",arguments),r.id=i,n&&f.extend(r.config,n,!0,!0),r.sanitizeConfig(),r.cacheDom(t,e),r.config.layout.containerClassName&&f.addClass(r.dom.container,r.config.layout.containerClassName),p.features.has.transitions||(r.config.animation.enable=!1),void 0===h.console&&(r.config.debug.showWarnings=!1),r.config.data.uidKey&&(r.config.controls.enable=!1),r.indexTargets(),r.state=r.getInitialState(),o=0;s=r.lastOperation.toHide[o];o++)s.hide();r.config.controls.enable&&(r.initControls(),r.buildToggleArray(null,r.state),r.updateControls({filter:r.state.activeFilter,sort:r.state.activeSort})),r.parseEffects(),r.callActions("afterAttach",arguments)},sanitizeConfig:function(){var t=this;t.callActions("beforeSanitizeConfig",arguments),t.config.controls.scope=t.config.controls.scope.toLowerCase().trim(),t.config.controls.toggleLogic=t.config.controls.toggleLogic.toLowerCase().trim(),t.config.controls.toggleDefault=t.config.controls.toggleDefault.toLowerCase().trim(),t.config.animation.effects=t.config.animation.effects.trim(),t.callActions("afterSanitizeConfig",arguments)},getInitialState:function(){var t=this,e=new p.State,i=new p.Operation;if(t.callActions("beforeGetInitialState",arguments),e.activeContainerClassName=t.config.layout.containerClassName,t.config.load.dataset){if(!t.config.data.uidKey||"string"!=typeof t.config.data.uidKey)throw new TypeError(p.messages.errorConfigDataUidKeyNotSet());i.startDataset=i.newDataset=e.activeDataset=t.config.load.dataset.slice(),i.startContainerClassName=i.newContainerClassName=e.activeContainerClassName,i.show=t.targets.slice(),e=t.callFilters("stateGetInitialState",e,arguments)}else e.activeFilter=t.parseFilterArgs([t.config.load.filter]).command,e.activeSort=t.parseSortArgs([t.config.load.sort]).command,e.totalTargets=t.targets.length,(e=t.callFilters("stateGetInitialState",e,arguments)).activeSort.collection||e.activeSort.attribute||"random"===e.activeSort.order||"desc"===e.activeSort.order?(i.newSort=e.activeSort,t.sortOperation(i),t.printSort(!1,i),t.targets=i.newOrder):i.startOrder=i.newOrder=t.targets,i.startFilter=i.newFilter=e.activeFilter,i.startSort=i.newSort=e.activeSort,i.startContainerClassName=i.newContainerClassName=e.activeContainerClassName,"all"===i.newFilter.selector?i.newFilter.selector=t.config.selectors.target:"none"===i.newFilter.selector&&(i.newFilter.selector="");return i=t.callFilters("operationGetInitialState",i,[e]),(t.lastOperation=i).newFilter&&t.filterOperation(i),e=t.buildState(i)},cacheDom:function(t,e){var i=this;i.callActions("beforeCacheDom",arguments),i.dom.document=e,i.dom.body=i.dom.document.querySelector("body"),i.dom.container=t,i.dom.parent=t,i.callActions("afterCacheDom",arguments)},indexTargets:function(){var t,e,i=this,n=null,r=-1;if(i.callActions("beforeIndexTargets",arguments),i.dom.targets=i.config.layout.allowNestedTargets?i.dom.container.querySelectorAll(i.config.selectors.target):f.children(i.dom.container,i.config.selectors.target,i.dom.document),i.dom.targets=f.arrayFromList(i.dom.targets),i.targets=[],(e=i.config.load.dataset)&&e.length!==i.dom.targets.length)throw new Error(p.messages.errorDatasetPrerenderedMismatch());if(i.dom.targets.length){for(r=0;t=i.dom.targets[r];r++)(n=new p.Target).init(t,i,e?e[r]:void 0),n.isInDom=!0,i.targets.push(n);i.dom.parent=i.dom.targets[0].parentElement===i.dom.container?i.dom.container:i.dom.targets[0].parentElement}i.origOrder=i.targets,i.callActions("afterIndexTargets",arguments)},initControls:function(){var t,e,i=this,n=null,r=null,s=null,o=null,a=-1,l=-1;switch(i.callActions("beforeInitControls",arguments),i.config.controls.scope){case"local":r=i.dom.container;break;case"global":r=i.dom.document;break;default:throw new Error(p.messages.errorConfigInvalidControlsScope())}for(a=0;t=p.controlDefinitions[a];a++)if(i.config.controls.live||t.live){if(t.parent){if(!(s=i.dom[t.parent])||s.length<0)continue;"number"!=typeof s.length&&(s=[s])}else s=[r];for(l=0;n=s[l];l++)o=i.getControl(n,t.type,t.selector),i.controls.push(o)}else for(e=r.querySelectorAll(i.config.selectors.control+t.selector),l=0;n=e[l];l++)(o=i.getControl(n,t.type,""))&&i.controls.push(o);i.callActions("afterInitControls",arguments)},getControl:function(t,e,i){var n=this,r=null,s=-1;if(n.callActions("beforeGetControl",arguments),!i)for(s=0;r=p.controls[s];s++){if(r.el===t&&r.isBound(n))return n.callFilters("controlGetControl",null,arguments);if(r.el===t&&r.type===e&&r.selector===i)return r.addBinding(n),n.callFilters("controlGetControl",r,arguments)}return(r=new p.Control).init(t,e,i),r.classNames.base=f.getClassname(n.config.classNames,e),r.classNames.active=f.getClassname(n.config.classNames,e,n.config.classNames.modifierActive),r.classNames.disabled=f.getClassname(n.config.classNames,e,n.config.classNames.modifierDisabled),r.addBinding(n),n.callFilters("controlGetControl",r,arguments)},getToggleSelector:function(){var t=this,e="or"===t.config.controls.toggleLogic?", ":"",i="";return t.callActions("beforeGetToggleSelector",arguments),t.toggleArray=f.clean(t.toggleArray),""===(i=t.toggleArray.join(e))&&(i=t.config.controls.toggleDefault),t.callFilters("selectorGetToggleSelector",i,arguments)},buildToggleArray:function(t,e){var i=this,n="";if(i.callActions("beforeBuildToggleArray",arguments),t&&t.filter)n=t.filter.selector.replace(/\s/g,"");else{if(!e)return;n=e.activeFilter.selector.replace(/\s/g,"")}n!==i.config.selectors.target&&"all"!==n||(n=""),"or"===i.config.controls.toggleLogic?i.toggleArray=n.split(","):i.toggleArray=i.splitCompoundSelector(n),i.toggleArray=f.clean(i.toggleArray),i.callActions("afterBuildToggleArray",arguments)},splitCompoundSelector:function(t){var e=t.split(/([\.\[])/g),i=[],n="",r=-1;for(""===e[0]&&e.shift(),r=0;r<e.length;r++)r%2==0&&(n=""),n+=e[r],r%2!=0&&i.push(n);return i},updateControls:function(t){var e=this,i=null,n=new p.CommandMultimix,r=-1;for(e.callActions("beforeUpdateControls",arguments),t.filter?n.filter=t.filter.selector:n.filter=e.state.activeFilter.selector,t.sort?n.sort=e.buildSortString(t.sort):n.sort=e.buildSortString(e.state.activeSort),n.filter===e.config.selectors.target&&(n.filter="all"),""===n.filter&&(n.filter="none"),f.freeze(n),r=0;i=e.controls[r];r++)i.update(n,e.toggleArray);e.callActions("afterUpdateControls",arguments)},buildSortString:function(t){var e="";return e+=t.sortString,t.next&&(e+=" "+this.buildSortString(t.next)),e},insertTargets:function(t,e){var i,n=this,r=-1,s=null,o=null,a=null,l=-1;if(n.callActions("beforeInsertTargets",arguments),void 0===t.index&&(t.index=0),i=n.getNextSibling(t.index,t.sibling,t.position),s=n.dom.document.createDocumentFragment(),r=i?f.index(i,n.config.selectors.target):n.targets.length,t.collection){for(l=0;a=t.collection[l];l++){if(-1<n.dom.targets.indexOf(a))throw new Error(p.messages.errorInsertPreexistingElement());a.style.display="none",s.appendChild(a),s.appendChild(n.dom.document.createTextNode(" ")),f.isElement(a,n.dom.document)&&a.matches(n.config.selectors.target)&&((o=new p.Target).init(a,n),o.isInDom=!0,n.targets.splice(r,0,o),r++)}n.dom.parent.insertBefore(s,i)}e.startOrder=n.origOrder=n.targets,n.callActions("afterInsertTargets",arguments)},getNextSibling:function(t,e,i){var n=this,r=null;return t=Math.max(t,0),e&&"before"===i?r=e:e&&"after"===i?r=e.nextElementSibling||null:0<n.targets.length&&void 0!==t?r=t<n.targets.length||!n.targets.length?n.targets[t].dom.el:n.targets[n.targets.length-1].dom.el.nextElementSibling:0===n.targets.length&&0<n.dom.parent.children.length&&(n.config.layout.siblingAfter?r=n.config.layout.siblingAfter:n.config.layout.siblingBefore?r=n.config.layout.siblingBefore.nextElementSibling:n.dom.parent.children[0]),n.callFilters("elementGetNextSibling",r,arguments)},filterOperation:function(t){var e,i,n=!1,r=null,s=-1;for(this.callActions("beforeFilterOperation",arguments),i=t.newFilter.action,s=0;r=t.newOrder[s];s++)n=t.newFilter.collection?-1<t.newFilter.collection.indexOf(r.dom.el):""!==t.newFilter.selector&&r.dom.el.matches(t.newFilter.selector),this.evaluateHideShow(n,r,i,t);if(t.toRemove.length)for(s=0;r=t.show[s];s++)-1<t.toRemove.indexOf(r)&&(t.show.splice(s,1),-1<(e=t.toShow.indexOf(r))&&t.toShow.splice(e,1),t.toHide.push(r),t.hide.push(r),s--);t.matching=t.show.slice(),0===t.show.length&&""!==t.newFilter.selector&&0!==this.targets.length&&(t.hasFailed=!0),this.callActions("afterFilterOperation",arguments)},evaluateHideShow:function(t,e,i,n){var r=Array.prototype.slice.call(arguments,1),s=this.callFilters("testResultEvaluateHideShow",t,r);this.callActions("beforeEvaluateHideShow",arguments),!0===s&&"show"===i||!1===s&&"hide"===i?(n.show.push(e),e.isShown||n.toShow.push(e)):(n.hide.push(e),e.isShown&&n.toHide.push(e)),this.callActions("afterEvaluateHideShow",arguments)},sortOperation:function(i){var t,n=this,e=[],r=null,s=-1;if(n.callActions("beforeSortOperation",arguments),i.startOrder=n.targets,i.newSort.collection){for(e=[],s=0;t=i.newSort.collection[s];s++){if(n.dom.targets.indexOf(t)<0)throw new Error(p.messages.errorSortNonExistentElement());(r=new p.Target).init(t,n),r.isInDom=!0,e.push(r)}i.newOrder=e}else"random"===i.newSort.order?i.newOrder=f.arrayShuffle(i.startOrder):""===i.newSort.attribute?(i.newOrder=n.origOrder.slice(),"desc"===i.newSort.order&&i.newOrder.reverse()):(i.newOrder=i.startOrder.slice(),i.newOrder.sort(function(t,e){return n.compare(t,e,i.newSort)}));f.isEqualArray(i.newOrder,i.startOrder)&&(i.willSort=!1),n.callActions("afterSortOperation",arguments)},compare:function(t,e,i){var n=i.order,r=this.getAttributeValue(t,i.attribute),s=this.getAttributeValue(e,i.attribute),s=isNaN(+r)||isNaN(+s)?(r=r.toLowerCase(),s.toLowerCase()):(r=+r,+s);return r<s?"asc"===n?-1:1:s<r?"asc"===n?1:-1:r===s&&i.next?this.compare(t,e,i.next):0},getAttributeValue:function(t,e){var i="";return null===(i=t.dom.el.getAttribute("data-"+e))&&this.config.debug.showWarnings&&console.warn(p.messages.warningInconsistentSortingAttributes({attribute:"data-"+e})),this.callFilters("valueGetAttributeValue",i||0,arguments)},printSort:function(t,e){var i=this,n=t?e.newOrder:e.startOrder,r=t?e.startOrder:e.newOrder,t=n.length?n[n.length-1].dom.el.nextElementSibling:null,s=h.document.createDocumentFragment(),e=null,o=null,a=null,l=-1;for(i.callActions("beforePrintSort",arguments),l=0;o=n[l];l++)"absolute"!==(a=o.dom.el).style.position&&(f.removeWhitespace(a.previousSibling),a.parentElement.removeChild(a));for((e=t?t.previousSibling:i.dom.parent.lastChild)&&"#text"===e.nodeName&&f.removeWhitespace(e),l=0;o=r[l];l++)a=o.dom.el,f.isElement(s.lastChild)&&s.appendChild(h.document.createTextNode(" ")),s.appendChild(a);i.dom.parent.firstChild&&i.dom.parent.firstChild!==t&&s.insertBefore(h.document.createTextNode(" "),s.childNodes[0]),t?(s.appendChild(h.document.createTextNode(" ")),i.dom.parent.insertBefore(s,t)):i.dom.parent.appendChild(s),i.callActions("afterPrintSort",arguments)},parseSortString:function(t,e){for(var i,n=t.split(" "),r=e,s=-1,s=0;s<n.length;s++){switch(i=n[s].split(":"),r.sortString=n[s],r.attribute=f.dashCase(i[0]),r.order=i[1]||"asc",r.attribute){case"default":r.attribute="";break;case"random":r.attribute="",r.order="random"}if(!r.attribute||"random"===r.order)break;s<n.length-1&&(r.next=new p.CommandSort,f.freeze(r),r=r.next)}return this.callFilters("commandsParseSort",e,arguments)},parseEffects:function(){var t=this,e="",i=t.config.animation.effectsIn||t.config.animation.effects,n=t.config.animation.effectsOut||t.config.animation.effects;for(e in t.callActions("beforeParseEffects",arguments),t.effectsIn=new p.StyleData,t.effectsOut=new p.StyleData,t.transformIn=[],t.transformOut=[],t.effectsIn.opacity=t.effectsOut.opacity=1,t.parseEffect("fade",i,t.effectsIn,t.transformIn),t.parseEffect("fade",n,t.effectsOut,t.transformOut,!0),p.transformDefaults)p.transformDefaults[e]instanceof p.TransformData&&(t.parseEffect(e,i,t.effectsIn,t.transformIn),t.parseEffect(e,n,t.effectsOut,t.transformOut,!0));t.parseEffect("stagger",i,t.effectsIn,t.transformIn),t.parseEffect("stagger",n,t.effectsOut,t.transformOut,!0),t.callActions("afterParseEffects",arguments)},parseEffect:function(t,e,i,n,r){var s,o,a,l=this,c="",u=["%","px","em","rem","vh","vw","deg"],d=-1;if(l.callActions("beforeParseEffect",arguments),"string"!=typeof e)throw new TypeError(p.messages.errorConfigInvalidAnimationEffects());if(e.indexOf(t)<0)"stagger"===t&&(l.staggerDuration=0);else{switch(-1<(s=e.indexOf(t+"("))&&(o=e.substring(s),c=/\(([^)]+)\)/.exec(o)[1]),t){case"fade":i.opacity=c?parseFloat(c):0;break;case"stagger":l.staggerDuration=c?parseFloat(c):100;break;default:if(r&&l.config.animation.reverseOut&&"scale"!==t?i[t].value=-1*(c?parseFloat(c):p.transformDefaults[t].value):i[t].value=c?parseFloat(c):p.transformDefaults[t].value,c){for(d=0;a=u[d];d++)if(-1<c.indexOf(a)){i[t].unit=a;break}}else i[t].unit=p.transformDefaults[t].unit;n.push(t+"("+i[t].value+i[t].unit+")")}l.callActions("afterParseEffect",arguments)}},buildState:function(t){var e=this,i=new p.State,n=null,r=-1;for(e.callActions("beforeBuildState",arguments),r=0;n=e.targets[r];r++)(!t.toRemove.length||t.toRemove.indexOf(n)<0)&&i.targets.push(n.dom.el);for(r=0;n=t.matching[r];r++)i.matching.push(n.dom.el);for(r=0;n=t.show[r];r++)i.show.push(n.dom.el);for(r=0;n=t.hide[r];r++)(!t.toRemove.length||t.toRemove.indexOf(n)<0)&&i.hide.push(n.dom.el);return i.id=e.id,i.container=e.dom.container,i.activeFilter=t.newFilter,i.activeSort=t.newSort,i.activeDataset=t.newDataset,i.activeContainerClassName=t.newContainerClassName,i.hasFailed=t.hasFailed,i.totalTargets=e.targets.length,i.totalShow=t.show.length,i.totalHide=t.hide.length,i.totalMatching=t.matching.length,i.triggerElement=t.triggerElement,e.callFilters("stateBuildState",i,arguments)},goMix:function(t,e){var i=this,n=null;return i.callActions("beforeGoMix",arguments),i.config.animation.duration&&i.config.animation.effects&&f.isVisible(i.dom.container)||(t=!1),e.toShow.length||e.toHide.length||e.willSort||e.willChangeLayout||(t=!1),e.startState.show.length||e.show.length||(t=!1),p.events.fire("mixStart",i.dom.container,{state:e.startState,futureState:e.newState,instance:i},i.dom.document),"function"==typeof i.config.callbacks.onMixStart&&i.config.callbacks.onMixStart.call(i.dom.container,e.startState,e.newState,i),f.removeClass(i.dom.container,f.getClassname(i.config.classNames,"container",i.config.classNames.modifierFailed)),n=i.userDeferred||(i.userDeferred=f.defer(p.libraries)),i.isBusy=!0,t&&p.features.has.transitions?(h.pageYOffset!==e.docState.scrollTop&&h.scrollTo(e.docState.scrollLeft,e.docState.scrollTop),i.config.animation.applyPerspective&&(i.dom.parent.style[p.features.perspectiveProp]=i.config.animation.perspectiveDistance,i.dom.parent.style[p.features.perspectiveOriginProp]=i.config.animation.perspectiveOrigin),i.config.animation.animateResizeContainer&&e.startHeight!==e.newHeight&&e.viewportDeltaY!==e.startHeight-e.newHeight&&(i.dom.parent.style.height=e.startHeight+"px"),i.config.animation.animateResizeContainer&&e.startWidth!==e.newWidth&&e.viewportDeltaX!==e.startWidth-e.newWidth&&(i.dom.parent.style.width=e.startWidth+"px"),e.startHeight===e.newHeight&&(i.dom.parent.style.height=e.startHeight+"px"),e.startWidth===e.newWidth&&(i.dom.parent.style.width=e.startWidth+"px"),e.startHeight===e.newHeight&&e.startWidth===e.newWidth&&(i.dom.parent.style.overflow="hidden"),requestAnimationFrame(function(){i.moveTargets(e)})):i.config.debug.fauxAsync?setTimeout(function(){i.cleanUp(e)},i.config.animation.duration):i.cleanUp(e),i.callFilters("promiseGoMix",n.promise,arguments)},getStartMixData:function(t){var e=this,i=h.getComputedStyle(e.dom.parent),n=e.dom.parent.getBoundingClientRect(),r=null,s={},o=-1,a=i[p.features.boxSizingProp];for(e.incPadding="border-box"===a,e.callActions("beforeGetStartMixData",arguments),o=0;r=t.show[o];o++)s=r.getPosData(),t.showPosData[o]={startPosData:s};for(o=0;r=t.toHide[o];o++)s=r.getPosData(),t.toHidePosData[o]={startPosData:s};t.startX=n.left,t.startY=n.top,t.startHeight=e.incPadding?n.height:n.height-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderTop)-parseFloat(i.borderBottom),t.startWidth=e.incPadding?n.width:n.width-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderLeft)-parseFloat(i.borderRight),e.callActions("afterGetStartMixData",arguments)},setInter:function(t){var e=this,i=null,n=-1;for(e.callActions("beforeSetInter",arguments),e.config.animation.clampHeight&&(e.dom.parent.style.height=t.startHeight+"px",e.dom.parent.style.overflow="hidden"),e.config.animation.clampWidth&&(e.dom.parent.style.width=t.startWidth+"px",e.dom.parent.style.overflow="hidden"),n=0;i=t.toShow[n];n++)i.show();t.willChangeLayout&&(f.removeClass(e.dom.container,t.startContainerClassName),f.addClass(e.dom.container,t.newContainerClassName)),e.callActions("afterSetInter",arguments)},getInterMixData:function(t){var e=null,i=-1;for(this.callActions("beforeGetInterMixData",arguments),i=0;e=t.show[i];i++)t.showPosData[i].interPosData=e.getPosData();for(i=0;e=t.toHide[i];i++)t.toHidePosData[i].interPosData=e.getPosData();this.callActions("afterGetInterMixData",arguments)},setFinal:function(t){var e=null,i=-1;for(this.callActions("beforeSetFinal",arguments),t.willSort&&this.printSort(!1,t),i=0;e=t.toHide[i];i++)e.hide();this.callActions("afterSetFinal",arguments)},getFinalMixData:function(t){var e,i=this,n=null,r=null,s=-1;for(i.callActions("beforeGetFinalMixData",arguments),s=0;r=t.show[s];s++)t.showPosData[s].finalPosData=r.getPosData();for(s=0;r=t.toHide[s];s++)t.toHidePosData[s].finalPosData=r.getPosData();for((i.config.animation.clampHeight||i.config.animation.clampWidth)&&(i.dom.parent.style.height=i.dom.parent.style.width=i.dom.parent.style.overflow=""),i.incPadding||(n=h.getComputedStyle(i.dom.parent)),e=i.dom.parent.getBoundingClientRect(),t.newX=e.left,t.newY=e.top,t.newHeight=i.incPadding?e.height:e.height-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderTop)-parseFloat(n.borderBottom),t.newWidth=i.incPadding?e.width:e.width-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderLeft)-parseFloat(n.borderRight),t.viewportDeltaX=t.docState.viewportWidth-this.dom.document.documentElement.clientWidth,t.viewportDeltaY=t.docState.viewportHeight-this.dom.document.documentElement.clientHeight,t.willSort&&i.printSort(!0,t),s=0;r=t.toShow[s];s++)r.hide();for(s=0;r=t.toHide[s];s++)r.show();t.willChangeLayout&&(f.removeClass(i.dom.container,t.newContainerClassName),f.addClass(i.dom.container,i.config.layout.containerClassName)),i.callActions("afterGetFinalMixData",arguments)},getTweenData:function(t){var e=this,i=null,n=null,r=Object.getOwnPropertyNames(e.effectsIn),s="",o=null,a=-1,l=-1,c=-1,u=-1;for(e.callActions("beforeGetTweenData",arguments),c=0;i=t.show[c];c++)for((n=t.showPosData[c]).posIn=new p.StyleData,n.posOut=new p.StyleData,n.tweenData=new p.StyleData,i.isShown?(n.posIn.x=n.startPosData.x-n.interPosData.x,n.posIn.y=n.startPosData.y-n.interPosData.y):n.posIn.x=n.posIn.y=0,n.posOut.x=n.finalPosData.x-n.interPosData.x,n.posOut.y=n.finalPosData.y-n.interPosData.y,n.posIn.opacity=i.isShown?1:e.effectsIn.opacity,n.posOut.opacity=1,n.tweenData.opacity=n.posOut.opacity-n.posIn.opacity,i.isShown||e.config.animation.nudge||(n.posIn.x=n.posOut.x,n.posIn.y=n.posOut.y),n.tweenData.x=n.posOut.x-n.posIn.x,n.tweenData.y=n.posOut.y-n.posIn.y,e.config.animation.animateResizeTargets&&(n.posIn.width=n.startPosData.width,n.posIn.height=n.startPosData.height,a=(n.startPosData.width||n.finalPosData.width)-n.interPosData.width,n.posIn.marginRight=n.startPosData.marginRight-a,l=(n.startPosData.height||n.finalPosData.height)-n.interPosData.height,n.posIn.marginBottom=n.startPosData.marginBottom-l,n.posOut.width=n.finalPosData.width,n.posOut.height=n.finalPosData.height,a=(n.finalPosData.width||n.startPosData.width)-n.interPosData.width,n.posOut.marginRight=n.finalPosData.marginRight-a,l=(n.finalPosData.height||n.startPosData.height)-n.interPosData.height,n.posOut.marginBottom=n.finalPosData.marginBottom-l,n.tweenData.width=n.posOut.width-n.posIn.width,n.tweenData.height=n.posOut.height-n.posIn.height,n.tweenData.marginRight=n.posOut.marginRight-n.posIn.marginRight,n.tweenData.marginBottom=n.posOut.marginBottom-n.posIn.marginBottom),u=0;s=r[u];u++)(o=e.effectsIn[s])instanceof p.TransformData&&o.value&&(n.posIn[s].value=o.value,n.posOut[s].value=0,n.tweenData[s].value=n.posOut[s].value-n.posIn[s].value,n.posIn[s].unit=n.posOut[s].unit=n.tweenData[s].unit=o.unit);for(c=0;i=t.toHide[c];c++)for((n=t.toHidePosData[c]).posIn=new p.StyleData,n.posOut=new p.StyleData,n.tweenData=new p.StyleData,n.posIn.x=i.isShown?n.startPosData.x-n.interPosData.x:0,n.posIn.y=i.isShown?n.startPosData.y-n.interPosData.y:0,n.posOut.x=e.config.animation.nudge?0:n.posIn.x,n.posOut.y=e.config.animation.nudge?0:n.posIn.y,n.tweenData.x=n.posOut.x-n.posIn.x,n.tweenData.y=n.posOut.y-n.posIn.y,e.config.animation.animateResizeTargets&&(n.posIn.width=n.startPosData.width,n.posIn.height=n.startPosData.height,a=n.startPosData.width-n.interPosData.width,n.posIn.marginRight=n.startPosData.marginRight-a,l=n.startPosData.height-n.interPosData.height,n.posIn.marginBottom=n.startPosData.marginBottom-l),n.posIn.opacity=1,n.posOut.opacity=e.effectsOut.opacity,n.tweenData.opacity=n.posOut.opacity-n.posIn.opacity,u=0;s=r[u];u++)(o=e.effectsOut[s])instanceof p.TransformData&&o.value&&(n.posIn[s].value=0,n.posOut[s].value=o.value,n.tweenData[s].value=n.posOut[s].value-n.posIn[s].value,n.posIn[s].unit=n.posOut[s].unit=n.tweenData[s].unit=o.unit);e.callActions("afterGetTweenData",arguments)},moveTargets:function(t){var e=this,i=null,n=null,r=null,s="",o=!1,a=-1,l=-1,c=e.checkProgress.bind(e);for(e.callActions("beforeMoveTargets",arguments),l=0;i=t.show[l];l++)n=new p.IMoveData,r=t.showPosData[l],s=i.isShown?"none":"show",(o=e.willTransition(s,t.hasEffect,r.posIn,r.posOut))&&a++,i.show(),n.posIn=r.posIn,n.posOut=r.posOut,n.statusChange=s,n.staggerIndex=a,n.operation=t,n.callback=o?c:null,i.move(n);for(l=0;i=t.toHide[l];l++)r=t.toHidePosData[l],n=new p.IMoveData,o=e.willTransition(s="hide",r.posIn,r.posOut),n.posIn=r.posIn,n.posOut=r.posOut,n.statusChange=s,n.staggerIndex=l,n.operation=t,n.callback=o?c:null,i.move(n);e.config.animation.animateResizeContainer&&(e.dom.parent.style[p.features.transitionProp]="height "+e.config.animation.duration+"ms ease, width "+e.config.animation.duration+"ms ease ",requestAnimationFrame(function(){t.startHeight!==t.newHeight&&t.viewportDeltaY!==t.startHeight-t.newHeight&&(e.dom.parent.style.height=t.newHeight+"px"),t.startWidth!==t.newWidth&&t.viewportDeltaX!==t.startWidth-t.newWidth&&(e.dom.parent.style.width=t.newWidth+"px")})),t.willChangeLayout&&(f.removeClass(e.dom.container,e.config.layout.ContainerClassName),f.addClass(e.dom.container,t.newContainerClassName)),e.callActions("afterMoveTargets",arguments)},hasEffect:function(){var t,e,i=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],n=!1,r=-1;if(1!==this.effectsIn.opacity)return this.callFilters("resultHasEffect",!0,arguments);for(r=0;t=i[r];r++)if(0!==("undefined"!==(e=this.effectsIn[t]).value?e.value:e)){n=!0;break}return this.callFilters("resultHasEffect",n,arguments)},willTransition:function(t,e,i,n){var r=!1,r=!!f.isVisible(this.dom.container)&&(!!("none"!==t&&e||i.x!==n.x||i.y!==n.y)||!!this.config.animation.animateResizeTargets&&(i.width!==n.width||i.height!==n.height||i.marginRight!==n.marginRight||i.marginTop!==n.marginTop));return this.callFilters("resultWillTransition",r,arguments)},checkProgress:function(t){this.targetsDone++,this.targetsBound===this.targetsDone&&this.cleanUp(t)},cleanUp:function(t){var e,i,n=this,r=null,s=null,o=-1;for(n.callActions("beforeCleanUp",arguments),o=n.targetsMoved=n.targetsImmovable=n.targetsBound=n.targetsDone=0;r=t.show[o];o++)r.cleanUp(),r.show();for(o=0;r=t.toHide[o];o++)r.cleanUp(),r.hide();if(t.willSort&&n.printSort(!1,t),n.dom.parent.style[p.features.transitionProp]=n.dom.parent.style.height=n.dom.parent.style.width=n.dom.parent.style.overflow=n.dom.parent.style[p.features.perspectiveProp]=n.dom.parent.style[p.features.perspectiveOriginProp]="",t.willChangeLayout&&(f.removeClass(n.dom.container,t.startContainerClassName),f.addClass(n.dom.container,t.newContainerClassName)),t.toRemove.length){for(o=0;r=n.targets[o];o++)-1<t.toRemove.indexOf(r)&&((e=r.dom.el.previousSibling)&&"#text"===e.nodeName&&(s=r.dom.el.nextSibling)&&"#text"===s.nodeName&&f.removeWhitespace(e),t.willSort||n.dom.parent.removeChild(r.dom.el),n.targets.splice(o,1),r.isInDom=!1,o--);n.origOrder=n.targets}t.willSort&&(n.targets=t.newOrder),n.state=t.newState,n.lastOperation=t,n.dom.targets=n.state.targets,p.events.fire("mixEnd",n.dom.container,{state:n.state,instance:n},n.dom.document),"function"==typeof n.config.callbacks.onMixEnd&&n.config.callbacks.onMixEnd.call(n.dom.container,n.state,n),t.hasFailed&&(p.events.fire("mixFail",n.dom.container,{state:n.state,instance:n},n.dom.document),"function"==typeof n.config.callbacks.onMixFail&&n.config.callbacks.onMixFail.call(n.dom.container,n.state,n),f.addClass(n.dom.container,f.getClassname(n.config.classNames,"container",n.config.classNames.modifierFailed))),"function"==typeof n.userCallback&&n.userCallback.call(n.dom.container,n.state,n),"function"==typeof n.userDeferred.resolve&&n.userDeferred.resolve(n.state),n.userCallback=null,n.userDeferred=null,n.lastClicked=null,n.isToggling=!1,n.isBusy=!1,n.queue.length&&(n.callActions("beforeReadQueueCleanUp",arguments),i=n.queue.shift(),n.userDeferred=i.deferred,n.isToggling=i.isToggling,n.lastClicked=i.triggerElement,(i.instruction.command instanceof p.CommandMultimix?n.multimix:n.dataset).apply(n,i.args)),n.callActions("afterCleanUp",arguments)},parseMultimixArgs:function(t){var e,i=this,n=new p.UserInstruction,r=-1;for(n.animate=i.config.animation.enable,n.command=new p.CommandMultimix,r=0;r<t.length;r++)null!==(e=t[r])&&("object"==typeof e?f.extend(n.command,e):"boolean"==typeof e?n.animate=e:"function"==typeof e&&(n.callback=e));return!n.command.insert||n.command.insert instanceof p.CommandInsert||(n.command.insert=i.parseInsertArgs([n.command.insert]).command),!n.command.remove||n.command.remove instanceof p.CommandRemove||(n.command.remove=i.parseRemoveArgs([n.command.remove]).command),!n.command.filter||n.command.filter instanceof p.CommandFilter||(n.command.filter=i.parseFilterArgs([n.command.filter]).command),!n.command.sort||n.command.sort instanceof p.CommandSort||(n.command.sort=i.parseSortArgs([n.command.sort]).command),!n.command.changeLayout||n.command.changeLayout instanceof p.CommandChangeLayout||(n.command.changeLayout=i.parseChangeLayoutArgs([n.command.changeLayout]).command),n=i.callFilters("instructionParseMultimixArgs",n,arguments),f.freeze(n),n},parseFilterArgs:function(t){var e,i=new p.UserInstruction,n=-1;for(i.animate=this.config.animation.enable,i.command=new p.CommandFilter,n=0;n<t.length;n++)"string"==typeof(e=t[n])?i.command.selector=e:null===e?i.command.collection=[]:"object"==typeof e&&f.isElement(e,this.dom.document)?i.command.collection=[e]:"object"==typeof e&&void 0!==e.length?i.command.collection=f.arrayFromList(e):"object"==typeof e?f.extend(i.command,e):"boolean"==typeof e?i.animate=e:"function"==typeof e&&(i.callback=e);if(i.command.selector&&i.command.collection)throw new Error(p.messages.errorFilterInvalidArguments());return i=this.callFilters("instructionParseFilterArgs",i,arguments),f.freeze(i),i},parseSortArgs:function(t){var e,i=new p.UserInstruction,n="",r=-1;for(i.animate=this.config.animation.enable,i.command=new p.CommandSort,r=0;r<t.length;r++)if(null!==(e=t[r]))switch(typeof e){case"string":n=e;break;case"object":e.length&&(i.command.collection=f.arrayFromList(e));break;case"boolean":i.animate=e;break;case"function":i.callback=e}return n&&(i.command=this.parseSortString(n,i.command)),i=this.callFilters("instructionParseSortArgs",i,arguments),f.freeze(i),i},parseInsertArgs:function(t){var e,i=new p.UserInstruction,n=-1;for(i.animate=this.config.animation.enable,i.command=new p.CommandInsert,n=0;n<t.length;n++)null!==(e=t[n])&&("number"==typeof e?i.command.index=e:"string"==typeof e&&-1<["before","after"].indexOf(e)?i.command.position=e:"string"==typeof e?i.command.collection=f.arrayFromList(f.createElement(e).childNodes):"object"==typeof e&&f.isElement(e,this.dom.document)?i.command.collection.length?i.command.sibling=e:i.command.collection=[e]:"object"==typeof e&&e.length?i.command.collection.length?i.command.sibling=e[0]:i.command.collection=e:"object"==typeof e&&e.childNodes&&e.childNodes.length?i.command.collection.length?i.command.sibling=e.childNodes[0]:i.command.collection=f.arrayFromList(e.childNodes):"object"==typeof e?f.extend(i.command,e):"boolean"==typeof e?i.animate=e:"function"==typeof e&&(i.callback=e));if(i.command.index&&i.command.sibling)throw new Error(p.messages.errorInsertInvalidArguments());return!i.command.collection.length&&this.config.debug.showWarnings&&console.warn(p.messages.warningInsertNoElements()),i=this.callFilters("instructionParseInsertArgs",i,arguments),f.freeze(i),i},parseRemoveArgs:function(t){var e,i,n=this,r=new p.UserInstruction,s=-1;for(r.animate=n.config.animation.enable,r.command=new p.CommandRemove,s=0;s<t.length;s++)if(null!==(i=t[s]))switch(typeof i){case"number":n.targets[i]&&(r.command.targets[0]=n.targets[i]);break;case"string":r.command.collection=f.arrayFromList(n.dom.parent.querySelectorAll(i));break;case"object":i&&i.length?r.command.collection=i:f.isElement(i,n.dom.document)?r.command.collection=[i]:f.extend(r.command,i);break;case"boolean":r.animate=i;break;case"function":r.callback=i}if(r.command.collection.length)for(s=0;e=n.targets[s];s++)-1<r.command.collection.indexOf(e.dom.el)&&r.command.targets.push(e);return!r.command.targets.length&&n.config.debug.showWarnings&&console.warn(p.messages.warningRemoveNoElements()),f.freeze(r),r},parseDatasetArgs:function(t){var e,i=new p.UserInstruction,n=-1;for(i.animate=this.config.animation.enable,i.command=new p.CommandDataset,n=0;n<t.length;n++)if(null!==(e=t[n]))switch(typeof e){case"object":Array.isArray(e)||"number"==typeof e.length?i.command.dataset=e:f.extend(i.command,e);break;case"boolean":i.animate=e;break;case"function":i.callback=e}return f.freeze(i),i},parseChangeLayoutArgs:function(t){var e,i=new p.UserInstruction,n=-1;for(i.animate=this.config.animation.enable,i.command=new p.CommandChangeLayout,n=0;n<t.length;n++)if(null!==(e=t[n]))switch(typeof e){case"string":i.command.containerClassName=e;break;case"object":f.extend(i.command,e);break;case"boolean":i.animate=e;break;case"function":i.callback=e}return f.freeze(i),i},queueMix:function(t){var e,i=this,n=null;return i.callActions("beforeQueueMix",arguments),n=f.defer(p.libraries),i.config.animation.queue&&i.queue.length<i.config.animation.queueLimit?(t.deferred=n,i.queue.push(t),i.config.controls.enable&&(i.isToggling?(i.buildToggleArray(t.instruction.command),e=i.getToggleSelector(),i.updateControls({filter:{selector:e}})):i.updateControls(t.instruction.command))):(i.config.debug.showWarnings&&console.warn(p.messages.warningMultimixInstanceQueueFull()),n.resolve(i.state),p.events.fire("mixBusy",i.dom.container,{state:i.state,instance:i},i.dom.document),"function"==typeof i.config.callbacks.onMixBusy&&i.config.callbacks.onMixBusy.call(i.dom.container,i.state,i)),i.callFilters("promiseQueueMix",n.promise,arguments)},getDataOperation:function(t){var e=this,i=new p.Operation,n=[],i=e.callFilters("operationUnmappedGetDataOperation",i,arguments);if(e.dom.targets.length&&!(n=e.state.activeDataset||[]).length)throw new Error(p.messages.errorDatasetNotSet());return i.id=f.randomHex(),i.startState=e.state,i.startDataset=n,i.newDataset=t.slice(),e.diffDatasets(i),i.startOrder=e.targets,i.newOrder=i.show,e.config.animation.enable&&(e.getStartMixData(i),e.setInter(i),i.docState=f.getDocumentState(e.dom.document),e.getInterMixData(i),e.setFinal(i),e.getFinalMixData(i),e.parseEffects(),i.hasEffect=e.hasEffect(),e.getTweenData(i)),e.targets=i.show.slice(),i.newState=e.buildState(i),Array.prototype.push.apply(e.targets,i.toRemove),i=e.callFilters("operationMappedGetDataOperation",i,arguments)},diffDatasets:function(t){var e=this,i=[],n=[],r=[],s=null,o=null,a=null,l=null,c=null,u={},d="",h=-1;for(e.callActions("beforeDiffDatasets",arguments),h=0;s=t.newDataset[h];h++){if(void 0===(d=s[e.config.data.uidKey])||d.toString().length<1)throw new TypeError(p.messages.errorDatasetInvalidUidKey({uidKey:e.config.data.uidKey}));if(u[d])throw new Error(p.messages.errorDatasetDuplicateUid({uid:d}));u[d]=!0,(o=e.cache[d])instanceof p.Target?(e.config.data.dirtyCheck&&!f.deepEquals(s,o.data)&&(a=o.render(s),o.data=s,a!==o.dom.el&&(o.isInDom&&(o.unbindEvents(),e.dom.parent.replaceChild(a,o.dom.el)),o.isShown||(a.style.display="none"),o.dom.el=a,o.isInDom&&o.bindEvents())),a=o.dom.el):((o=new p.Target).init(null,e,s),o.hide()),o.isInDom?(c=o.dom.el.nextElementSibling,n.push(d),l&&(l.lastElementChild&&l.appendChild(e.dom.document.createTextNode(" ")),e.insertDatasetFrag(l,o.dom.el,r),l=null)):((l=l||e.dom.document.createDocumentFragment()).lastElementChild&&l.appendChild(e.dom.document.createTextNode(" ")),l.appendChild(o.dom.el),o.isInDom=!0,o.unbindEvents(),o.bindEvents(),o.hide(),t.toShow.push(o),r.push(o)),t.show.push(o)}for(l&&((c=c||e.config.layout.siblingAfter)&&l.appendChild(e.dom.document.createTextNode(" ")),e.insertDatasetFrag(l,c,r)),h=0;s=t.startDataset[h];h++)d=s[e.config.data.uidKey],o=e.cache[d],t.show.indexOf(o)<0?(t.hide.push(o),t.toHide.push(o),t.toRemove.push(o)):i.push(d);f.isEqualArray(i,n)||(t.willSort=!0),e.callActions("afterDiffDatasets",arguments)},insertDatasetFrag:function(t,e,i){var n=e?f.arrayFromList(this.dom.parent.children).indexOf(e):this.targets.length;for(this.dom.parent.insertBefore(t,e);i.length;)this.targets.splice(n,0,i.shift()),n++},willSort:function(t,e){var i=!1,i=!!(this.config.behavior.liveSort||"random"===t.order||t.attribute!==e.attribute||t.order!==e.order||t.collection!==e.collection||null===t.next&&e.next||t.next&&null===e.next)||!(!t.next||!e.next)&&this.willSort(t.next,e.next);return this.callFilters("resultWillSort",i,arguments)},show:function(){return this.filter("all")},hide:function(){return this.filter("none")},isMixing:function(){return this.isBusy},filter:function(){var t=this.parseFilterArgs(arguments);return this.multimix({filter:t.command},t.animate,t.callback)},toggleOn:function(){var t,e=this,i=e.parseFilterArgs(arguments),n=i.command.selector;return e.isToggling=!0,e.toggleArray.indexOf(n)<0&&e.toggleArray.push(n),t=e.getToggleSelector(),e.multimix({filter:t},i.animate,i.callback)},toggleOff:function(){var t=this,e=t.parseFilterArgs(arguments),i=e.command.selector,n=t.toggleArray.indexOf(i);return t.isToggling=!0,-1<n&&t.toggleArray.splice(n,1),i=t.getToggleSelector(),t.multimix({filter:i},e.animate,e.callback)},sort:function(){var t=this.parseSortArgs(arguments);return this.multimix({sort:t.command},t.animate,t.callback)},changeLayout:function(){var t=this.parseChangeLayoutArgs(arguments);return this.multimix({changeLayout:t.command},t.animate,t.callback)},dataset:function(){var t,e,i=this,n=i.parseDatasetArgs(arguments),r=null;return i.callActions("beforeDataset",arguments),i.isBusy?((r=new p.QueueItem).args=arguments,r.instruction=n,i.queueMix(r)):(n.callback&&(i.userCallback=n.callback),e=n.animate^i.config.animation.enable?n.animate:i.config.animation.enable,t=i.getDataOperation(n.command.dataset),i.goMix(e,t))},multimix:function(){var t,e,i=this,n=null,r=i.parseMultimixArgs(arguments);return i.callActions("beforeMultimix",arguments),i.isBusy?((n=new p.QueueItem).args=arguments,n.instruction=r,n.triggerElement=i.lastClicked,n.isToggling=i.isToggling,i.queueMix(n)):(t=i.getOperation(r.command),i.config.controls.enable&&(r.command.filter&&!i.isToggling&&(i.toggleArray.length=0,i.buildToggleArray(t.command)),i.queue.length<1&&i.updateControls(t.command)),r.callback&&(i.userCallback=r.callback),e=r.animate^i.config.animation.enable?r.animate:i.config.animation.enable,i.callFilters("operationMultimix",t,arguments),i.goMix(e,t))},getOperation:function(t){var e=this,i=t.sort,n=t.filter,r=t.changeLayout,s=t.remove,o=t.insert,a=new p.Operation;return(a=e.callFilters("operationUnmappedGetOperation",a,arguments)).id=f.randomHex(),a.command=t,a.startState=e.state,a.triggerElement=e.lastClicked,e.isBusy?(e.config.debug.showWarnings&&console.warn(p.messages.warningGetOperationInstanceBusy()),null):(o&&e.insertTargets(o,a),s&&(a.toRemove=s.targets),a.startSort=a.newSort=a.startState.activeSort,a.startOrder=a.newOrder=e.targets,i&&(a.startSort=a.startState.activeSort,a.newSort=i,a.willSort=e.willSort(i,a.startState.activeSort),a.willSort&&e.sortOperation(a)),a.startFilter=a.startState.activeFilter,a.newFilter=n||f.extend(new p.CommandFilter,a.startFilter),"all"===a.newFilter.selector?a.newFilter.selector=e.config.selectors.target:"none"===a.newFilter.selector&&(a.newFilter.selector=""),e.filterOperation(a),a.startContainerClassName=a.startState.activeContainerClassName,r?(a.newContainerClassName=r.containerClassName,a.newContainerClassName!==a.startContainerClassName&&(a.willChangeLayout=!0)):a.newContainerClassName=a.startContainerClassName,e.config.animation.enable&&(e.getStartMixData(a),e.setInter(a),a.docState=f.getDocumentState(e.dom.document),e.getInterMixData(a),e.setFinal(a),e.getFinalMixData(a),e.parseEffects(),a.hasEffect=e.hasEffect(),e.getTweenData(a)),a.willSort&&(e.targets=a.newOrder),a.newState=e.buildState(a),e.callFilters("operationMappedGetOperation",a,arguments))},tween:function(t,e){var i,n=null,r=null,s=-1;for(e=Math.min(e,1),e=Math.max(e,0),s=0;n=t.show[s];s++)r=t.showPosData[s],n.applyTween(r,e);for(s=0;n=t.hide[s];s++)n.isShown&&n.hide(),-1<(i=t.toHide.indexOf(n))&&(r=t.toHidePosData[i],n.isShown||n.show(),n.applyTween(r,e))},insert:function(){var t=this.parseInsertArgs(arguments);return this.multimix({insert:t.command},t.animate,t.callback)},insertBefore:function(){var t=this.parseInsertArgs(arguments);return this.insert(t.command.collection,"before",t.command.sibling,t.animate,t.callback)},insertAfter:function(){var t=this.parseInsertArgs(arguments);return this.insert(t.command.collection,"after",t.command.sibling,t.animate,t.callback)},prepend:function(){var t=this.parseInsertArgs(arguments);return this.insert(0,t.command.collection,t.animate,t.callback)},append:function(){var t=this.parseInsertArgs(arguments);return this.insert(this.state.totalTargets,t.command.collection,t.animate,t.callback)},remove:function(){var t=this.parseRemoveArgs(arguments);return this.multimix({remove:t.command},t.animate,t.callback)},getConfig:function(t){var e=null,e=t?f.getProperty(this.config,t):this.config;return this.callFilters("valueGetConfig",e,arguments)},configure:function(t){this.callActions("beforeConfigure",arguments),f.extend(this.config,t,!0,!0),this.callActions("afterConfigure",arguments)},getState:function(){var t=new p.State;return f.extend(t,this.state),f.freeze(t),this.callFilters("stateGetState",t,arguments)},forceRefresh:function(){this.indexTargets()},forceRender:function(){var t=this,e=null,i=null,n="";for(n in t.cache)(i=(e=t.cache[n]).render(e.data))!==e.dom.el&&(e.isInDom&&(e.unbindEvents(),t.dom.parent.replaceChild(i,e.dom.el)),e.isShown||(i.style.display="none"),e.dom.el=i,e.isInDom&&e.bindEvents());t.state=t.buildState(t.lastOperation)},destroy:function(t){var e=this,i=null,n=null,r=0;for(e.callActions("beforeDestroy",arguments),r=0;i=e.controls[r];r++)i.removeBinding(e);for(r=0;n=e.targets[r];r++)t&&n.show(),n.unbindEvents();e.dom.container.id.match(/^MixItUp/)&&e.dom.container.removeAttribute("id"),delete p.instances[e.id],e.callActions("afterDestroy",arguments)}}),p.IMoveData=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.posIn=null,this.posOut=null,this.operation=null,this.callback=null,this.statusChange="",this.duration=-1,this.staggerIndex=-1,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.IMoveData),p.IMoveData.prototype=Object.create(p.Base.prototype),p.IMoveData.prototype.constructor=p.IMoveData,p.TargetDom=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.TargetDom),p.TargetDom.prototype=Object.create(p.Base.prototype),p.TargetDom.prototype.constructor=p.TargetDom,p.Target=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.sortString="",this.mixer=null,this.callback=null,this.isShown=!1,this.isBound=!1,this.isExcluded=!1,this.isInDom=!1,this.handler=null,this.operation=null,this.data=null,this.dom=new p.TargetDom,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.Target),p.Target.prototype=Object.create(p.Base.prototype),f.extend(p.Target.prototype,{constructor:p.Target,init:function(t,e,i){var n=this,r="";if(n.callActions("beforeInit",arguments),n.mixer=e,t=t||n.render(i),n.cacheDom(t),n.bindEvents(),"none"!==n.dom.el.style.display&&(n.isShown=!0),i&&e.config.data.uidKey){if(void 0===(r=i[e.config.data.uidKey])||r.toString().length<1)throw new TypeError(p.messages.errorDatasetInvalidUidKey({uidKey:e.config.data.uidKey}));n.id=r,n.data=i,e.cache[r]=n}n.callActions("afterInit",arguments)},render:function(t){var e,i=null,n=null,r=null;if(this.callActions("beforeRender",arguments),"function"!=typeof(i=this.callFilters("renderRender",this.mixer.config.render.target,arguments)))throw new TypeError(p.messages.errorDatasetRendererNotSet());return(e=i(t))&&"object"==typeof e&&f.isElement(e)?n=e:"string"==typeof e&&((r=document.createElement("div")).innerHTML=e,n=r.firstElementChild),this.callFilters("elRender",n,arguments)},cacheDom:function(t){this.callActions("beforeCacheDom",arguments),this.dom.el=t,this.callActions("afterCacheDom",arguments)},getSortString:function(t){t=this.dom.el.getAttribute("data-"+t)||"";this.callActions("beforeGetSortString",arguments),t=isNaN(+t)?t.toLowerCase():+t,this.sortString=t,this.callActions("afterGetSortString",arguments)},show:function(){var t=this;t.callActions("beforeShow",arguments),t.isShown||(t.dom.el.style.display="",t.isShown=!0),t.callActions("afterShow",arguments)},hide:function(){var t=this;t.callActions("beforeHide",arguments),t.isShown&&(t.dom.el.style.display="none",t.isShown=!1),t.callActions("afterHide",arguments)},move:function(t){var e=this;e.callActions("beforeMove",arguments),e.isExcluded||e.mixer.targetsMoved++,e.applyStylesIn(t),requestAnimationFrame(function(){e.applyStylesOut(t)}),e.callActions("afterMove",arguments)},applyTween:function(t,e){var i,n,r=this,s=t.posIn,o=[],a=new p.StyleData,l=-1;for(r.callActions("beforeApplyTween",arguments),a.x=s.x,a.y=s.y,0===e?r.hide():r.isShown||r.show(),l=0;i=p.features.TWEENABLE[l];l++)n=t.tweenData[i],"x"===i?n&&(a.x=s.x+n*e):"y"===i?n&&(a.y=s.y+n*e):n instanceof p.TransformData?n.value&&(a[i].value=s[i].value+n.value*e,a[i].unit=n.unit,o.push(i+"("+a[i].value+n.unit+")")):n&&(a[i]=s[i]+n*e,r.dom.el.style[i]=a[i]);(a.x||a.y)&&o.unshift("translate("+a.x+"px, "+a.y+"px)"),o.length&&(r.dom.el.style[p.features.transformProp]=o.join(" ")),r.callActions("afterApplyTween",arguments)},applyStylesIn:function(t){var e=this,i=t.posIn,n=1!==e.mixer.effectsIn.opacity,r=[];e.callActions("beforeApplyStylesIn",arguments),r.push("translate("+i.x+"px, "+i.y+"px)"),e.mixer.config.animation.animateResizeTargets&&("show"!==t.statusChange&&(e.dom.el.style.width=i.width+"px",e.dom.el.style.height=i.height+"px"),e.dom.el.style.marginRight=i.marginRight+"px",e.dom.el.style.marginBottom=i.marginBottom+"px"),n&&(e.dom.el.style.opacity=i.opacity),"show"===t.statusChange&&(r=r.concat(e.mixer.transformIn)),e.dom.el.style[p.features.transformProp]=r.join(" "),e.callActions("afterApplyStylesIn",arguments)},applyStylesOut:function(t){var e=this,i=[],n=[],r=e.mixer.config.animation.animateResizeTargets,s=void 0!==e.mixer.effectsIn.opacity;if(e.callActions("beforeApplyStylesOut",arguments),i.push(e.writeTransitionRule(p.features.transformRule,t.staggerIndex)),"none"!==t.statusChange&&i.push(e.writeTransitionRule("opacity",t.staggerIndex,t.duration)),r&&(i.push(e.writeTransitionRule("width",t.staggerIndex,t.duration)),i.push(e.writeTransitionRule("height",t.staggerIndex,t.duration)),i.push(e.writeTransitionRule("margin",t.staggerIndex,t.duration))),!t.callback)return e.mixer.targetsImmovable++,void(e.mixer.targetsMoved===e.mixer.targetsImmovable&&e.mixer.cleanUp(t.operation));switch(e.operation=t.operation,e.callback=t.callback,e.isExcluded||e.mixer.targetsBound++,e.isBound=!0,e.applyTransition(i),r&&0<t.posOut.width&&0<t.posOut.height&&(e.dom.el.style.width=t.posOut.width+"px",e.dom.el.style.height=t.posOut.height+"px",e.dom.el.style.marginRight=t.posOut.marginRight+"px",e.dom.el.style.marginBottom=t.posOut.marginBottom+"px"),e.mixer.config.animation.nudge||"hide"!==t.statusChange||n.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),t.statusChange){case"hide":s&&(e.dom.el.style.opacity=e.mixer.effectsOut.opacity),n=n.concat(e.mixer.transformOut);break;case"show":s&&(e.dom.el.style.opacity=1)}(e.mixer.config.animation.nudge||!e.mixer.config.animation.nudge&&"hide"!==t.statusChange)&&n.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),e.dom.el.style[p.features.transformProp]=n.join(" "),e.callActions("afterApplyStylesOut",arguments)},writeTransitionRule:function(t,e,i){var n=this.getDelay(e),e="",e=t+" "+(0<i?i:this.mixer.config.animation.duration)+"ms "+n+"ms "+("opacity"===t?"linear":this.mixer.config.animation.easing);return this.callFilters("ruleWriteTransitionRule",e,arguments)},getDelay:function(t){var e,i=this;return"function"==typeof i.mixer.config.animation.staggerSequence&&(t=i.mixer.config.animation.staggerSequence.call(i,t,i.state)),e=i.mixer.staggerDuration?t*i.mixer.staggerDuration:0,i.callFilters("delayGetDelay",e,arguments)},applyTransition:function(t){t=t.join(", ");this.callActions("beforeApplyTransition",arguments),this.dom.el.style[p.features.transitionProp]=t,this.callActions("afterApplyTransition",arguments)},handleTransitionEnd:function(t){var e=this,i=t.propertyName,n=e.mixer.config.animation.animateResizeTargets;e.callActions("beforeHandleTransitionEnd",arguments),e.isBound&&t.target.matches(e.mixer.config.selectors.target)&&(-1<i.indexOf("transform")||-1<i.indexOf("opacity")||n&&-1<i.indexOf("height")||n&&-1<i.indexOf("width")||n&&-1<i.indexOf("margin"))&&(e.callback.call(e,e.operation),e.isBound=!1,e.callback=null,e.operation=null),e.callActions("afterHandleTransitionEnd",arguments)},eventBus:function(t){switch(this.callActions("beforeEventBus",arguments),t.type){case"webkitTransitionEnd":case"transitionend":this.handleTransitionEnd(t)}this.callActions("afterEventBus",arguments)},unbindEvents:function(){var t=this;t.callActions("beforeUnbindEvents",arguments),f.off(t.dom.el,"webkitTransitionEnd",t.handler),f.off(t.dom.el,"transitionend",t.handler),t.callActions("afterUnbindEvents",arguments)},bindEvents:function(){var t,e=this;e.callActions("beforeBindEvents",arguments),t="webkit"===p.features.transitionPrefix?"webkitTransitionEnd":"transitionend",e.handler=function(t){return e.eventBus(t)},f.on(e.dom.el,t,e.handler),e.callActions("afterBindEvents",arguments)},getPosData:function(t){var e,i,n=this,r=new p.StyleData;return n.callActions("beforeGetPosData",arguments),r.x=n.dom.el.offsetLeft,r.y=n.dom.el.offsetTop,(n.mixer.config.animation.animateResizeTargets||t)&&(i=n.dom.el.getBoundingClientRect(),r.top=i.top,r.right=i.right,r.bottom=i.bottom,r.left=i.left,r.width=i.width,r.height=i.height),n.mixer.config.animation.animateResizeTargets&&(e=h.getComputedStyle(n.dom.el),r.marginBottom=parseFloat(e.marginBottom),r.marginRight=parseFloat(e.marginRight)),n.callFilters("posDataGetPosData",r,arguments)},cleanUp:function(){var t=this;t.callActions("beforeCleanUp",arguments),t.dom.el.style[p.features.transformProp]="",t.dom.el.style[p.features.transitionProp]="",t.dom.el.style.opacity="",t.mixer.config.animation.animateResizeTargets&&(t.dom.el.style.width="",t.dom.el.style.height="",t.dom.el.style.marginRight="",t.dom.el.style.marginBottom=""),t.callActions("afterCleanUp",arguments)}}),p.Collection=function(t){var e,i=-1;for(this.callActions("beforeConstruct"),i=0;e=t[i];i++)this[i]=e;this.length=t.length,this.callActions("afterConstruct"),f.freeze(this)},p.BaseStatic.call(p.Collection),p.Collection.prototype=Object.create(p.Base.prototype),f.extend(p.Collection.prototype,{constructor:p.Collection,mixitup:function(t){var e=null,i=Array.prototype.slice.call(arguments),n=[],r=-1;for(this.callActions("beforeMixitup"),i.shift(),r=0;e=this[r];r++)n.push(e[t].apply(e,i));return this.callFilters("promiseMixitup",f.all(n,p.libraries),arguments)}}),p.Operation=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.args=[],this.command=null,this.showPosData=[],this.toHidePosData=[],this.startState=null,this.newState=null,this.docState=null,this.willSort=!1,this.willChangeLayout=!1,this.hasEffect=!1,this.hasFailed=!1,this.triggerElement=null,this.show=[],this.hide=[],this.matching=[],this.toShow=[],this.toHide=[],this.toMove=[],this.toRemove=[],this.startOrder=[],this.newOrder=[],this.startSort=null,this.newSort=null,this.startFilter=null,this.newFilter=null,this.startDataset=null,this.newDataset=null,this.viewportDeltaX=0,this.viewportDeltaY=0,this.startX=0,this.startY=0,this.startHeight=0,this.startWidth=0,this.newX=0,this.newY=0,this.newHeight=0,this.newWidth=0,this.startContainerClassName="",this.startDisplay="",this.newContainerClassName="",this.newDisplay="",this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.Operation),p.Operation.prototype=Object.create(p.Base.prototype),p.Operation.prototype.constructor=p.Operation,p.State=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.activeFilter=null,this.activeSort=null,this.activeContainerClassName="",this.container=null,this.targets=[],this.hide=[],this.show=[],this.matching=[],this.totalTargets=-1,this.totalShow=-1,this.totalHide=-1,this.totalMatching=-1,this.hasFailed=!1,this.triggerElement=null,this.activeDataset=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.State),p.State.prototype=Object.create(p.Base.prototype),p.State.prototype.constructor=p.State,p.UserInstruction=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.command={},this.animate=!1,this.callback=null,this.callActions("afterConstruct"),f.seal(this)},p.BaseStatic.call(p.UserInstruction),p.UserInstruction.prototype=Object.create(p.Base.prototype),p.UserInstruction.prototype.constructor=p.UserInstruction,p.Messages=function(){p.Base.call(this),this.callActions("beforeConstruct"),this.ERROR_FACTORY_INVALID_CONTAINER="[MixItUp] An invalid selector or element reference was passed to the mixitup factory function",this.ERROR_FACTORY_CONTAINER_NOT_FOUND="[MixItUp] The provided selector yielded no container element",this.ERROR_CONFIG_INVALID_ANIMATION_EFFECTS="[MixItUp] Invalid value for `animation.effects`",this.ERROR_CONFIG_INVALID_CONTROLS_SCOPE="[MixItUp] Invalid value for `controls.scope`",this.ERROR_CONFIG_INVALID_PROPERTY='[MixitUp] Invalid configuration object property "${erroneous}"${suggestion}',this.ERROR_CONFIG_INVALID_PROPERTY_SUGGESTION='. Did you mean "${probableMatch}"?',this.ERROR_CONFIG_DATA_UID_KEY_NOT_SET="[MixItUp] To use the dataset API, a UID key must be specified using `data.uidKey`",this.ERROR_DATASET_INVALID_UID_KEY='[MixItUp] The specified UID key "${uidKey}" is not present on one or more dataset items',this.ERROR_DATASET_DUPLICATE_UID='[MixItUp] The UID "${uid}" was found on two or more dataset items. UIDs must be unique.',this.ERROR_INSERT_INVALID_ARGUMENTS="[MixItUp] Please provider either an index or a sibling and position to insert, not both",this.ERROR_INSERT_PREEXISTING_ELEMENT="[MixItUp] An element to be inserted already exists in the container",this.ERROR_FILTER_INVALID_ARGUMENTS="[MixItUp] Please provide either a selector or collection `.filter()`, not both",this.ERROR_DATASET_NOT_SET="[MixItUp] To use the dataset API with pre-rendered targets, a starting dataset must be set using `load.dataset`",this.ERROR_DATASET_PRERENDERED_MISMATCH="[MixItUp] `load.dataset` does not match pre-rendered targets",this.ERROR_DATASET_RENDERER_NOT_SET="[MixItUp] To insert an element via the dataset API, a target renderer function must be provided to `render.target`",this.ERROR_SORT_NON_EXISTENT_ELEMENT="[MixItUp] An element to be sorted does not already exist in the container",this.WARNING_FACTORY_PREEXISTING_INSTANCE="[MixItUp] WARNING: This element already has an active MixItUp instance. The provided configuration object will be ignored. If you wish to perform additional methods on this instance, please create a reference.",this.WARNING_INSERT_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.insert()`",this.WARNING_REMOVE_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.remove()`",this.WARNING_MULTIMIX_INSTANCE_QUEUE_FULL="[MixItUp] WARNING: An operation was requested but the MixItUp instance was busy. The operation was rejected because the queue is full or queuing is disabled.",this.WARNING_GET_OPERATION_INSTANCE_BUSY="[MixItUp] WARNING: Operations can be be created while the MixItUp instance is busy.",this.WARNING_NO_PROMISE_IMPLEMENTATION="[MixItUp] WARNING: No Promise implementations could be found. If you wish to use promises with MixItUp please install an ES6 Promise polyfill.",this.WARNING_INCONSISTENT_SORTING_ATTRIBUTES='[MixItUp] WARNING: The requested sorting data attribute "${attribute}" was not present on one or more target elements which may product unexpected sort output',this.callActions("afterConstruct"),this.compileTemplates(),f.seal(this)},p.BaseStatic.call(p.Messages),p.Messages.prototype=Object.create(p.Base.prototype),p.Messages.prototype.constructor=p.Messages,p.Messages.prototype.compileTemplates=function(){var t,e="";for(e in this)"string"==typeof(t=this[e])&&(this[f.camelCase(e)]=f.template(t))},p.messages=new p.Messages,p.Facade=function(t){p.Base.call(this),this.callActions("beforeConstruct",arguments),this.configure=t.configure.bind(t),this.show=t.show.bind(t),this.hide=t.hide.bind(t),this.filter=t.filter.bind(t),this.toggleOn=t.toggleOn.bind(t),this.toggleOff=t.toggleOff.bind(t),this.sort=t.sort.bind(t),this.changeLayout=t.changeLayout.bind(t),this.multimix=t.multimix.bind(t),this.dataset=t.dataset.bind(t),this.tween=t.tween.bind(t),this.insert=t.insert.bind(t),this.insertBefore=t.insertBefore.bind(t),this.insertAfter=t.insertAfter.bind(t),this.prepend=t.prepend.bind(t),this.append=t.append.bind(t),this.remove=t.remove.bind(t),this.destroy=t.destroy.bind(t),this.forceRefresh=t.forceRefresh.bind(t),this.forceRender=t.forceRender.bind(t),this.isMixing=t.isMixing.bind(t),this.getOperation=t.getOperation.bind(t),this.getConfig=t.getConfig.bind(t),this.getState=t.getState.bind(t),this.callActions("afterConstruct",arguments),f.freeze(this),f.seal(this)},p.BaseStatic.call(p.Facade),p.Facade.prototype=Object.create(p.Base.prototype),p.Facade.prototype.constructor=p.Facade,"object"==typeof exports&&"object"==typeof module?module.exports=p:"function"==typeof define&&define.amd?define(function(){return p}):void 0!==h.mixitup&&"function"==typeof h.mixitup||(h.mixitup=p),p.BaseStatic.call(p.constructor),p.NAME="mixitup",p.CORE_VERSION="3.3.1"}(window),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Scrollbar=e():t.Scrollbar=e()}(this,function(){return i=[function(i,t,e){!function(t){function e(t){return t&&t.Math==Math&&t}i.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}.call(this,e(43))},function(t,e,i){var n=i(0),r=i(51),s=i(3),o=i(29),a=i(56),i=i(76),l=r("wks"),c=n.Symbol,u=i?c:c&&c.withoutSetter||o;t.exports=function(t){return s(l,t)||(a&&s(c,t)?l[t]=c[t]:l[t]=u("Symbol."+t)),l[t]}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(6),r=i(46),s=i(7),o=i(25),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(s(t),e=o(e,!0),s(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){i=i(4);t.exports=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e,i){var n=i(2);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var n=i(6),r=i(5),s=i(14);t.exports=n?function(t,e,i){return r.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n,r,s,o,a,l,c,u,d=i(50),h=i(0),p=i(2),f=i(8),m=i(3),g=i(27),i=i(16),h=h.WeakMap;c=d?(n=new h,r=n.get,s=n.has,o=n.set,a=function(t,e){return o.call(n,t,e),e},l=function(t){return r.call(n,t)||{}},function(t){return s.call(n,t)}):(i[u=g("state")]=!0,a=function(t,e){return f(t,u,e),e},l=function(t){return m(t,u)?t[u]:{}},function(t){return m(t,u)}),t.exports={set:a,get:l,has:c,enforce:function(t){return c(t)?l(t):a(t,{})},getterFor:function(i){return function(t){var e;if(!p(t)||(e=l(t)).type!==i)throw TypeError("Incompatible receiver, "+i+" required");return e}}}},function(t,e,i){i=i(0);t.exports=i},function(t,e,i){var o=i(0),a=i(8),l=i(3),c=i(26),n=i(48),i=i(9),r=i.get,u=i.enforce,d=String(String).split("String");(t.exports=function(t,e,i,n){var r=!!n&&!!n.unsafe,s=!!n&&!!n.enumerable,n=!!n&&!!n.noTargetGet;"function"==typeof i&&("string"!=typeof e||l(i,"name")||a(i,"name",e),u(i).source=d.join("string"==typeof e?e:"")),t!==o?(r?!n&&t[e]&&(s=!0):delete t[e],s?t[e]=i:a(t,e,i)):s?t[e]=i:c(e,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&r(this).source||n(this)})},function(t,e){t.exports={}},function(t,e,i){var c=i(0),u=i(44).f,d=i(8),h=i(11),p=i(26),f=i(70),m=i(54);t.exports=function(t,e){var i,n,r,s,o=t.target,a=t.global,l=t.stat;if(i=a?c:l?c[o]||p(o,{}):(c[o]||{}).prototype)for(n in e){if(r=e[n],s=t.noTargetGet?(s=u(i,n))&&s.value:i[n],!m(a?n:o+(l?".":"#")+n,t.forced)&&void 0!==s){if(typeof r==typeof s)continue;f(r,s)}(t.sham||s&&s.sham)&&d(r,"sham",!0),h(i,n,r,t)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(22),r=i(24);t.exports=function(t){return n(r(t))}},function(t,e){t.exports={}},function(t,e,i){var n=i(31),r=Math.min;t.exports=function(t){return 0<t?r(n(t),9007199254740991):0}},function(t,e,i){function n(t){a(t,u,{value:{objectID:"O"+ ++d,weakData:{}}})}var r=i(16),s=i(2),o=i(3),a=i(5).f,l=i(29),c=i(75),u=l("meta"),d=0,h=Object.isExtensible||function(){return!0},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,u)){if(!h(t))return"F";if(!e)return"E";n(t)}return t[u].objectID},getWeakData:function(t,e){if(!o(t,u)){if(!h(t))return!0;if(!e)return!1;n(t)}return t[u].weakData},onFreeze:function(t){return c&&p.REQUIRED&&h(t)&&!o(t,u)&&n(t),t}};r[u]=!0},function(t,e,i){var s=i(77);t.exports=function(n,r,t){if(s(n),void 0===r)return n;switch(t){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}}},function(t,e,i){var n=i(24);t.exports=function(t){return Object(n(t))}},function(t,e,i){"use strict";var g=i(13),y=i(0),v=i(54),b=i(11),_=i(18),T=i(33),w=i(35),S=i(2),x=i(4),C=i(60),k=i(36),E=i(78);t.exports=function(i,t,e){function n(t){var i=p[t];b(p,t,"add"==t?function(t){return i.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(u&&!S(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return u&&!S(t)?void 0:i.call(this,0===t?0:t)}:"has"==t?function(t){return!(u&&!S(t))&&i.call(this,0===t?0:t)}:function(t,e){return i.call(this,0===t?0:t,e),this})}var r,s,o,a,l,c=-1!==i.indexOf("Map"),u=-1!==i.indexOf("Weak"),d=c?"set":"add",h=y[i],p=h&&h.prototype,f=h,m={};return v(i,"function"!=typeof h||!(u||p.forEach&&!x(function(){(new h).entries().next()})))?(f=e.getConstructor(t,i,c,d),_.REQUIRED=!0):v(i,!0)&&(s=(r=new f)[d](u?{}:-0,1)!=r,o=x(function(){r.has(1)}),a=C(function(t){new h(t)}),l=!u&&x(function(){for(var t=new h,e=5;e--;)t[d](e,e);return!t.has(-0)}),a||(((f=t(function(t,e){w(t,f,i);t=E(new h,t,f);return null!=e&&T(e,t[d],t,c),t})).prototype=p).constructor=f),(o||l)&&(n("delete"),n("has"),c&&n("get")),(l||s)&&n(d),u&&p.clear&&delete p.clear),m[i]=f,g({global:!0,forced:f!=h},m),k(f,i),u||e.setStrong(f,i,c),f}},function(t,e,i){var n=i(4),r=i(23),s="".split;t.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==r(t)?s.call(t,""):Object(t)}:Object},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var r=i(2);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(0),r=i(8);t.exports=function(e,i){try{r(n,e,i)}catch(t){n[e]=i}return i}},function(t,e,i){var n=i(51),r=i(29),s=n("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},function(t,e){t.exports=!1},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},function(t,e,i){function n(t){return"function"==typeof t?t:void 0}var r=i(10),s=i(0);t.exports=function(t,e){return arguments.length<2?n(r[t])||n(s[t]):r[t]&&r[t][e]||s[t]&&s[t][e]}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:i)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){function h(t,e){this.stopped=t,this.result=e}var p=i(7),f=i(55),m=i(17),g=i(19),y=i(57),v=i(59);(t.exports=function(t,e,i,n,r){var s,o,a,l,c,u,d=g(e,i,n?2:1);if(r)s=t;else{if("function"!=typeof(r=y(t)))throw TypeError("Target is not iterable");if(f(r)){for(o=0,a=m(t.length);o<a;o++)if((l=n?d(p(u=t[o])[0],u[1]):d(t[o]))&&l instanceof h)return l;return new h(!1)}s=r.call(t)}for(c=s.next;!(u=c.call(s)).done;)if("object"==typeof(l=v(s,d,u.value,n))&&l&&l instanceof h)return l;return new h(!1)}).stop=function(t){return new h(!0,t)}},function(t,e,i){var n={};n[i(1)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e){t.exports=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t}},function(t,e,i){var n=i(5).f,r=i(3),s=i(1)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){function n(){}function r(t){return"<script>"+t+"<\/script>"}var s,o=i(7),a=i(80),l=i(32),c=i(16),u=i(81),d=i(47),h=i(27)("IE_PROTO"),p=function(){try{s=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var t;p=s?function(t){t.write(r("")),t.close();var e=t.parentWindow.Object;return t=null,e}(s):((t=d("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(r("document.F=Object")),t.close(),t.F);for(var e=l.length;e--;)delete p.prototype[l[e]];return p()};c[h]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(n.prototype=o(t),i=new n,n.prototype=null,i[h]=t):i=p(),void 0===e?i:a(i,e)}},function(t,e,i){var r=i(11);t.exports=function(t,e,i){for(var n in e)r(t,n,e[n],i);return t}},function(t,e,i){"use strict";function m(){return this}var g=i(13),y=i(82),v=i(65),b=i(61),_=i(36),T=i(8),w=i(11),n=i(1),S=i(28),x=i(12),i=i(64),C=i.IteratorPrototype,k=i.BUGGY_SAFARI_ITERATORS,E=n("iterator");t.exports=function(t,e,i,n,r,s,o){y(i,e,n);function a(t){if(t===r&&f)return f;if(!k&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}}var l,c,u=e+" Iterator",d=!1,h=t.prototype,p=h[E]||h["@@iterator"]||r&&h[r],f=!k&&p||a(r),n="Array"==e&&h.entries||p;if(n&&(t=v(n.call(new t)),C!==Object.prototype&&t.next&&(S||v(t)===C||(b?b(t,C):"function"!=typeof t[E]&&T(t,E,m)),_(t,u,!0,!0),S&&(x[u]=m))),"values"==r&&p&&"values"!==p.name&&(d=!0,f=function(){return p.call(this)}),S&&!o||h[E]===f||T(h,E,f),x[e]=f,r)if(l={values:a("values"),keys:s?f:a("keys"),entries:a("entries")},o)for(c in l)!k&&!d&&c in h||w(h,c,l[c]);else g({target:e,proto:!0,forced:k||d},l);return l}},function(t,e,i){var n=i(34),r=i(11),i=i(85);n||r(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,i){"use strict";var n=i(86).charAt,r=i(9),i=i(39),s=r.set,o=r.getterFor("String Iterator");i(String,"String",function(t){s(this,{type:"String Iterator",string:String(t),index:0})},function(){var t=o(this),e=t.string,i=t.index;return i>=e.length?{value:void 0,done:!0}:(i=n(e,i),t.index+=i.length,{value:i,done:!1})})},function(t,e,i){var n,r=i(0),s=i(87),o=i(88),a=i(8),i=i(1),l=i("iterator"),c=i("toStringTag"),u=o.values;for(n in s){var d=r[n],h=d&&d.prototype;if(h){if(h[l]!==u)try{a(h,l,u)}catch(t){h[l]=u}if(h[c]||a(h,c,n),s[n])for(var p in o)if(h[p]!==o[p])try{a(h,p,o[p])}catch(t){h[p]=o[p]}}}},function(t,e){var i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n=i(6),r=i(45),s=i(14),o=i(15),a=i(25),l=i(3),c=i(46),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(l(t,e))return s(!r.f.call(t,e),t[e])}},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!n.call({1:2},1);e.f=s?function(t){t=r(this,t);return!!t&&t.enumerable}:n},function(t,e,i){var n=i(6),r=i(4),s=i(47);t.exports=!n&&!r(function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(0),i=i(2),r=n.document,s=i(r)&&i(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},function(t,e,i){var i=i(49),n=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return n.call(t)}),t.exports=i.inspectSource},function(t,e,i){var n=i(0),i=i(26),i=n["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=i},function(t,e,i){var n=i(0),i=i(48),n=n.WeakMap;t.exports="function"==typeof n&&/native code/.test(i(n))},function(t,e,i){var n=i(28),r=i(49);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var o=i(3),a=i(15),l=i(73).indexOf,c=i(16);t.exports=function(t,e){var i,n=a(t),r=0,s=[];for(i in n)!o(c,i)&&o(n,i)&&s.push(i);for(;e.length>r;)o(n,i=e[r++])&&(~l(s,i)||s.push(i));return s}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(4),r=/#|\.prototype\./,i=function(t,e){t=o[s(t)];return t==l||t!=a&&("function"==typeof e?n(e):!!e)},s=i.normalize=function(t){return String(t).replace(r,".").toLowerCase()},o=i.data={},a=i.NATIVE="N",l=i.POLYFILL="P";t.exports=i},function(t,e,i){var n=i(1),r=i(12),s=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[s]===t)}},function(t,e,i){i=i(4);t.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(t,e,i){var n=i(58),r=i(12),s=i(1)("iterator");t.exports=function(t){if(null!=t)return t[s]||t["@@iterator"]||r[n(t)]}},function(t,e,i){var n=i(34),r=i(23),s=i(1)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=n?r:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?t:o?r(e):"Object"==(t=r(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e,i){var r=i(7);t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(e){i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,i){var r=i(1)("iterator"),s=!1;try{var n=0,o={next:function(){return{done:!!n++}},return:function(){s=!0}};o[r]=function(){return this},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var i=!1;try{var n={};n[r]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i}},function(t,e,i){var r=i(7),s=i(79);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i,n=!1,t={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),n=t instanceof Array}catch(i){}return function(t,e){return r(t),s(e),n?i.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,i){"use strict";var c=i(5).f,u=i(37),d=i(38),h=i(19),p=i(35),f=i(33),o=i(39),a=i(84),m=i(6),g=i(18).fastKey,i=i(9),y=i.set,v=i.getterFor;t.exports={getConstructor:function(t,i,n,r){function s(t,e,i){var n,r=l(t),s=o(t,e);return s?s.value=i:(r.last=s={index:n=g(e,!0),key:e,value:i,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=s),i&&(i.next=s),m?r.size++:t.size++,"F"!==n&&(r.index[n]=s)),t}function o(t,e){var i,n=l(t);if("F"!==(t=g(e)))return n.index[t];for(i=n.first;i;i=i.next)if(i.key==e)return i}var a=t(function(t,e){p(t,a,i),y(t,{type:i,index:u(null),first:void 0,last:void 0,size:0}),m||(t.size=0),null!=e&&f(e,t[r],t,n)}),l=v(i);return d(a.prototype,{clear:function(){for(var t=l(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,m?t.size=0:this.size=0},delete:function(t){var e,i=l(this),n=o(this,t);return n&&(e=n.next,t=n.previous,delete i.index[n.index],n.removed=!0,t&&(t.next=e),e&&(e.previous=t),i.first==n&&(i.first=e),i.last==n&&(i.last=t),m?i.size--:this.size--),!!n},forEach:function(t){for(var e,i=l(this),n=h(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!o(this,t)}}),d(a.prototype,n?{get:function(t){t=o(this,t);return t&&t.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),m&&c(a.prototype,"size",{get:function(){return l(this).size}}),a},setStrong:function(t,e,i){var n=e+" Iterator",r=v(e),s=v(n);o(t,e,function(t,e){y(this,{type:n,target:t,state:r(t),kind:e,last:void 0})},function(){for(var t=s(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:{value:t.target=void 0,done:!0}},i?"entries":"values",!i,!0),a(e)}}},function(t,e,i){var n=i(52),r=i(32);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){"use strict";var n,r=i(65),s=i(8),o=i(3),a=i(1),l=i(28),c=a("iterator"),i=!1;[].keys&&("next"in(a=[].keys())?(a=r(r(a)))!==Object.prototype&&(n=a):i=!0),null==n&&(n={}),l||o(n,c)||s(n,c,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:i}},function(t,e,i){var n=i(3),r=i(20),s=i(27),i=i(83),o=s("IE_PROTO"),a=Object.prototype;t.exports=i?Object.getPrototypeOf:function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){"use strict";!function(t){t="object"==typeof t&&t&&t.Object===Object&&t;e.a=t}.call(this,i(43))},function(t,e,i){t.exports=i(105)},function(t,e,i){i(69),i(40),i(41),i(42);i=i(10);t.exports=i.Map},function(t,e,i){"use strict";var n=i(21),i=i(62);t.exports=n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},i)},function(t,e,i){var a=i(3),l=i(71),c=i(44),u=i(5);t.exports=function(t,e){for(var i=l(e),n=u.f,r=c.f,s=0;s<i.length;s++){var o=i[s];a(t,o)||n(t,o,r(e,o))}}},function(t,e,i){var n=i(30),r=i(72),s=i(53),o=i(7);t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(o(t)),i=s.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(52),r=i(32).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var l=i(15),c=i(17),u=i(74),i=function(a){return function(t,e,i){var n,r=l(t),s=c(r.length),o=u(i,s);if(a&&e!=e){for(;o<s;)if((n=r[o++])!=n)return!0}else for(;o<s;o++)if((a||o in r)&&r[o]===e)return a||o||0;return!a&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},function(t,e,i){var n=i(31),r=Math.max,s=Math.min;t.exports=function(t,e){t=n(t);return t<0?r(t+e,0):s(t,e)}},function(t,e,i){i=i(4);t.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(t,e,i){i=i(56);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){var s=i(2),o=i(61);t.exports=function(t,e,i){var n,r;return o&&"function"==typeof(n=e.constructor)&&n!==i&&s(r=n.prototype)&&r!==i.prototype&&o(t,r),t}},function(t,e,i){var n=i(2);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,i){var n=i(6),o=i(5),a=i(7),l=i(63);t.exports=n?Object.defineProperties:function(t,e){a(t);for(var i,n=l(e),r=n.length,s=0;s<r;)o.f(t,i=n[s++],e[i]);return t}},function(t,e,i){i=i(30);t.exports=i("document","documentElement")},function(t,e,i){"use strict";function n(){return this}var r=i(64).IteratorPrototype,s=i(37),o=i(14),a=i(36),l=i(12);t.exports=function(t,e,i){e+=" Iterator";return t.prototype=s(r,{next:o(1,i)}),a(t,e,!1,!0),l[e]=n,t}},function(t,e,i){i=i(4);t.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,i){"use strict";var n=i(30),r=i(5),s=i(1),o=i(6),a=s("species");t.exports=function(t){var e=n(t),t=r.f;o&&e&&!e[a]&&t(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var n=i(34),r=i(58);t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},function(t,e,i){var o=i(31),a=i(24),i=function(s){return function(t,e){var i,n=String(a(t)),r=o(e),t=n.length;return r<0||t<=r?s?"":void 0:(e=n.charCodeAt(r))<55296||56319<e||r+1===t||(i=n.charCodeAt(r+1))<56320||57343<i?s?n.charAt(r):e:s?n.slice(r,r+2):i-56320+(e-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){"use strict";var n=i(15),r=i(89),s=i(12),o=i(9),i=i(39),a=o.set,l=o.getterFor("Array Iterator");t.exports=i(Array,"Array",function(t,e){a(this,{type:"Array Iterator",target:n(t),index:0,kind:e})},function(){var t=l(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?{value:t.target=void 0,done:!0}:"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(t,e,i){var n=i(1),r=i(37),i=i(5),s=n("unscopables"),o=Array.prototype;null==o[s]&&i.f(o,s,{configurable:!0,value:r(null)}),t.exports=function(t){o[s][t]=!0}},function(t,e,i){i(91),i(40),i(41),i(42);i=i(10);t.exports=i.Set},function(t,e,i){"use strict";var n=i(21),i=i(62);t.exports=n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},i)},function(t,e,i){i(40),i(93),i(42);i=i(10);t.exports=i.WeakMap},function(t,e,i){"use strict";var n,r,s,o,a,l=i(0),c=i(38),u=i(18),d=i(21),h=i(94),p=i(2),f=i(9).enforce,m=i(50),i=!l.ActiveXObject&&"ActiveXObject"in l,g=Object.isExtensible,l=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},d=t.exports=d("WeakMap",l,h);m&&i&&(n=h.getConstructor(l,"WeakMap",!0),u.REQUIRED=!0,d=d.prototype,r=d.delete,s=d.has,o=d.get,a=d.set,c(d,{delete:function(t){if(!p(t)||g(t))return r.call(this,t);var e=f(this);return e.frozen||(e.frozen=new n),r.call(this,t)||e.frozen.delete(t)},has:function(t){if(!p(t)||g(t))return s.call(this,t);var e=f(this);return e.frozen||(e.frozen=new n),s.call(this,t)||e.frozen.has(t)},get:function(t){if(!p(t)||g(t))return o.call(this,t);var e=f(this);return e.frozen||(e.frozen=new n),s.call(this,t)?o.call(this,t):e.frozen.get(t)},set:function(t,e){var i;return p(t)&&!g(t)?((i=f(this)).frozen||(i.frozen=new n),s.call(this,t)?a.call(this,t,e):i.frozen.set(t,e)):a.call(this,t,e),this}}))},function(t,e,i){"use strict";function l(t){return t.frozen||(t.frozen=new n)}function n(){this.entries=[]}function r(t,e){return o(t.entries,function(t){return t[0]===e})}var c=i(38),u=i(18).getWeakData,d=i(7),h=i(2),p=i(35),f=i(33),s=i(95),m=i(3),i=i(9),g=i.set,y=i.getterFor,o=s.find,a=s.findIndex,v=0;n.prototype={get:function(t){t=r(this,t);if(t)return t[1]},has:function(t){return!!r(this,t)},set:function(t,e){var i=r(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(e){var t=a(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},t.exports={getConstructor:function(t,i,n,r){function s(t,e,i){var n=a(t),r=u(d(e),!0);return!0===r?l(n).set(e,i):r[n.id]=i,t}var o=t(function(t,e){p(t,o,i),g(t,{type:i,id:v++,frozen:void 0}),null!=e&&f(e,t[r],t,n)}),a=y(i);return c(o.prototype,{delete:function(t){var e=a(this);if(!h(t))return!1;var i=u(t);return!0===i?l(e).delete(t):i&&m(i,e.id)&&delete i[e.id]},has:function(t){var e=a(this);if(!h(t))return!1;var i=u(t);return!0===i?l(e).has(t):i&&m(i,e.id)}}),c(o.prototype,n?{get:function(t){var e=a(this);if(h(t)){var i=u(t);return!0===i?l(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),o}}},function(t,e,i){var b=i(19),_=i(22),T=i(20),w=i(17),S=i(96),x=[].push,i=function(h){var p=1==h,f=2==h,m=3==h,g=4==h,y=6==h,v=5==h||y;return function(t,e,i,n){for(var r,s,o=T(t),a=_(o),l=b(e,i,3),c=w(a.length),u=0,n=n||S,d=p?n(t,c):f?n(t,0):void 0;u<c;u++)if((v||u in a)&&(s=l(r=a[u],u,o),h))if(p)d[u]=s;else if(s)switch(h){case 3:return!0;case 5:return r;case 6:return u;case 2:x.call(d,r)}else if(g)return!1;return y?-1:m||g?g:d}};t.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6)}},function(t,e,i){var n=i(2),r=i(97),s=i(1)("species");t.exports=function(t,e){var i;return new(void 0===(i=r(t)&&("function"==typeof(i=t.constructor)&&(i===Array||r(i.prototype))||n(i)&&null===(i=i[s]))?void 0:i)?Array:i)(0===e?0:e)}},function(t,e,i){var n=i(23);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){i(41),i(99);i=i(10);t.exports=i.Array.from},function(t,e,i){var n=i(13),r=i(100);n({target:"Array",stat:!0,forced:!i(60)(function(t){Array.from(t)})},{from:r})},function(t,e,i){"use strict";var p=i(19),f=i(20),m=i(59),g=i(55),y=i(17),v=i(101),b=i(57);t.exports=function(t){var e,i,n,r,s,o,a=f(t),l="function"==typeof this?this:Array,c=arguments.length,u=1<c?arguments[1]:void 0,d=void 0!==u,t=b(a),h=0;if(d&&(u=p(u,2<c?arguments[2]:void 0,2)),null==t||l==Array&&g(t))for(i=new l(e=y(a.length));h<e;h++)o=d?u(a[h],h):a[h],v(i,h,o);else for(s=(r=t.call(a)).next,i=new l;!(n=s.call(r)).done;h++)o=d?m(r,u,[n.value,h],!0):n.value,v(i,h,o);return i.length=h,i}},function(t,e,i){"use strict";var n=i(25),r=i(5),s=i(14);t.exports=function(t,e,i){e=n(e);e in t?r.f(t,e,s(0,i)):t[e]=i}},function(t,e,i){i(103);i=i(10);t.exports=i.Object.assign},function(t,e,i){var n=i(13),i=i(104);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,i){"use strict";var h=i(6),n=i(4),p=i(63),f=i(53),m=i(45),g=i(20),y=i(22),r=Object.assign,s=Object.defineProperty;t.exports=!r||n(function(){if(h&&1!==r({b:1},r(s({},"a",{enumerable:!0,get:function(){s(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=r({},t)[i]||"abcdefghijklmnopqrst"!=p(r({},e)).join("")})?function(t,e){for(var i=g(t),n=arguments.length,r=1,s=f.f,o=m.f;r<n;)for(var a,l=y(arguments[r++]),c=s?p(l).concat(s(l)):p(l),u=c.length,d=0;d<u;)a=c[d++],h&&!o.call(l,a)||(i[a]=l[a]);return i}:r},function(t,e,i){"use strict";i.r(e);var n={};i.r(n),i.d(n,"keyboardHandler",function(){return ct}),i.d(n,"mouseHandler",function(){return ut}),i.d(n,"resizeHandler",function(){return dt}),i.d(n,"selectHandler",function(){return ht}),i.d(n,"touchHandler",function(){return pt}),i.d(n,"wheelHandler",function(){return ft});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},u=function(){return(u=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(o=(s<3?r(o):3<s?r(e,i,o):r(e,i))||o);return 3<s&&o&&Object.defineProperty(e,i,o),o}i(68),i(90),i(92),i(98),i(102);function v(t){if("number"==typeof t)return t;if("symbol"==typeof(e=t)||null!=e&&"object"==typeof e&&"[object Symbol]"==_(e))return NaN;var e;if(b(t)&&(i="function"==typeof t.valueOf?t.valueOf():t,t=b(i)?i+"":i),"string"!=typeof t)return 0===t?t:+t;t=l(t);var i=w.test(t);return i||S.test(t)?x(t.slice(2),i?2:8):T.test(t)?NaN:+t}var o=/\s/,a=/^\s+/,l=function(t){return t&&t.slice(0,function(t){for(var e=t.length;e--&&o.test(t.charAt(e)););return e}(t)+1).replace(a,"")},b=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},c=i(66),d="object"==typeof self&&self&&self.Object===Object&&self,h=c.a||d||Function("return this")(),c=h.Symbol,d=Object.prototype,p=d.hasOwnProperty,f=d.toString,m=c?c.toStringTag:void 0,g=Object.prototype.toString,y=c?c.toStringTag:void 0,_=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?function(t){var e=p.call(t,m),i=t[m];try{var n=!(t[m]=void 0)}catch(t){}var r=f.call(t);return n&&(e?t[m]=i:delete t[m]),r}(t):g.call(t)},T=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,S=/^0o[0-7]+$/i,x=parseInt,C=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=v(i))==i?i:0),void 0!==e&&(e=(e=v(e))==e?e:0),(t=v(t))==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=e<=t?t:e)),t};function k(n,r){return void 0===n&&(n=-1/0),void 0===r&&(r=1/0),function(t,e){var i="_"+e;Object.defineProperty(t,e,{get:function(){return this[i]},set:function(t){Object.defineProperty(this,i,{value:C(t,n,r),enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}}function E(t,e){var i="_"+e;Object.defineProperty(t,e,{get:function(){return this[i]},set:function(t){Object.defineProperty(this,i,{value:!!t,enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}function A(){return h.Date.now()}var I=Math.max,P=Math.min,D=function(n,i,t){var r,s,o,a,l,c,u=0,d=!1,h=!1,e=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function p(t){var e=r,i=s;return r=s=void 0,u=t,a=n.apply(i,e)}function f(t){var e=t-c;return void 0===c||i<=e||e<0||h&&o<=t-u}function m(){var t,e=A();if(f(e))return g(e);l=setTimeout(m,(t=i-(e-c),h?P(t,o-(e-u)):t))}function g(t){return l=void 0,e&&r?p(t):(r=s=void 0,a)}function y(){var t=A(),e=f(t);if(r=arguments,s=this,c=t,e){if(void 0===l)return u=e=c,l=setTimeout(m,i),d?p(e):a;if(h)return clearTimeout(l),l=setTimeout(m,i),p(c)}return void 0===l&&(l=setTimeout(m,i)),a}return i=v(i)||0,b(t)&&(d=!!t.leading,o=(h="maxWait"in t)?I(v(t.maxWait)||0,i):o,e="trailing"in t?!!t.trailing:e),y.cancel=function(){void 0!==l&&clearTimeout(l),r=c=s=l=void(u=0)},y.flush=function(){return void 0===l?a:g(A())},y};function O(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(t,e,i){var n=i.value;return{get:function(){return this.hasOwnProperty(e)||Object.defineProperty(this,e,{value:D.apply(void 0,function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n}([n],r))}),this[e]}}}}var L,M=(Object.defineProperty(R.prototype,"wheelEventTarget",{get:function(){return this.delegateTo},set:function(t){console.warn("[smooth-scrollbar]: `options.wheelEventTarget` is deprecated and will be removed in the future, use `options.delegateTo` instead."),this.delegateTo=t},enumerable:!0,configurable:!0}),s([k(0,1)],R.prototype,"damping",void 0),s([k(0,1/0)],R.prototype,"thumbMinSize",void 0),s([E],R.prototype,"renderByPixels",void 0),s([E],R.prototype,"alwaysShowTracks",void 0),s([E],R.prototype,"continuousScrolling",void 0),R),N=new WeakMap;function R(e){var i=this;void 0===e&&(e={}),this.damping=.1,this.thumbMinSize=20,this.renderByPixels=!0,this.alwaysShowTracks=!1,this.continuousScrolling=!0,this.delegateTo=null,this.plugins={},Object.keys(e).forEach(function(t){i[t]=e[t]})}function F(){if(void 0!==L)return L;var t=!1;try{var e=function(){},i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",e,i),window.removeEventListener("testPassive",e,i)}catch(t){}return L=!!t&&{passive:!1}}function j(t){var r=N.get(t)||[];return N.set(t,r),function(e,t,i){function n(t){t.defaultPrevented||i(t)}t.split(/\s+/g).forEach(function(t){r.push({elem:e,eventName:t,handler:n}),e.addEventListener(t,n,F())})}}function U(t){t=t.touches?t.touches[t.touches.length-1]:t;return{x:t.clientX,y:t.clientY}}function B(e,t){return(t=void 0===t?[]:t).some(function(t){return e===t})}var $=["webkit","moz","ms","o"],H=new RegExp("^-(?!(?:"+$.join("|")+")-)");function q(i,n){var t,r;t=n,r={},Object.keys(t).forEach(function(e){var i;H.test(e)?(i=t[e],e=e.replace(/^-/,""),r[e]=i,$.forEach(function(t){r["-"+t+"-"+e]=i})):r[e]=t[e]}),n=r,Object.keys(n).forEach(function(t){var e=t.replace(/^-/,"").replace(/-([a-z])/g,function(t,e){return e.toUpperCase()});i.style[e]=n[t]})}var W,z=(X.prototype.update=function(t){var e=this.velocity,i=this.updateTime,n=this.lastPosition,r=Date.now(),s=U(t),t={x:-(s.x-n.x),y:-(s.y-n.y)},n=r-i||16,i=t.y/n*16;e.x=.9*(t.x/n*16)+.1*e.x,e.y=.9*i+.1*e.y,this.delta=t,this.updateTime=r,this.lastPosition=s},X),V=(Object.defineProperty(G.prototype,"_primitiveValue",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),G.prototype.isActive=function(){return void 0!==this._activeTouchID},G.prototype.getDelta=function(){var t=this._getActiveTracker();return t?u({},t.delta):this._primitiveValue},G.prototype.getVelocity=function(){var t=this._getActiveTracker();return t?u({},t.velocity):this._primitiveValue},G.prototype.track=function(t){var e=this,t=t.targetTouches;return Array.from(t).forEach(function(t){e._add(t)}),this._touchList},G.prototype.update=function(t){var e=this,i=t.touches,t=t.changedTouches;return Array.from(i).forEach(function(t){e._renew(t)}),this._setActiveID(t),this._touchList},G.prototype.release=function(t){var e=this;delete this._activeTouchID,Array.from(t.changedTouches).forEach(function(t){e._delete(t)})},G.prototype._add=function(t){var e;this._has(t)||(e=new z(t),this._touchList[t.identifier]=e)},G.prototype._renew=function(t){this._has(t)&&this._touchList[t.identifier].update(t)},G.prototype._delete=function(t){delete this._touchList[t.identifier]},G.prototype._has=function(t){return this._touchList.hasOwnProperty(t.identifier)},G.prototype._setActiveID=function(t){this._activeTouchID=t[t.length-1].identifier},G.prototype._getActiveTracker=function(){return this._touchList[this._activeTouchID]},G);function G(){this._touchList={}}function X(t){this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition={x:0,y:0},this.lastPosition=U(t)}(c=W=W||{}).X="x",c.Y="y";var Y=(et.prototype.attachTo=function(t){t.appendChild(this.element)},et.prototype.update=function(t,e,i){this.realSize=Math.min(e/i,1)*e,this.displaySize=Math.max(this.realSize,this._minSize),this.offset=t/i*(e+(this.realSize-this.displaySize)),q(this.element,this._getStyle())},et.prototype._getStyle=function(){switch(this._direction){case W.X:return{width:this.displaySize+"px","-transform":"translate3d("+this.offset+"px, 0, 0)"};case W.Y:return{height:this.displaySize+"px","-transform":"translate3d(0, "+this.offset+"px, 0)"};default:return null}},et),K=(tt.prototype.attachTo=function(t){t.appendChild(this.element)},tt.prototype.show=function(){this._isShown||(this._isShown=!0,this.element.classList.add("show"))},tt.prototype.hide=function(){this._isShown&&(this._isShown=!1,this.element.classList.remove("show"))},tt.prototype.update=function(t,e,i){q(this.element,{display:i<=e?"none":"block"}),this.thumb.update(t,e,i)},tt),Q=(J.prototype.update=function(){var t=this._scrollbar,e=t.size,t=t.offset;this.xAxis.update(t.x,e.container.width,e.content.width),this.yAxis.update(t.y,e.container.height,e.content.height)},J.prototype.autoHideOnIdle=function(){this._scrollbar.options.alwaysShowTracks||(this.xAxis.hide(),this.yAxis.hide())},s([O(300)],J.prototype,"autoHideOnIdle",null),J),Z=new WeakMap;function J(t){var e=(this._scrollbar=t).options.thumbMinSize;this.xAxis=new K(W.X,e),this.yAxis=new K(W.Y,e),this.xAxis.attachTo(t.containerEl),this.yAxis.attachTo(t.containerEl),t.options.alwaysShowTracks&&(this.xAxis.show(),this.yAxis.show())}function tt(t,e){void 0===e&&(e=0),this.element=document.createElement("div"),this._isShown=!1,this.element.className="scrollbar-track scrollbar-track-"+t,this.thumb=new Y(t,e),this.thumb.attachTo(this.element)}function et(t,e){void 0===e&&(e=0),this._direction=t,this._minSize=e,this.element=document.createElement("div"),this.displaySize=0,this.realSize=0,this.offset=0,this.element.className="scrollbar-thumb scrollbar-thumb-"+t}function it(t){return Math.pow(t-1,3)+1}var nt,rt,st,ot=(lt.prototype.onInit=function(){},lt.prototype.onDestroy=function(){},lt.prototype.onUpdate=function(){},lt.prototype.onRender=function(t){},lt.prototype.transformDelta=function(t,e){return u({},t)},lt.pluginName="",lt.defaultOptions={},lt),at={order:new Set,constructors:{}};function lt(t,e){var i=this.constructor;this.scrollbar=t,this.name=i.pluginName,this.options=u(u({},i.defaultOptions),e)}function ct(n){var t=j(n),r=n.containerEl;t(r,"keydown",function(e){var t,i=document.activeElement;i!==r&&!r.contains(i)||("INPUT"===i.tagName||"SELECT"===i.tagName||"TEXTAREA"===i.tagName||i.isContentEditable)&&!i.disabled||(t=function(t,e){var i,n=t.size,r=t.limit,s=t.offset;switch(e){case nt.TAB:return i=t,void requestAnimationFrame(function(){i.scrollIntoView(document.activeElement,{offsetTop:i.size.container.height/2,onlyScrollIfNeeded:!0})});case nt.SPACE:return[0,200];case nt.PAGE_UP:return[0,40-n.container.height];case nt.PAGE_DOWN:return[0,n.container.height-40];case nt.END:return[0,r.y-s.y];case nt.HOME:return[0,-s.y];case nt.LEFT:return[-40,0];case nt.UP:return[0,-40];case nt.RIGHT:return[40,0];case nt.DOWN:return[0,40];default:return null}}(n,e.keyCode||e.which))&&(i=t[0],t=t[1],n.addTransformableMomentum(i,t,e,function(t){t?e.preventDefault():(n.containerEl.blur(),n.parent&&n.parent.containerEl.focus())}))})}function ut(o){var n,r,s,a,l,t=j(o),c=o.containerEl,e=o.track,u=e.xAxis,d=e.yAxis;function h(t,e){var i=o.size,n=o.limit,r=o.offset;if(t===rt.X){var s=i.container.width+(u.thumb.realSize-u.thumb.displaySize);return C(e/s*i.content.width,0,n.x)-r.x}if(t!==rt.Y)return 0;t=i.container.height+(d.thumb.realSize-d.thumb.displaySize);return C(e/t*i.content.height,0,n.y)-r.y}function p(t){return B(t,[u.element,u.thumb.element])?rt.X:B(t,[d.element,d.thumb.element])?rt.Y:void 0}t(c,"click",function(t){var e,i,n;!r&&B(t.target,[u.element,d.element])&&(e=p(i=t.target),i=i.getBoundingClientRect(),t=U(t),e===rt.X&&(n=t.x-i.left-u.thumb.displaySize/2,o.setMomentum(h(e,n),0)),e===rt.Y&&(n=t.y-i.top-d.thumb.displaySize/2,o.setMomentum(0,h(e,n))))}),t(c,"mousedown",function(t){var e,i;B(t.target,[u.thumb.element,d.thumb.element])&&(n=!0,e=t.target,i=U(t),t=e.getBoundingClientRect(),a=p(e),s={x:i.x-t.left,y:i.y-t.top},l=c.getBoundingClientRect(),q(o.containerEl,{"-user-select":"none"}))}),t(window,"mousemove",function(t){var e;n&&(r=!0,t=U(t),a===rt.X&&(e=t.x-s.x-l.left,o.setMomentum(h(a,e),0)),a===rt.Y&&(e=t.y-s.y-l.top,o.setMomentum(0,h(a,e))))}),t(window,"mouseup blur",function(){n=r=!1,q(o.containerEl,{"-user-select":""})})}function dt(t){j(t)(window,"resize",D(t.update.bind(t),300))}function ht(a){var l,t=j(a),e=a.containerEl,i=a.contentEl,c=!1;t(window,"mousemove",function(t){var e,i,n,r,s,o;c&&(cancelAnimationFrame(l),function t(e){var i,n=e.x,r=e.y;(n||r)&&(i=a.offset,e=a.limit,a.setMomentum(C(i.x+n,0,e.x)-i.x,C(i.y+r,0,e.y)-i.y),l=requestAnimationFrame(function(){t({x:n,y:r})}))}((e=a.bounding,i=e.top,n=e.right,r=e.bottom,s=e.left,o=U(t),t=o.x,e=o.y,o={x:0,y:0},0===t&&0===e||(n-20<t?o.x=t-n+20:t<s+20&&(o.x=t-s-20),r-20<e?o.y=e-r+20:e<i+20&&(o.y=e-i-20),o.x*=2,o.y*=2),o)))}),t(i,"selectstart",function(t){t.stopPropagation(),cancelAnimationFrame(l),c=!0}),t(window,"mouseup blur",function(){cancelAnimationFrame(l),c=!1}),t(e,"scroll",function(t){t.preventDefault(),e.scrollTop=e.scrollLeft=0})}function pt(r){var s,o=/Android/.test(navigator.userAgent)?3:2,t=r.options.delegateTo||r.containerEl,a=new V,e=j(r),l=0;e(t,"touchstart",function(t){a.track(t),r.setMomentum(0,0),0===l&&(s=r.options.damping,r.options.damping=Math.max(s,.5)),l++}),e(t,"touchmove",function(e){var t,i;st&&st!==r||(a.update(e),t=(i=a.getDelta()).x,i=i.y,r.addTransformableMomentum(t,i,e,function(t){t&&e.cancelable&&(e.preventDefault(),st=r)}))}),e(t,"touchcancel touchend",function(t){var i=a.getVelocity(),n={x:0,y:0};Object.keys(i).forEach(function(t){var e=i[t]/s;n[t]=Math.abs(e)<50?0:e*o}),r.addTransformableMomentum(n.x,n.y,t),0==--l&&(r.options.damping=s),a.release(t),st=null})}function ft(n){j(n)(n.options.delegateTo||n.containerEl,"onwheel"in window||document.implementation.hasFeature("Events.wheel","3.0")?"wheel":"mousewheel",function(e){var t=function(t){if("deltaX"in t){var e=yt(t.deltaMode);return{x:t.deltaX/mt.STANDARD*e,y:t.deltaY/mt.STANDARD*e}}return"wheelDeltaX"in t?{x:t.wheelDeltaX/mt.OTHERS,y:t.wheelDeltaY/mt.OTHERS}:{x:0,y:t.wheelDelta/mt.OTHERS}}(e),i=t.x,t=t.y;n.addTransformableMomentum(i,t,e,function(t){t&&e.preventDefault()})})}(c=nt=nt||{})[c.TAB=9]="TAB",c[c.SPACE=32]="SPACE",c[c.PAGE_UP=33]="PAGE_UP",c[c.PAGE_DOWN=34]="PAGE_DOWN",c[c.END=35]="END",c[c.HOME=36]="HOME",c[c.LEFT=37]="LEFT",c[c.UP=38]="UP",c[c.RIGHT=39]="RIGHT",c[c.DOWN=40]="DOWN",(c=rt=rt||{})[c.X=0]="X",c[c.Y=1]="Y";var mt={STANDARD:1,OTHERS:-3},gt=[1,28,500],yt=function(t){return gt[t]||gt[0]},vt=new Map,bt=(Object.defineProperty(wt.prototype,"parent",{get:function(){for(var t=this.containerEl.parentElement;t;){var e=vt.get(t);if(e)return e;t=t.parentElement}return null},enumerable:!0,configurable:!0}),Object.defineProperty(wt.prototype,"scrollTop",{get:function(){return this.offset.y},set:function(t){this.setPosition(this.scrollLeft,t)},enumerable:!0,configurable:!0}),Object.defineProperty(wt.prototype,"scrollLeft",{get:function(){return this.offset.x},set:function(t){this.setPosition(t,this.scrollTop)},enumerable:!0,configurable:!0}),wt.prototype.getSize=function(){return e=(t=this).containerEl,i=t.contentEl,n=getComputedStyle(e),r=["paddingTop","paddingBottom","paddingLeft","paddingRight"].map(function(t){return n[t]?parseFloat(n[t]):0}),t=r[0]+r[1],r=r[2]+r[3],{container:{width:e.clientWidth,height:e.clientHeight},content:{width:i.offsetWidth-i.clientWidth+i.scrollWidth+r,height:i.offsetHeight-i.clientHeight+i.scrollHeight+t}};var t,e,i,n,r},wt.prototype.update=function(){var t,e,i,n;e=(t=this).getSize(),i={x:Math.max(e.content.width-e.container.width,0),y:Math.max(e.content.height-e.container.height,0)},n=t.containerEl.getBoundingClientRect(),n={top:Math.max(n.top,0),right:Math.min(n.right,window.innerWidth),bottom:Math.min(n.bottom,window.innerHeight),left:Math.max(n.left,0)},t.size=e,t.limit=i,t.bounding=n,t.track.update(),t.setPosition(),this._plugins.forEach(function(t){t.onUpdate()})},wt.prototype.isVisible=function(t){return i=t,n=(e=this).bounding,r=i.getBoundingClientRect(),t=Math.max(n.top,r.top),e=Math.max(n.left,r.left),i=Math.min(n.right,r.right),t<Math.min(n.bottom,r.bottom)&&e<i;var e,i,n,r},wt.prototype.setPosition=function(t,e,i){var n=this;void 0===t&&(t=this.offset.x),void 0===e&&(e=this.offset.y),void 0===i&&(i={});var r,s,o,a,l,c=(s=t,o=e,a=(r=this).options,l=r.offset,t=r.limit,e=r.track,r=r.contentEl,a.renderByPixels&&(s=Math.round(s),o=Math.round(o)),s=C(s,0,t.x),o=C(o,0,t.y),s!==l.x&&e.xAxis.show(),o!==l.y&&e.yAxis.show(),a.alwaysShowTracks||e.autoHideOnIdle(),s===l.x&&o===l.y?null:(q(r,{"-transform":"translate3d("+-(l.x=s)+"px, "+-(l.y=o)+"px, 0)"}),e.update(),{offset:u({},l),limit:u({},t)}));c&&!i.withoutCallbacks&&this._listeners.forEach(function(t){t.call(n,c)})},wt.prototype.scrollTo=function(t,e,i,f){void 0===t&&(t=this.offset.x),void 0===e&&(e=this.offset.y),void 0===f&&(f={}),function(n,t,e,r){void 0===r&&(r=0);var i=void 0===f?{}:f,s=i.easing,o=void 0===s?it:s,a=i.callback,l=n.options,s=n.offset,i=n.limit;l.renderByPixels&&(t=Math.round(t),e=Math.round(e));var c=s.x,u=s.y,d=C(t,0,i.x)-c,h=C(e,0,i.y)-u,p=Date.now();cancelAnimationFrame(Z.get(n)),function t(){var e=Date.now()-p,i=r?o(Math.min(e/r,1)):1;n.setPosition(c+d*i,u+h*i),r<=e?"function"==typeof a&&a.call(n):(e=requestAnimationFrame(t),Z.set(n,e))}()}(this,t,e,i=void 0===i?0:i)},wt.prototype.scrollIntoView=function(t,e){var i,n,r,s,o,a,l,c,u;i=this,n=t,s=(r=void 0===(e=void 0===e?{}:e)?{}:e).alignToTop,o=void 0===s||s,a=r.onlyScrollIfNeeded,l=void 0!==a&&a,c=r.offsetTop,u=void 0===c?0:c,t=r.offsetLeft,e=void 0===t?0:t,s=r.offsetBottom,a=void 0===s?0:s,c=i.containerEl,t=i.bounding,r=i.offset,s=i.limit,n&&c.contains(n)&&(c=n.getBoundingClientRect(),l&&i.isVisible(n)||(a=o?c.top-t.top-u:c.bottom-t.bottom+a,i.setMomentum(c.left-t.left-e,C(a,-r.y,s.y-r.y))))},wt.prototype.addListener=function(t){if("function"!=typeof t)throw new TypeError("[smooth-scrollbar] scrolling listener should be a function");this._listeners.add(t)},wt.prototype.removeListener=function(t){this._listeners.delete(t)},wt.prototype.addTransformableMomentum=function(t,e,i,n){this._updateDebounced();t=this._plugins.reduce(function(t,e){return e.transformDelta(t,i)||t},{x:t,y:e}),e=!this._shouldPropagateMomentum(t.x,t.y);e&&this.addMomentum(t.x,t.y),n&&n.call(this,e)},wt.prototype.addMomentum=function(t,e){this.setMomentum(this._momentum.x+t,this._momentum.y+e)},wt.prototype.setMomentum=function(t,e){0===this.limit.x&&(t=0),0===this.limit.y&&(e=0),this.options.renderByPixels&&(t=Math.round(t),e=Math.round(e)),this._momentum.x=t,this._momentum.y=e},wt.prototype.updatePluginOptions=function(e,i){this._plugins.forEach(function(t){t.name===e&&Object.assign(t.options,i)})},wt.prototype.destroy=function(){var t,e,i=this.containerEl,n=this.contentEl;t=this,(e=N.get(t))&&(e.forEach(function(t){var e=t.elem,i=t.eventName,t=t.handler;e.removeEventListener(i,t,F())}),N.delete(t)),this._listeners.clear(),this.setMomentum(0,0),cancelAnimationFrame(this._renderID),this._observer&&this._observer.disconnect(),vt.delete(this.containerEl);for(n=Array.from(n.childNodes);i.firstChild;)i.removeChild(i.firstChild);n.forEach(function(t){i.appendChild(t)}),q(i,{overflow:""}),i.scrollTop=this.scrollTop,i.scrollLeft=this.scrollLeft,this._plugins.forEach(function(t){t.onDestroy()}),this._plugins.length=0},wt.prototype._init=function(){var e=this;this.update(),Object.keys(n).forEach(function(t){n[t](e)}),this._plugins.forEach(function(t){t.onInit()}),this._render()},wt.prototype._updateDebounced=function(){this.update()},wt.prototype._shouldPropagateMomentum=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.options,n=this.offset,r=this.limit;if(!i.continuousScrolling)return!1;0===r.x&&0===r.y&&this._updateDebounced();t=C(t+n.x,0,r.x),e=C(e+n.y,0,r.y);return t===n.x&&e===n.y&&(n.x===r.x||0===n.x||n.y===r.y||0===n.y)},wt.prototype._render=function(){var t,e,i=this._momentum;(i.x||i.y)&&(t=this._nextTick("x"),e=this._nextTick("y"),i.x=t.momentum,i.y=e.momentum,this.setPosition(t.position,e.position));var n=u({},this._momentum);this._plugins.forEach(function(t){t.onRender(n)}),this._renderID=requestAnimationFrame(this._render.bind(this))},wt.prototype._nextTick=function(t){var e=this.options,i=this.offset,n=this._momentum,i=i[t],n=n[t];if(Math.abs(n)<=.1)return{momentum:0,position:i+n};t=n*(1-e.damping);return e.renderByPixels&&(t|=0),{momentum:t,position:i+n-t}},s([O(100,{leading:!0})],wt.prototype,"_updateDebounced",null),wt),_t="smooth-scrollbar-style",Tt=!1;function wt(t,e){var i=this;this.offset={x:0,y:0},this.limit={x:1/0,y:1/0},this.bounding={top:0,right:0,bottom:0,left:0},this._plugins=[],this._momentum={x:0,y:0},this._listeners=new Set,this.containerEl=t;var n,r,s=this.contentEl=document.createElement("div");this.options=new M(e),t.setAttribute("data-scrollbar","true"),t.setAttribute("tabindex","-1"),q(t,{overflow:"hidden",outline:"none"}),window.navigator.msPointerEnabled&&(t.style.msTouchAction="none"),s.className="scroll-content",Array.from(t.childNodes).forEach(function(t){s.appendChild(t)}),t.appendChild(s),this.track=new Q(this),this.size=this.getSize(),this._plugins=(r=(n=this).options.plugins,Array.from(at.order).filter(function(t){return!1!==r[t]}).map(function(t){var e=new at.constructors[t](n,r[t]);return r[t]=e.options,e}));var o=t.scrollLeft,e=t.scrollTop;t.scrollLeft=t.scrollTop=0,this.setPosition(o,e,{withoutCallbacks:!0});e=window,e=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver;"function"==typeof e&&(this._observer=new e(function(){i.update()}),this._observer.observe(s,{subtree:!0,childList:!0})),vt.set(t,this),requestAnimationFrame(function(){i._init()})}function St(){var t;Tt||"undefined"==typeof window||((t=document.createElement("style")).id=_t,t.textContent="\n[data-scrollbar] {\n  display: block;\n  position: relative;\n}\n\n.scroll-content {\n  display: flow-root;\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n\n.scrollbar-track {\n  position: absolute;\n  opacity: 0;\n  z-index: 1;\n  background: rgba(222, 222, 222, .75);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-transition: opacity 0.5s 0.5s ease-out;\n          transition: opacity 0.5s 0.5s ease-out;\n}\n.scrollbar-track.show,\n.scrollbar-track:hover {\n  opacity: 1;\n  -webkit-transition-delay: 0s;\n          transition-delay: 0s;\n}\n\n.scrollbar-track-x {\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 8px;\n}\n.scrollbar-track-y {\n  top: 0;\n  right: 0;\n  width: 8px;\n  height: 100%;\n}\n.scrollbar-thumb {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 8px;\n  height: 8px;\n  background: rgba(0, 0, 0, .5);\n  border-radius: 4px;\n}\n",document.head&&document.head.appendChild(t),Tt=!0)}i.d(e,"ScrollbarPlugin",function(){return ot});var xt,Ct,i=(r(Ct=kt,i=xt=bt),Ct.prototype=null===i?Object.create(i):(Et.prototype=i.prototype,new Et),kt.init=function(t,e){if(!t||1!==t.nodeType)throw new TypeError("expect element to be DOM Element, but got "+t);return St(),vt.has(t)?vt.get(t):new bt(t,e)},kt.initAll=function(e){return Array.from(document.querySelectorAll("[data-scrollbar]"),function(t){return kt.init(t,e)})},kt.has=function(t){return vt.has(t)},kt.get=function(t){return vt.get(t)},kt.getAll=function(){return Array.from(vt.values())},kt.destroy=function(t){t=vt.get(t);t&&t.destroy()},kt.destroyAll=function(){vt.forEach(function(t){t.destroy()})},kt.use=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){var e=t.pluginName;if(!e)throw new TypeError("plugin name is required");at.order.add(e),at.constructors[e]=t})}.apply(void 0,t)},kt.attachStyle=St,kt.detachStyle=function(){var t;!Tt||"undefined"==typeof window||(t=document.getElementById(_t))&&t.parentNode&&(t.parentNode.removeChild(t),Tt=!1)},kt.version="8.7.0",kt.ScrollbarPlugin=ot,kt);function kt(){return null!==xt&&xt.apply(this,arguments)||this}function Et(){this.constructor=Ct}e.default=i}],n={},r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=67).default;function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n}),function(e){"undefined"!=typeof jQuery&&jQuery||"function"!=typeof define||!define.amd?"undefined"!=typeof jQuery&&jQuery||"object"!=typeof exports?e(jQuery,document,window,navigator):e(require("jquery"),document,window,navigator):define(["jquery"],function(t){return e(t,document,window,navigator)})}(function(o,a,l,t,c){"use strict";var e,i=0,n=(e=t.userAgent,t=/msie\s\d+/i,0<e.search(t)&&t.exec(e).toString().split(" ")[1]<9&&(o("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(i){var n=this,r=[].slice;if("function"!=typeof n)throw new TypeError;var s=r.call(arguments,1),o=function(){if(this instanceof o){var t=function(){};t.prototype=n.prototype;var e=new t,t=n.apply(e,s.concat(r.call(arguments)));return Object(t)===t?t:e}return n.apply(i,s.concat(r.call(arguments)))};return o}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0==r)return-1;e=+e||0;if(r<=(e=Math.abs(e)===1/0?0:e))return-1;for(i=Math.max(0<=e?e:r-Math.abs(e),0);i<r;){if(i in n&&n[i]===t)return i;i++}return-1});function r(t,e,i){this.VERSION="2.3.1",this.input=t,this.plugin_count=i,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,e=e||{},this.$cache={win:o(l),body:o(a.body),input:o(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var n,r,s=this.$cache.input,i=s.prop("value"),t={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" â ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null};for(r in"INPUT"!==s[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",s[0]),(n={skin:s.data("skin"),type:s.data("type"),min:s.data("min"),max:s.data("max"),from:s.data("from"),to:s.data("to"),step:s.data("step"),min_interval:s.data("minInterval"),max_interval:s.data("maxInterval"),drag_interval:s.data("dragInterval"),values:s.data("values"),from_fixed:s.data("fromFixed"),from_min:s.data("fromMin"),from_max:s.data("fromMax"),from_shadow:s.data("fromShadow"),to_fixed:s.data("toFixed"),to_min:s.data("toMin"),to_max:s.data("toMax"),to_shadow:s.data("toShadow"),prettify_enabled:s.data("prettifyEnabled"),prettify_separator:s.data("prettifySeparator"),force_edges:s.data("forceEdges"),keyboard:s.data("keyboard"),grid:s.data("grid"),grid_margin:s.data("gridMargin"),grid_num:s.data("gridNum"),grid_snap:s.data("gridSnap"),hide_min_max:s.data("hideMinMax"),hide_from_to:s.data("hideFromTo"),prefix:s.data("prefix"),postfix:s.data("postfix"),max_postfix:s.data("maxPostfix"),decorate_both:s.data("decorateBoth"),values_separator:s.data("valuesSeparator"),input_values_separator:s.data("inputValuesSeparator"),disable:s.data("disable"),block:s.data("block"),extra_classes:s.data("extraClasses")}).values=n.values&&n.values.split(","),n)n.hasOwnProperty(r)&&(n[r]!==c&&""!==n[r]||delete n[r]);i!==c&&""!==i&&((i=i.split(n.input_values_separator||e.input_values_separator||";"))[0]&&i[0]==+i[0]&&(i[0]=+i[0]),i[1]&&i[1]==+i[1]&&(i[1]=+i[1]),e&&e.values&&e.values.length?(t.from=i[0]&&e.values.indexOf(i[0]),t.to=i[1]&&e.values.indexOf(i[1])):(t.from=i[0]&&+i[0],t.to=i[1]&&+i[1])),o.extend(t,e),o.extend(t,n),this.options=t,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()}r.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,i=this.options.from,n=this.options.to;t<i&&n===e?this.$cache.s_from.addClass("type_last"):n<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),n&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),n&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var e,i;this.target||(i=(e="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,i+=e.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:i}))},pointerMove:function(t){this.dragging&&(t=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX,this.coords.x_pointer=t-this.coords.x_gap,this.calc())},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,n&&o("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(o.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&("both"===t&&this.setTempMinInterval(),t=t||(this.target||"from"),this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),n&&o("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,i=(this.options.max-this.options.min)/100,i=this.options.step/i;t?e+=i:e-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");var t,e;this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(t=this._prettify(this.options.min),e=this._prettify(this.options.max),this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,10!==this.calc_count&&!t||(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,e=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(e)),this.target){case"base":var i=(this.options.max-this.options.min)/100,n=(this.result.from-this.options.min)/i,r=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(n),this.coords.p_from_real=this.toFixed(n),this.coords.p_to_real=this.toFixed(r),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var s=this.convertToRealPercent(e),i=this.result.from_percent,n=this.result.to_percent-i,r=n/2,i=s-r,r=s+r;100<(r=i<0?(i=0)+n:r)&&(i=(r=100)-n),this.coords.p_from_real=this.calcWithStep(i),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(r),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return e<0?e=0:t<e&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=t?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),this.coords.w_rs===this.coords.w_rs_old&&!this.force_redraw||(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",this.old_from===this.result.from&&!this.force_redraw||(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),this.old_to===this.result.to&&!this.force_redraw||(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){var t,e,i,n,r,s;this.options&&(t=this.options.values.length,e=this.options.p_values,this.options.hide_from_to||("single"===this.options.type?(n=t?this.decorate(e[this.result.from]):(s=this._prettify(this.result.from),this.decorate(s,this.result.from)),this.$cache.single.html(n),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"):(s=t?(this.options.decorate_both?(n=this.decorate(e[this.result.from]),n+=this.options.values_separator,n+=this.decorate(e[this.result.to])):n=this.decorate(e[this.result.from]+this.options.values_separator+e[this.result.to]),r=this.decorate(e[this.result.from]),this.decorate(e[this.result.to])):(s=this._prettify(this.result.from),i=this._prettify(this.result.to),this.options.decorate_both?(n=this.decorate(s,this.result.from),n+=this.options.values_separator,n+=this.decorate(i,this.result.to)):n=this.decorate(s+this.options.values_separator+i,this.result.to),r=this.decorate(s,this.result.from),this.decorate(i,this.result.to)),this.$cache.single.html(n),this.$cache.from.html(r),this.$cache.to.html(s),this.calcLabels(),i=Math.min(this.labels.p_single_left,this.labels.p_from_left),n=this.labels.p_single_left+this.labels.p_single_fake,r=this.labels.p_to_left+this.labels.p_to_fake,s=Math.max(n,r),this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",s=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",r):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(n,r))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),i<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",s>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible")))},drawShadow:function(){var t,e,i=this.options,n=this.$cache,r="number"==typeof i.from_min&&!isNaN(i.from_min),s="number"==typeof i.from_max&&!isNaN(i.from_max),o="number"==typeof i.to_min&&!isNaN(i.to_min),a="number"==typeof i.to_max&&!isNaN(i.to_max);"single"===i.type?i.from_shadow&&(r||s)?(t=this.convertToPercent(r?i.from_min:i.min),e=this.convertToPercent(s?i.from_max:i.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,n.shad_single[0].style.display="block",n.shad_single[0].style.left=t+"%",n.shad_single[0].style.width=e+"%"):n.shad_single[0].style.display="none":(i.from_shadow&&(r||s)?(t=this.convertToPercent(r?i.from_min:i.min),e=this.convertToPercent(s?i.from_max:i.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,n.shad_from[0].style.display="block",n.shad_from[0].style.left=t+"%",n.shad_from[0].style.width=e+"%"):n.shad_from[0].style.display="none",i.to_shadow&&(o||a)?(o=this.convertToPercent(o?i.to_min:i.min),i=this.convertToPercent(a?i.to_max:i.max)-o,o=this.toFixed(o-this.coords.p_handle/100*o),i=this.toFixed(i-this.coords.p_handle/100*i),o+=this.coords.p_handle/2,n.shad_to[0].style.display="block",n.shad_to[0].style.left=o+"%",n.shad_to[0].style.width=i+"%"):n.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var i=this.options.max-this.options.min;return i?(t=e?t:t-this.options.min,this.toFixed(t/(i/100))):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,n=this.options.min,r=this.options.max,s=n.toString().split(".")[1],o=r.toString().split(".")[1],a=0,l=0;if(0===t)return this.options.min;if(100===t)return this.options.max;s&&(a=e=s.length),o&&(a=i=o.length),e&&i&&(a=i<=e?e:i),n<0&&(n=+(n+(l=Math.abs(n))).toFixed(a),r=+(r+l).toFixed(a));t=(r-n)/100*t+n,n=this.options.step.toString().split(".")[1],t=n?+t.toFixed(n.length):(t/=this.options.step,+(t*=this.options.step).toFixed(0));return l&&(t-=l),(t=n?+t.toFixed(n.length):this.toFixed(t))<this.options.min?t=this.options.min:t>this.options.max&&(t=this.options.max),t},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<e&&(e=100),this.toFixed(e=100===t?100:e)},checkMinInterval:function(t,e,i){var n,r=this.options;return r.min_interval?(n=this.convertToValue(t),e=this.convertToValue(e),"from"===i?e-n<r.min_interval&&(n=e-r.min_interval):n-e<r.min_interval&&(n=e+r.min_interval),this.convertToPercent(n)):t},checkMaxInterval:function(t,e,i){var n,r=this.options;return r.max_interval?(n=this.convertToValue(t),e=this.convertToValue(e),"from"===i?e-n>r.max_interval&&(n=e-r.max_interval):n-e>r.max_interval&&(n=e+r.max_interval),this.convertToPercent(n)):t},checkDiapason:function(t,e,i){var n=this.convertToValue(t),t=this.options;return"number"!=typeof e&&(e=t.min),(i="number"!=typeof i?t.max:i)<(n=n<e?e:n)&&(n=i),this.convertToPercent(n)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?(this.options.prettify&&"function"==typeof this.options.prettify?this.options:this).prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges&&(t<0?t=0:100-e<t&&(t=100-e)),this.toFixed(t)},validate:function(){var t,e,i=this.options,n=this.result,r=i.values,s=r.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),s)for(i.p_values=[],i.min=0,i.max=s-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;e<s;e++)t=+r[e],t=isNaN(t)?r[e]:(r[e]=t,this._prettify(t)),i.p_values.push(t);"number"==typeof i.from&&!isNaN(i.from)||(i.from=i.min),"number"==typeof i.to&&!isNaN(i.to)||(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),n&&(n.min!==i.min&&(n.min=i.min),n.max!==i.max&&(n.max=i.max),(n.from<n.min||n.from>n.max)&&(n.from=i.from),(n.to<n.min||n.to>n.max)&&(n.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",n=this.options;return n.prefix&&(i+=n.prefix),i+=t,n.max_postfix&&(n.values.length&&t===n.p_values[n.max]||e===n.max)&&(i+=n.max_postfix,n.postfix&&(i+=" ")),n.postfix&&(i+=n.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i,n,r,s,o=this.options,a=o.max-o.min,l=o.grid_num,c=0,u=4,d="";for(this.calcGridMargin(),o.grid_snap&&(l=a/o.step),i=this.toFixed(100/(l=50<l?50:l)),4<l&&(u=3),7<l&&(u=2),14<l&&(u=1),28<l&&(u=0),t=0;t<l+1;t++){for(n=u,100<(c=this.toFixed(i*t))&&(c=100),r=((this.coords.big[t]=c)-i*(t-1))/(n+1),e=1;e<=n&&0!==c;e++)d+='<span class="irs-grid-pol small" style="left: '+this.toFixed(c-r*e)+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+c+'%"></span>',s=this.convertToValue(c),d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+c+'%">'+(s=o.values.length?o.p_values[s]:this._prettify(s))+"</span>"}this.coords.big_num=Math.ceil(l+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){for(var t,e=this.coords.big_num,i=0;i<e;i++)t=this.$cache.grid.find(".js-grid-text-"+i),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){for(var t,e=[],i=[],n=this.coords.big_num,r=0;r<n;r++)this.coords.big_w[r]=this.$cache.grid_labels[r].outerWidth(!1),this.coords.big_p[r]=this.toFixed(this.coords.big_w[r]/this.coords.w_rs*100),this.coords.big_x[r]=this.toFixed(this.coords.big_p[r]/2),e[r]=this.toFixed(this.coords.big[r]-this.coords.big_x[r]),i[r]=this.toFixed(e[r]+this.coords.big_p[r]);for(this.options.force_edges&&(e[0]<-this.coords.grid_gap&&(e[0]=-this.coords.grid_gap,i[0]=this.toFixed(e[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),i[n-1]>100+this.coords.grid_gap&&(i[n-1]=100+this.coords.grid_gap,e[n-1]=this.toFixed(i[n-1]-this.coords.big_p[n-1]),this.coords.big_x[n-1]=this.toFixed(this.coords.big_p[n-1]-this.coords.grid_gap))),this.calcGridCollision(2,e,i),this.calcGridCollision(4,e,i),r=0;r<n;r++)t=this.$cache.grid_labels[r][0],this.coords.big_x[r]!==Number.POSITIVE_INFINITY&&(t.style.marginLeft=-this.coords.big_x[r]+"%")},calcGridCollision:function(t,e,i){for(var n,r,s=this.coords.big_num,o=0;o<s&&!(s<=(n=o+t/2));o+=t)r=this.$cache.grid_labels[n][0],i[o]<=e[n]?r.style.visibility="visible":r.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=o.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),o.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},o.fn.ionRangeSlider=function(t){return this.each(function(){o.data(this,"ionRangeSlider")||o.data(this,"ionRangeSlider",new r(this,t,i++))})},function(){for(var s=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!l.requestAnimationFrame;++e)l.requestAnimationFrame=l[t[e]+"RequestAnimationFrame"],l.cancelAnimationFrame=l[t[e]+"CancelAnimationFrame"]||l[t[e]+"CancelRequestAnimationFrame"];l.requestAnimationFrame||(l.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-s)),r=l.setTimeout(function(){t(i+n)},n);return s=i+n,r}),l.cancelAnimationFrame||(l.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t($||require("jquery")):t(jQuery)}(function(L){"use strict";var r="styler",i={idSuffix:"-styler",filePlaceholder:"Ð¤Ð°Ð¹Ð» Ð½Ðµ Ð²ÑÐ±ÑÐ°Ð½",fileBrowse:"ÐÐ±Ð·Ð¾Ñ...",fileNumber:"ÐÑÐ±ÑÐ°Ð½Ð¾ ÑÐ°Ð¹Ð»Ð¾Ð²: %s",selectPlaceholder:"ÐÑÐ±ÐµÑÐ¸ÑÐµ...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"Ð¡Ð¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ð¹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾",selectSearchPlaceholder:"ÐÐ¾Ð¸ÑÐº...",selectVisibleOptions:0,selectSmartPositioning:!0,locale:"ru",locales:{en:{filePlaceholder:"No file selected",fileBrowse:"Browse...",fileNumber:"Selected files: %s",selectPlaceholder:"Select...",selectSearchNotFound:"No matches found",selectSearchPlaceholder:"Search..."}},onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}};function s(t,e){this.element=t,this.options=L.extend({},i,e);e=this.options.locale;void 0!==this.options.locales[e]&&L.extend(this.options,this.options.locales[e]),this.init()}function M(t){var e,i;L(t.target).parents().hasClass("jq-selectbox")||"OPTION"==t.target.nodeName||L("div.jq-selectbox.opened").length&&(e=L("div.jq-selectbox.opened"),i=L("div.jq-selectbox__search input",e),t=L("div.jq-selectbox__dropdown",e),e.find("select").data("_"+r).options.onSelectClosed.call(e),i.length&&i.val("").keyup(),t.hide().find("li.sel").addClass("selected"),e.removeClass("focused opened dropup dropdown"))}s.prototype={init:function(){var t,e,i,n,r,I=L(this.element),P=this.options,D=!(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||navigator.userAgent.match(/(Windows\sPhone)/i)),s=!(!navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/(Windows\sPhone)/i));function O(){void 0!==I.attr("id")&&""!==I.attr("id")&&(this.id=I.attr("id")+P.idSuffix),this.title=I.attr("title"),this.classes=I.attr("class"),this.data=I.data()}I.is(":checkbox")?((t=function(){var t=new O,e=L('<div class="jq-checkbox"><div class="jq-checkbox__div"></div></div>').attr({id:t.id,title:t.title}).addClass(t.classes).data(t.data);I.after(e).prependTo(e),I.is(":checked")&&e.addClass("checked"),I.is(":disabled")&&e.addClass("disabled"),e.click(function(t){t.preventDefault(),I.triggerHandler("click"),e.is(".disabled")||(I.is(":checked")?(I.prop("checked",!1),e.removeClass("checked")):(I.prop("checked",!0),e.addClass("checked")),I.focus().change())}),I.closest("label").add('label[for="'+I.attr("id")+'"]').on("click.styler",function(t){L(t.target).is("a")||L(t.target).closest(e).length||(e.triggerHandler("click"),t.preventDefault())}),I.on("change.styler",function(){I.is(":checked")?e.addClass("checked"):e.removeClass("checked")}).on("keydown.styler",function(t){32==t.which&&e.click()}).on("focus.styler",function(){e.is(".disabled")||e.addClass("focused")}).on("blur.styler",function(){e.removeClass("focused")})})(),I.on("refresh",function(){I.closest("label").add('label[for="'+I.attr("id")+'"]').off(".styler"),I.off(".styler").parent().before(I).remove(),t()})):I.is(":radio")?((e=function(){var t=new O,e=L('<div class="jq-radio"><div class="jq-radio__div"></div></div>').attr({id:t.id,title:t.title}).addClass(t.classes).data(t.data);I.after(e).prependTo(e),I.is(":checked")&&e.addClass("checked"),I.is(":disabled")&&e.addClass("disabled"),L.fn.commonParents=function(){var t=this;return t.first().parents().filter(function(){return L(this).find(t).length===t.length})},L.fn.commonParent=function(){return L(this).commonParents().first()},e.click(function(t){t.preventDefault(),I.triggerHandler("click"),e.is(".disabled")||((t=L('input[name="'+I.attr("name")+'"]')).commonParent().find(t).prop("checked",!1).parent().removeClass("checked"),I.prop("checked",!0).parent().addClass("checked"),I.focus().change())}),I.closest("label").add('label[for="'+I.attr("id")+'"]').on("click.styler",function(t){L(t.target).is("a")||L(t.target).closest(e).length||(e.triggerHandler("click"),t.preventDefault())}),I.on("change.styler",function(){I.parent().addClass("checked")}).on("focus.styler",function(){e.is(".disabled")||e.addClass("focused")}).on("blur.styler",function(){e.removeClass("focused")})})(),I.on("refresh",function(){I.closest("label").add('label[for="'+I.attr("id")+'"]').off(".styler"),I.off(".styler").parent().before(I).remove(),e()})):I.is(":file")?((i=function(){var t=new O,n=I.data("placeholder");void 0===n&&(n=P.filePlaceholder);var e=I.data("browse");void 0!==e&&""!==e||(e=P.fileBrowse);var r=L('<div class="jq-file"><div class="jq-file__name">'+n+'</div><div class="jq-file__browse">'+e+"</div></div>").attr({id:t.id,title:t.title}).addClass(t.classes).data(t.data);I.after(r).appendTo(r),I.is(":disabled")&&r.addClass("disabled");var t=I.val(),s=L("div.jq-file__name",r);t&&s.text(t.replace(/.+[\\\/]/,"")),I.on("change.styler",function(){var t,e,i=I.val();I.is("[multiple]")&&(i="",0<(t=I[0].files.length)&&(i=e=(e=void 0===(e=I.data("number"))?P.fileNumber:e).replace("%s",t))),s.text(i.replace(/.+[\\\/]/,"")),""===i?(s.text(n),r.removeClass("changed")):r.addClass("changed")}).on("focus.styler",function(){r.addClass("focused")}).on("blur.styler",function(){r.removeClass("focused")}).on("click.styler",function(){r.removeClass("focused")})})(),I.on("refresh",function(){I.off(".styler").parent().before(I).remove(),i()})):I.is('input[type="number"]')?((n=function(){var t=new O,e=L('<div class="jq-number"><div class="jq-number__spin minus"></div><div class="jq-number__spin plus"></div></div>').attr({id:t.id,title:t.title}).addClass(t.classes).data(t.data);I.after(e).prependTo(e).wrap('<div class="jq-number__field"></div>'),I.is(":disabled")&&e.addClass("disabled");var s,o,i=null,n=null;void 0!==I.attr("min")&&(s=I.attr("min")),void 0!==I.attr("max")&&(o=I.attr("max"));function r(t){var e,i=I.val();L.isNumeric(i)||(i=0,I.val("0")),t.is(".minus")?e=Number(i)-a:t.is(".plus")&&(e=Number(i)+a);var n=(a.toString().split(".")[1]||[]).length;if(0<n){for(var r="1";r.length<=n;)r+="0";e=Math.round(e*r)/r}L.isNumeric(s)&&L.isNumeric(o)?s<=e&&e<=o&&I.val(e):L.isNumeric(s)&&!L.isNumeric(o)?s<=e&&I.val(e):(L.isNumeric(s)||!L.isNumeric(o)||e<=o)&&I.val(e)}var a=void 0!==I.attr("step")&&L.isNumeric(I.attr("step"))?Number(I.attr("step")):Number(1);e.is(".disabled")||(e.on("mousedown","div.jq-number__spin",function(){var t=L(this);r(t),i=setTimeout(function(){n=setInterval(function(){r(t)},40)},350)}).on("mouseup mouseout","div.jq-number__spin",function(){clearTimeout(i),clearInterval(n)}).on("mouseup","div.jq-number__spin",function(){I.change().trigger("input")}),I.on("focus.styler",function(){e.addClass("focused")}).on("blur.styler",function(){e.removeClass("focused")}))})(),I.on("refresh",function(){I.off(".styler").closest(".jq-number").before(I).remove(),n()})):I.is("select")?((r=function(){function C(e){var i,n,r=e.prop("scrollHeight")-e.outerHeight();e.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(t){i=t.originalEvent.detail<0||0<t.originalEvent.wheelDelta?1:-1,n=e.scrollTop(),(r<=n&&i<0||n<=0&&0<i)&&(t.stopPropagation(),t.preventDefault())})}var k=L("option",I),E="";function A(){for(var t=0;t<k.length;t++){var e=k.eq(t),i="",n="",r="",s="",o="",a="",l="",c="",u="";e.prop("selected")&&(n="selected sel"),e.is(":disabled")&&(n="disabled"),e.is(":selected:disabled")&&(n="selected sel disabled"),void 0!==e.attr("id")&&""!==e.attr("id")&&(s=' id="'+e.attr("id")+P.idSuffix+'"'),void 0!==e.attr("title")&&""!==k.attr("title")&&(o=' title="'+e.attr("title")+'"'),void 0!==e.attr("class")&&(l=" "+e.attr("class"),u=' data-jqfs-class="'+e.attr("class")+'"');var d,h=e.data();for(d in h)""!==h[d]&&(a+=" data-"+d+'="'+h[d]+'"');i="<li"+u+a+(r=n+l!==""?' class="'+n+l+'"':r)+o+s+">"+e.html()+"</li>",e.parent().is("optgroup")&&(i="<li"+u+a+' class="'+n+l+" option"+(c=void 0!==e.parent().attr("class")?" "+e.parent().attr("class"):c)+'"'+o+s+">"+e.html()+"</li>",e.is(":first-child")&&(i='<li class="optgroup'+c+'">'+e.parent().attr("label")+"</li>"+i)),E+=i}}function t(){var t=new O,e="",i=I.data("placeholder"),n=I.data("search"),r=I.data("search-limit"),s=I.data("search-not-found"),o=I.data("search-placeholder"),a=I.data("smart-positioning");void 0===i&&(i=P.selectPlaceholder),void 0!==n&&""!==n||(n=P.selectSearch),void 0!==r&&""!==r||(r=P.selectSearchLimit),void 0!==s&&""!==s||(s=P.selectSearchNotFound),void 0===o&&(o=P.selectSearchPlaceholder),void 0!==a&&""!==a||(a=P.selectSmartPositioning);var l=L('<div class="jq-selectbox jqselect"><div class="jq-selectbox__select"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>').attr({id:t.id,title:t.title}).addClass(t.classes).data(t.data);I.after(l).prependTo(l);var c=0<(c=l.css("z-index"))?c:1,u=L("div.jq-selectbox__select",l),d=L("div.jq-selectbox__select-text",l),t=k.filter(":selected");A();var h=L('<div class="jq-selectbox__dropdown">'+(e=n?'<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+o+'"></div><div class="jq-selectbox__not-found">'+s+"</div>":e)+"<ul>"+E+"</ul></div>");l.append(h);var p=L("ul",h),f=L("li",h),m=L("input",h),g=L("div.jq-selectbox__not-found",h).hide();f.length<r&&m.parent().hide(),""===k.first().text()&&k.first().is(":selected")&&!1!==i?d.text(i).addClass("placeholder"):d.text(t.text());var y=0,v=0;f.css({display:"inline-block"}),f.each(function(){var t=L(this);t.innerWidth()>y&&(y=t.innerWidth(),v=t.width())}),f.css({display:""}),d.is(".placeholder")&&d.width()>y?d.width(d.width()):(b=(S=l.clone().appendTo("body").width("auto")).outerWidth(),S.remove(),b==l.outerWidth()&&d.width(v)),y>l.width()&&h.width(y),""===k.first().text()&&""!==I.data("placeholder")&&f.first().hide();var b,_=l.outerHeight(!0),T=m.parent().outerHeight(!0)||0,w=p.css("max-height"),S=f.filter(".selected");S.length<1&&f.first().addClass("selected sel"),void 0===f.data("li-height")&&(b=f.outerHeight(),!1!==i&&(b=f.eq(1).outerHeight()),f.data("li-height",b));var x=h.css("top");"auto"==h.css("left")&&h.css({left:0}),"auto"==h.css("top")&&(h.css({top:_}),x=_),h.hide(),S.length&&(k.first().text()!=t.text()&&l.addClass("changed"),l.data("jqfs-class",S.data("jqfs-class")),l.addClass(S.data("jqfs-class"))),I.is(":disabled")?l.addClass("disabled"):(u.click(function(){var e,i,n,r,t,s,o;L("div.jq-selectbox").filter(".opened").length&&P.onSelectClosed.call(L("div.jq-selectbox").filter(".opened")),I.focus(),D||(e=L(window),i=f.data("li-height"),n=l.offset().top,r=e.height()-_-(n-e.scrollTop()),void 0!==(o=I.data("visible-options"))&&""!==o||(o=P.selectVisibleOptions),t=5*i,s=i*o,0<o&&o<6&&(t=s),0===o&&(s="auto"),o=function(){h.height("auto").css({bottom:"auto",top:x});function t(){p.css("max-height",Math.floor((r-20-T)/i)*i)}t(),p.css("max-height",s),"none"!=w&&p.css("max-height",w),r<h.outerHeight()+20&&t()},!0===a||1===a?t+T+20<r?(o(),l.removeClass("dropup").addClass("dropdown")):(function(){h.height("auto").css({top:"auto",bottom:x});function t(){p.css("max-height",Math.floor((n-e.scrollTop()-20-T)/i)*i)}t(),p.css("max-height",s),"none"!=w&&p.css("max-height",w),n-e.scrollTop()-20<h.outerHeight()+20&&t()}(),l.removeClass("dropdown").addClass("dropup")):!1===a||0===a?t+T+20<r&&(o(),l.removeClass("dropup").addClass("dropdown")):(h.height("auto").css({bottom:"auto",top:x}),p.css("max-height",s),"none"!=w&&p.css("max-height",w)),l.offset().left+h.outerWidth()>e.width()&&h.css({left:"auto",right:0}),L("div.jqselect").css({zIndex:c-1}).removeClass("opened"),l.css({zIndex:c}),h.is(":hidden")?(L("div.jq-selectbox__dropdown:visible").hide(),h.show(),l.addClass("opened focused"),P.onSelectOpened.call(l)):(h.hide(),l.removeClass("opened dropup dropdown"),L("div.jq-selectbox").filter(".opened").length&&P.onSelectClosed.call(l)),m.length&&(m.val("").keyup(),g.hide(),m.keyup(function(){var t=L(this).val();f.each(function(){L(this).html().match(new RegExp(".*?"+t+".*?","i"))?L(this).show():L(this).hide()}),""===k.first().text()&&""!==I.data("placeholder")&&f.first().hide(),f.filter(":visible").length<1?g.show():g.hide()})),f.filter(".selected").length&&(""===I.val()?p.scrollTop(0):(p.innerHeight()/i%2!=0&&(i/=2),p.scrollTop(p.scrollTop()+f.filter(".selected").position().top-p.innerHeight()/2+i))),C(p))}),f.hover(function(){L(this).siblings().removeClass("selected")}),f.filter(".selected").text(),f.filter(":not(.disabled):not(.optgroup)").click(function(){I.focus();var t,e=L(this),i=e.text();e.is(".selected")||(t=e.index(),t-=e.prevAll(".optgroup").length,e.addClass("selected sel").siblings().removeClass("selected sel"),k.prop("selected",!1).eq(t).prop("selected",!0),d.text(i),l.data("jqfs-class")&&l.removeClass(l.data("jqfs-class")),l.data("jqfs-class",e.data("jqfs-class")),l.addClass(e.data("jqfs-class")),I.change()),h.hide(),l.removeClass("opened dropup dropdown"),P.onSelectClosed.call(l)}),h.mouseout(function(){L("li.sel",h).addClass("selected")}),I.on("change.styler",function(){d.text(k.filter(":selected").text()).removeClass("placeholder"),f.removeClass("selected sel").not(".optgroup").eq(I[0].selectedIndex).addClass("selected sel"),k.first().text()!=f.filter(".selected").text()?l.addClass("changed"):l.removeClass("changed")}).on("focus.styler",function(){l.addClass("focused"),L("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",function(){l.removeClass("focused")}).on("keydown.styler keyup.styler",function(t){var e=f.data("li-height");""===I.val()?d.text(i).addClass("placeholder"):d.text(k.filter(":selected").text()),f.removeClass("selected sel").not(".optgroup").eq(I[0].selectedIndex).addClass("selected sel"),38!=t.which&&37!=t.which&&33!=t.which&&36!=t.which||(""===I.val()?p.scrollTop(0):p.scrollTop(p.scrollTop()+f.filter(".selected").position().top)),40!=t.which&&39!=t.which&&34!=t.which&&35!=t.which||p.scrollTop(p.scrollTop()+f.filter(".selected").position().top-p.innerHeight()+e),13==t.which&&(t.preventDefault(),h.hide(),l.removeClass("opened dropup dropdown"),P.onSelectClosed.call(l))}).on("keydown.styler",function(t){32==t.which&&(t.preventDefault(),u.click())}),M.registered||(L(document).on("click",M),M.registered=!0))}I.is("[multiple]")?s||D||function(){var t=new O,e=L('<div class="jq-select-multiple jqselect"></div>').attr({id:t.id,title:t.title}).addClass(t.classes).data(t.data);I.after(e),A(),e.append("<ul>"+E+"</ul>");var i=L("ul",e),r=L("li",e),n=I.attr("size"),t=i.outerHeight(),s=r.outerHeight();void 0!==n&&0<n?i.css({height:s*n}):i.css({height:4*s}),t>e.height()&&(i.css("overflowY","scroll"),C(i),r.filter(".selected").length&&i.scrollTop(i.scrollTop()+r.filter(".selected").position().top)),I.prependTo(e),I.is(":disabled")?(e.addClass("disabled"),k.each(function(){L(this).is(":selected")&&r.eq(L(this).index()).addClass("selected")})):(r.filter(":not(.disabled):not(.optgroup)").click(function(t){I.focus();var e,i,n=L(this);t.ctrlKey||t.metaKey||n.addClass("selected"),t.shiftKey||n.addClass("first"),t.ctrlKey||t.metaKey||t.shiftKey||n.siblings().removeClass("selected first"),(t.ctrlKey||t.metaKey)&&(n.is(".selected")?n.removeClass("selected first"):n.addClass("selected first"),n.siblings().removeClass("first")),t.shiftKey&&(i=e=!1,n.siblings().removeClass("selected").siblings(".first").addClass("selected"),n.prevAll().each(function(){L(this).is(".first")&&(e=!0)}),n.nextAll().each(function(){L(this).is(".first")&&(i=!0)}),e&&n.prevAll().each(function(){return!L(this).is(".selected")&&void L(this).not(".disabled, .optgroup").addClass("selected")}),i&&n.nextAll().each(function(){return!L(this).is(".selected")&&void L(this).not(".disabled, .optgroup").addClass("selected")}),1==r.filter(".selected").length&&n.addClass("first")),k.prop("selected",!1),r.filter(".selected").each(function(){var t=L(this),e=t.index();t.is(".option")&&(e-=t.prevAll(".optgroup").length),k.eq(e).prop("selected",!0)}),I.change()}),k.each(function(t){L(this).data("optionIndex",t)}),I.on("change.styler",function(){r.removeClass("selected");var e=[];k.filter(":selected").each(function(){e.push(L(this).data("optionIndex"))}),r.not(".optgroup").filter(function(t){return-1<L.inArray(t,e)}).addClass("selected")}).on("focus.styler",function(){e.addClass("focused")}).on("blur.styler",function(){e.removeClass("focused")}),t>e.height()&&I.on("keydown.styler",function(t){38!=t.which&&37!=t.which&&33!=t.which||i.scrollTop(i.scrollTop()+r.filter(".selected").position().top-s),40!=t.which&&39!=t.which&&34!=t.which||i.scrollTop(i.scrollTop()+r.filter(".selected:last").position().top-i.innerHeight()+2*s)}))}():t()})(),I.on("refresh",function(){I.off(".styler").parent().before(I).remove(),r()})):I.is(":reset")&&I.on("click",function(){setTimeout(function(){I.closest("form").find("input, select").trigger("refresh")},1)})},destroy:function(){var t=L(this.element);t.is(":checkbox")||t.is(":radio")?(t.removeData("_"+r).off(".styler refresh").removeAttr("style").parent().before(t).remove(),t.closest("label").add('label[for="'+t.attr("id")+'"]').off(".styler")):t.is('input[type="number"]')?t.removeData("_"+r).off(".styler refresh").closest(".jq-number").before(t).remove():(t.is(":file")||t.is("select"))&&t.removeData("_"+r).off(".styler refresh").removeAttr("style").parent().before(t).remove()}},L.fn[r]=function(e){var i,n=arguments;return void 0===e||"object"==typeof e?(this.each(function(){L.data(this,"_"+r)||L.data(this,"_"+r,new s(this,e))}).promise().done(function(){var t=L(this[0]).data("_"+r);t&&t.options.onFormStyled.call()}),this):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var t=L.data(this,"_"+r);t instanceof s&&"function"==typeof t[e]&&(i=t[e].apply(t,Array.prototype.slice.call(n,1)))}),void 0!==i?i:this):void 0},M.registered=!1}),function(l,o,f,m){"use strict";var r,s,a,u,e,c,h,d,n,t,i,p,g;function y(t,e){var i,n,r,s=[],o=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},i=(e=t&&t.data?d(t.data.options,e):e).$target||f(t.currentTarget).trigger("blur"),(r=f.fancybox.getInstance())&&r.$trigger&&r.$trigger.is(i)||(s=e.selector?f(e.selector):(n=i.attr("data-fancybox")||"")?(s=t.data?t.data.items:[]).length?s.filter('[data-fancybox="'+n+'"]'):f('[data-fancybox="'+n+'"]'):[i],o=f(s).index(i),(r=f.fancybox.open(s,e,o=o<0?0:o)).$trigger=i))}l.console=l.console||{info:function(t){}},f&&(f.fn.fancybox?console.info("fancyBox already initialized"):(t={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeClose:f.noop,afterClose:f.noop,onActivate:f.noop,onDeactivate:f.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},r=f(l),s=f(o),a=0,u=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||function(t){return l.setTimeout(t,1e3/60)},e=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||l.oCancelAnimationFrame||function(t){l.clearTimeout(t)},c=function(){var t,e=o.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(e.style[t]!==m)return i[t];return"transitionend"}(),h=function(t){return t&&t.length&&t[0].offsetHeight},d=function(t,e){var i=f.extend(!0,{},t,e);return f.each(e,function(t,e){f.isArray(e)&&(i[t]=e)}),i},n=function(t,e,i){var n=this;n.opts=d({index:i},f.fancybox.defaults),f.isPlainObject(e)&&(n.opts=d(n.opts,e)),f.fancybox.isMobile&&(n.opts=d(n.opts,n.opts.mobile)),n.id=n.opts.id||++a,n.currIndex=parseInt(n.opts.index,10)||0,n.prevIndex=null,n.prevPos=null,n.currPos=0,n.firstRun=!0,n.group=[],n.slides={},n.addContent(t),n.group.length&&n.init()},f.extend(n.prototype,{init:function(){var e,i,n=this,r=n.group[n.currIndex].opts;r.closeExisting&&f.fancybox.close(!0),f("body").addClass("fancybox-active"),!f.fancybox.getInstance()&&!1!==r.hideScrollbar&&!f.fancybox.isMobile&&o.body.scrollHeight>l.innerHeight&&(f("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(l.innerWidth-o.documentElement.clientWidth)+"px;}</style>"),f("body").addClass("compensate-for-scrollbar")),i="",f.each(r.buttons,function(t,e){i+=r.btnTpl[e]||""}),e=f(n.translate(n,r.baseTpl.replace("{{buttons}}",i).replace("{{arrows}}",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr("id","fancybox-container-"+n.id).addClass(r.baseClass).data("FancyBox",n).appendTo(r.parentEl),n.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){n.$refs[t]=e.find(".fancybox-"+t)}),n.trigger("onInit"),n.activate(),n.jumpTo(n.currIndex)},translate:function(t,e){var i=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){return i[e]===m?t:i[e]})},addContent:function(t){var a=this,t=f.makeArray(t);f.each(t,function(t,e){var i,n,r,s={},o={};f.isPlainObject(e)?o=(s=e).opts||e:"object"===f.type(e)&&f(e).length?(o=(n=f(e)).data()||{},(o=f.extend(!0,{},o,o.options)).$orig=n,s.src=a.opts.src||o.src||n.attr("href"),s.type||s.src||(s.type="inline",s.src=e)):s={type:"html",src:e+""},s.opts=f.extend(!0,{},a.opts,o),f.isArray(o.buttons)&&(s.opts.buttons=o.buttons),f.fancybox.isMobile&&s.opts.mobile&&(s.opts=d(s.opts,s.opts.mobile)),i=s.type||s.opts.type,n=s.src||"",!i&&n&&((o=n.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="video",s.opts.video.format||(s.opts.video.format="video/"+("ogv"===o[1]?"ogg":o[1]))):n.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":n.match(/\.(pdf)((\?|#).*)?$/i)?s=f.extend(!0,s,{contentType:"pdf",opts:{iframe:{preload:!(i="iframe")}}}):"#"===n.charAt(0)&&(i="inline")),i?s.type=i:a.trigger("objectNeedsType",s),s.contentType||(s.contentType=-1<f.inArray(s.type,["html","inline","ajax"])?"html":s.type),s.index=a.group.length,"auto"==s.opts.smallBtn&&(s.opts.smallBtn=-1<f.inArray(s.type,["html","inline","ajax"])),"auto"===s.opts.toolbar&&(s.opts.toolbar=!s.opts.smallBtn),s.$thumb=s.opts.$thumb||null,s.opts.$trigger&&s.index===a.opts.index&&(s.$thumb=s.opts.$trigger.find("img:first"),s.$thumb.length&&(s.opts.$orig=s.opts.$trigger)),s.$thumb&&s.$thumb.length||!s.opts.$orig||(s.$thumb=s.opts.$orig.find("img:first")),s.$thumb&&!s.$thumb.length&&(s.$thumb=null),s.thumb=s.opts.thumb||(s.$thumb?s.$thumb[0].src:null),"function"===f.type(s.opts.caption)&&(s.opts.caption=s.opts.caption.apply(e,[a,s])),"function"===f.type(a.opts.caption)&&(s.opts.caption=a.opts.caption.apply(e,[a,s])),s.opts.caption instanceof f||(s.opts.caption=s.opts.caption===m?"":s.opts.caption+""),"ajax"===s.type&&1<(r=n.split(/\s+/,2)).length&&(s.src=r.shift(),s.opts.filter=r.shift()),s.opts.modal&&(s.opts=f.extend(!0,s.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),a.group.push(s)}),Object.keys(a.slides).length&&(a.updateControls(),(t=a.Thumbs)&&t.isActive&&(t.create(),t.focus()))},addEvents:function(){var n=this;n.removeEvents(),n.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),n.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),n.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),n.next()}).on("click.fb","[data-fancybox-zoom]",function(t){n[n.isScaledDown()?"scaleToActual":"scaleToFit"]()}),r.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(n.requestId&&e(n.requestId),n.requestId=u(function(){n.update(t)})):(n.current&&"iframe"===n.current.type&&n.$refs.stage.hide(),setTimeout(function(){n.$refs.stage.show(),n.update(t)},f.fancybox.isMobile?600:250))}),s.on("keydown.fb",function(t){var e=(f.fancybox?f.fancybox.getInstance():null).current,i=t.keyCode||t.which;if(9!=i){if(!(!e.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||f(t.target).is("input,textarea,video,audio,select")))return 8===i||27===i?(t.preventDefault(),void n.close(t)):37===i||38===i?(t.preventDefault(),void n.previous()):39===i||40===i?(t.preventDefault(),void n.next()):void n.trigger("afterKeydown",t,i)}else e.opts.trapFocus&&n.focus(t)}),n.group[n.currIndex].opts.idleTime&&(n.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){n.idleSecondsCounter=0,n.isIdle&&n.showControls(),n.isIdle=!1}),n.idleInterval=l.setInterval(function(){n.idleSecondsCounter++,n.idleSecondsCounter>=n.group[n.currIndex].opts.idleTime&&!n.isDragging&&(n.isIdle=!0,n.idleSecondsCounter=0,n.hideControls())},1e3))},removeEvents:function(){r.off("orientationchange.fb resize.fb"),s.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(l.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,n){var e,i,r,s,o,a,l,c,u=this,d=u.group.length;if(!(u.isDragging||u.isClosing||u.isAnimating&&u.firstRun))return t=parseInt(t,10),!(!(i=(u.current||u).opts.loop)&&(t<0||d<=t))&&(e=u.firstRun=!Object.keys(u.slides).length,s=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,r=u.createSlide(t),1<d&&((i||r.index<d-1)&&u.createSlide(t+1),(i||0<r.index)&&u.createSlide(t-1)),u.current=r,u.currIndex=r.index,u.currPos=r.pos,u.trigger("beforeShow",e),u.updateControls(),r.forcedDuration=m,f.isNumeric(n)?r.forcedDuration=n:n=r.opts[e?"animationDuration":"transitionDuration"],n=parseInt(n,10),t=u.isMoved(r),r.$slide.addClass("fancybox-slide--current"),e?(r.opts.animationEffect&&n&&u.$refs.container.css("transition-duration",n+"ms"),u.$refs.container.addClass("fancybox-is-open").trigger("focus"),u.loadSlide(r)):(o=f.fancybox.getTranslate(s.$slide),a=f.fancybox.getTranslate(u.$refs.stage),f.each(u.slides,function(t,e){f.fancybox.stop(e.$slide,!0)}),s.pos!==r.pos&&(s.isComplete=!1),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),t?(c=o.left-(s.pos*o.width+s.pos*s.opts.gutter),f.each(u.slides,function(t,e){e.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var i=e.pos*o.width+e.pos*e.opts.gutter;f.fancybox.setTranslate(e.$slide,{top:0,left:i-a.left+c}),e.pos!==r.pos&&e.$slide.addClass("fancybox-slide--"+(e.pos>r.pos?"next":"previous")),h(e.$slide),f.fancybox.animate(e.$slide,{top:0,left:(e.pos-r.pos)*o.width+(e.pos-r.pos)*e.opts.gutter},n,function(){e.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),e.pos===u.currPos&&u.complete()})})):n&&r.opts.transitionEffect&&(l="fancybox-animated fancybox-fx-"+r.opts.transitionEffect,s.$slide.addClass("fancybox-slide--"+(s.pos>r.pos?"next":"previous")),f.fancybox.animate(s.$slide,l,n,function(){s.$slide.removeClass(l).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),r.isLoaded?u.revealContent(r):u.loadSlide(r)),void u.preload("image"))},createSlide:function(t){var e,i=this,n=t%i.group.length;return n=n<0?i.group.length+n:n,!i.slides[t]&&i.group[n]&&(e=f('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=f.extend(!0,{},i.group[n],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,i){var n,r,s,o,a=this,l=a.current,c=l.$content,u=f.fancybox.getTranslate(l.$slide).width,d=f.fancybox.getTranslate(l.$slide).height,h=l.width,p=l.height;a.isAnimating||a.isMoved()||!c||"image"!=l.type||!l.isLoaded||l.hasError||(a.isAnimating=!0,f.fancybox.stop(c),t=t===m?.5*u:t,e=e===m?.5*d:e,(n=f.fancybox.getTranslate(c)).top-=f.fancybox.getTranslate(l.$slide).top,n.left-=f.fancybox.getTranslate(l.$slide).left,s=h/n.width,o=p/n.height,r=.5*u-.5*h,l=.5*d-.5*p,u<h&&(r=0<(r=n.left*s-(t*s-t))?0:r)<u-h&&(r=u-h),d<p&&(l=0<(l=n.top*o-(e*o-e))?0:l)<d-p&&(l=d-p),a.updateCursor(h,p),f.fancybox.animate(c,{top:l,left:r,scaleX:s,scaleY:o},i||366,function(){a.isAnimating=!1}),a.SlideShow&&a.SlideShow.isActive&&a.SlideShow.stop())},scaleToFit:function(t){var e=this,i=e.current,n=i.$content;e.isAnimating||e.isMoved()||!n||"image"!=i.type||!i.isLoaded||i.hasError||(e.isAnimating=!0,f.fancybox.stop(n),i=e.getFitPos(i),e.updateCursor(i.width,i.height),f.fancybox.animate(n,{top:i.top,left:i.left,scaleX:i.width/n.width(),scaleY:i.height/n.height()},t||366,function(){e.isAnimating=!1}))},getFitPos:function(t){var e,i,n=t.$content,r=t.$slide,s=t.width||t.opts.width,o=t.height||t.opts.height,a={};return!!(t.isLoaded&&n&&n.length)&&(e=f.fancybox.getTranslate(this.$refs.stage).width,i=f.fancybox.getTranslate(this.$refs.stage).height,e-=parseFloat(r.css("paddingLeft"))+parseFloat(r.css("paddingRight"))+parseFloat(n.css("marginLeft"))+parseFloat(n.css("marginRight")),i-=parseFloat(r.css("paddingTop"))+parseFloat(r.css("paddingBottom"))+parseFloat(n.css("marginTop"))+parseFloat(n.css("marginBottom")),s&&o||(s=e,o=i),e-.5<(s*=n=Math.min(1,e/s,i/o))&&(s=e),i-.5<(o*=n)&&(o=i),"image"===t.type?(a.top=Math.floor(.5*(i-o))+parseFloat(r.css("paddingTop")),a.left=Math.floor(.5*(e-s))+parseFloat(r.css("paddingLeft"))):"video"===t.contentType&&(s/(t=t.opts.width&&t.opts.height?s/o:t.opts.ratio||16/9)<o?o=s/t:o*t<s&&(s=o*t)),a.width=s,a.height=o,a)},update:function(i){var n=this;f.each(n.slides,function(t,e){n.updateSlide(e,i)})},updateSlide:function(t,e){var i=this,n=t&&t.$content,r=t.width||t.opts.width,s=t.height||t.opts.height,o=t.$slide;i.adjustCaption(t),n&&(r||s||"video"===t.contentType)&&!t.hasError&&(f.fancybox.stop(n),f.fancybox.setTranslate(n,i.getFitPos(t)),t.pos===i.currPos&&(i.isAnimating=!1,i.updateCursor())),i.adjustLayout(t),o.length&&(o.trigger("refresh"),t.pos===i.currPos&&i.$refs.toolbar.add(i.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",o.get(0).scrollHeight>o.get(0).clientHeight)),i.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,i=e.current,n=i.$slide;!e.isClosing&&i&&(n.siblings().css({transform:"",opacity:""}),n.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),f.fancybox.animate(n,{top:0,left:0,opacity:1},t===m?0:t,function(){n.css({transform:"",opacity:""}),i.isComplete||e.complete()},!1))},isMoved:function(t){var e,i=t||this.current;return!!i&&(e=f.fancybox.getTranslate(this.$refs.stage),t=f.fancybox.getTranslate(i.$slide),!i.$slide.hasClass("fancybox-animated")&&(.5<Math.abs(t.top-e.top)||.5<Math.abs(t.left-e.left)))},updateCursor:function(t,e){var i=this.current,n=this.$refs.container;i&&!this.isClosing&&this.Guestures&&(n.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),e=!!(t=this.canPan(t,e))||this.isZoomable(),n.toggleClass("fancybox-is-zoomable",e),f("[data-fancybox-zoom]").prop("disabled",!e),t?n.addClass("fancybox-can-pan"):e&&("zoom"===i.opts.clickContent||f.isFunction(i.opts.clickContent)&&"zoom"==i.opts.clickContent(i))?n.addClass("fancybox-can-zoomIn"):i.opts.touch&&(i.opts.touch.vertical||1<this.group.length)&&"video"!==i.contentType&&n.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing&&"image"===e.type&&!e.hasError){if(!e.isLoaded)return!0;if((t=this.getFitPos(e))&&(e.width>t.width||e.height>t.height))return!0}return!1},isScaledDown:function(t,e){var i=!1,n=this.current,r=n.$content;return t!==m&&e!==m?i=t<n.width&&e<n.height:r&&(i=(i=f.fancybox.getTranslate(r)).width<n.width&&i.height<n.height),i},canPan:function(t,e){var i=this.current,n=null,r=!1;return"image"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(r=this.getFitPos(i),t!==m&&e!==m?n={width:t,height:e}:i.isComplete&&(n=f.fancybox.getTranslate(i.$content)),n&&r&&(r=1.5<Math.abs(n.width-r.width)||1.5<Math.abs(n.height-r.height))),r},loadSlide:function(i){var t,e,n,r=this;if(!i.isLoading&&!i.isLoaded){if(!(i.isLoading=!0)===r.trigger("beforeLoad",i))return i.isLoading=!1;switch(t=i.type,(e=i.$slide).off("refresh").trigger("onReset").addClass(i.opts.slideClass),t){case"image":r.setImage(i);break;case"iframe":r.setIframe(i);break;case"html":r.setContent(i,i.src||i.content);break;case"video":r.setContent(i,i.opts.video.tpl.replace(/\{\{src\}\}/gi,i.src).replace("{{format}}",i.opts.videoFormat||i.opts.video.format||"").replace("{{poster}}",i.thumb||""));break;case"inline":f(i.src).length?r.setContent(i,f(i.src)):r.setError(i);break;case"ajax":r.showLoading(i),n=f.ajax(f.extend({},i.opts.ajax.settings,{url:i.src,success:function(t,e){"success"===e&&r.setContent(i,t)},error:function(t,e){t&&"abort"!==e&&r.setError(i)}})),e.one("onReset",function(){n.abort()});break;default:r.setError(i)}return!0}},setImage:function(e){var t,i=this;setTimeout(function(){var t=e.$image;i.isClosing||!e.isLoading||t&&t.length&&t[0].complete||e.hasError||i.showLoading(e)},50),i.checkSrcset(e),e.$content=f('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&e.thumb&&(e.width=e.opts.width,e.height=e.opts.height,(t=o.createElement("img")).onerror=function(){f(this).remove(),e.$ghost=null},t.onload=function(){i.afterLoad(e)},e.$ghost=f(t).addClass("fancybox-image").appendTo(e.$content).attr("src",e.thumb)),i.setBigImage(e)},checkSrcset:function(t){var e,i,n,r,s=t.opts.srcset||t.opts.image.srcset;if(s){n=l.devicePixelRatio||1,r=l.innerWidth*n,(i=s.split(",").map(function(t){var n={};return t.trim().split(/\s+/).forEach(function(t,e){var i=parseInt(t.substring(0,t.length-1),10);if(0===e)return n.url=t;i&&(n.value=i,n.postfix=t[t.length-1])}),n})).sort(function(t,e){return t.value-e.value});for(var o=0;o<i.length;o++){var a=i[o];if("w"===a.postfix&&a.value>=r||"x"===a.postfix&&a.value>=n){e=a;break}}(e=!e&&i.length?i[i.length-1]:e)&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value),t.opts.srcset=s)}},setBigImage:function(e){var i=this,t=o.createElement("img"),n=f(t);e.$image=n.one("error",function(){i.setError(e)}).one("load",function(){var t;e.$ghost||(i.resolveImageSlideSize(e,this.naturalWidth,this.naturalHeight),i.afterLoad(e)),i.isClosing||(e.opts.srcset&&((t=e.opts.sizes)&&"auto"!==t||(t=(1<e.width/e.height&&1<r.width()/r.height()?"100":Math.round(e.width/e.height*100))+"vw"),n.attr("sizes",t).attr("srcset",e.opts.srcset)),e.$ghost&&setTimeout(function(){e.$ghost&&!i.isClosing&&e.$ghost.hide()},Math.min(300,Math.max(1e3,e.height/1600))),i.hideLoading(e))}).addClass("fancybox-image").attr("src",e.src).appendTo(e.$content),(t.complete||"complete"==t.readyState)&&n.naturalWidth&&n.naturalHeight?n.trigger("load"):t.error&&n.trigger("error")},resolveImageSlideSize:function(t,e,i){var n=parseInt(t.opts.width,10),r=parseInt(t.opts.height,10);t.width=e,t.height=i,0<n&&(t.width=n,t.height=Math.floor(n*i/e)),0<r&&(t.width=Math.floor(r*e/i),t.height=r)},setIframe:function(r){var s,e=this,o=r.opts.iframe,a=r.$slide;r.$content=f('<div class="fancybox-content'+(o.preload?" fancybox-is-hidden":"")+'"></div>').css(o.css).appendTo(a),a.addClass("fancybox-slide--"+r.contentType),r.$iframe=s=f(o.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(o.attr).appendTo(r.$content),o.preload?(e.showLoading(r),s.on("load.fb error.fb",function(t){this.isReady=1,r.$slide.trigger("refresh"),e.afterLoad(r)}),a.on("refresh.fb",function(){var t,e=r.$content,i=o.css.width,n=o.css.height;if(1===s[0].isReady){try{t=s.contents().find("body")}catch(t){}t&&t.length&&t.children().length&&(a.css("overflow","visible"),e.css({width:"100%","max-width":"100%",height:"9999px"}),i===m&&(i=Math.ceil(Math.max(t[0].clientWidth,t.outerWidth(!0)))),e.css("width",i||"").css("max-width",""),n===m&&(n=Math.ceil(Math.max(t[0].clientHeight,t.outerHeight(!0)))),e.css("height",n||""),a.css("overflow","auto")),e.removeClass("fancybox-is-hidden")}})):e.afterLoad(r),s.attr("src",r.src),a.one("onReset",function(){try{f(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}f(this).off("refresh.fb").empty(),r.isLoaded=!1,r.isRevealed=!1})},setContent:function(t,e){var i;this.isClosing||(this.hideLoading(t),t.$content&&f.fancybox.stop(t.$content),t.$slide.empty(),(i=e)&&i.hasOwnProperty&&i instanceof f&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=f("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===f.type(e)&&(e=f("<div>").append(f.trim(e)).contents()),t.opts.filter&&(e=f("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){f(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(f(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),f(e).appendTo(t.$slide),f(e).is("video,audio")&&(f(e).addClass("fancybox-video"),f(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||f(e).attr("width"),t.opts.height=t.opts.height||f(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=f(this.translate(this,this.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){this.isClosing||(t.isLoading=!1,t.isLoaded=!0,this.trigger("afterLoad",t),this.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=f(this.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&f('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),this.adjustCaption(t),this.adjustLayout(t),t.pos===this.currPos&&this.updateCursor(),this.revealContent(t))},adjustCaption:function(t){var e=t||this.current,i=e.opts.caption,n=e.opts.preventCaptionOverlap,r=this.$refs.caption,t=!1;r.toggleClass("fancybox-caption--separate",n),n&&i&&i.length&&(e.pos!==this.currPos?((r=r.clone().appendTo(r.parent())).children().eq(0).empty().html(i),t=r.outerHeight(!0),r.empty().remove()):this.$caption&&(t=this.$caption.outerHeight(!0)),e.$slide.css("padding-bottom",t||""))},adjustLayout:function(t){var e,i,n,r=t||this.current;r.isLoaded&&!0!==r.opts.disableLayoutFix&&(r.$content.css("margin-bottom",""),r.$content.outerHeight()>r.$slide.height()+.5&&(i=r.$slide[0].style["padding-bottom"],n=r.$slide.css("padding-bottom"),0<parseFloat(n)&&(t=r.$slide[0].scrollHeight,r.$slide.css("padding-bottom",0),Math.abs(t-r.$slide[0].scrollHeight)<1&&(e=n),r.$slide.css("padding-bottom",i))),r.$content.css("margin-bottom",e))},revealContent:function(t){var e,i,n,r,s=this,o=t.$slide,a=!1,l=!1,c=s.isMoved(t),u=t.isRevealed;return t.isRevealed=!0,e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],n=t.opts[s.firstRun?"animationDuration":"transitionDuration"],n=parseInt(t.forcedDuration===m?n:t.forcedDuration,10),"zoom"===(e=c||t.pos!==s.currPos||!n?!1:e)&&(t.pos===s.currPos&&n&&"image"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?a=s.getFitPos(t):e="fade"),"zoom"===e?(s.isAnimating=!0,a.scaleX=a.width/l.width,a.scaleY=a.height/l.height,(r="auto"==(r=t.opts.zoomOpacity)?.1<Math.abs(t.width/t.height-l.width/l.height):r)&&(l.opacity=.1,a.opacity=1),f.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),h(t.$content),void f.fancybox.animate(t.$content,a,n,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(f.fancybox.stop(o),i="fancybox-slide--"+(t.pos>=s.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,o.addClass(i).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),h(o),"image"!==t.type&&t.$content.hide().show(0),void f.fancybox.animate(o,"fancybox-slide--current",n,function(){o.removeClass(i).css({transform:"",opacity:""}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),u||!c||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,i,n,r,s=t.$thumb;return!!(s&&(n=s[0])&&n.ownerDocument===o&&(f(".fancybox-container").css("pointer-events","none"),r={x:n.getBoundingClientRect().left+n.offsetWidth/2,y:n.getBoundingClientRect().top+n.offsetHeight/2},n=o.elementFromPoint(r.x,r.y)===n,f(".fancybox-container").css("pointer-events",""),n))&&(i=f.fancybox.getTranslate(s),t=parseFloat(s.css("border-top-width")||0),r=parseFloat(s.css("border-right-width")||0),n=parseFloat(s.css("border-bottom-width")||0),s=parseFloat(s.css("border-left-width")||0),e={top:i.top+t,left:i.left+s,width:i.width-r-s,height:i.height-t-n,scaleX:1,scaleY:1},0<i.width&&0<i.height&&e)},complete:function(){var t,i=this,e=i.current,n={};!i.isMoved()&&e.isLoaded&&(e.isComplete||(e.isComplete=!0,e.$slide.siblings().trigger("onReset"),i.preload("inline"),h(e.$slide),e.$slide.addClass("fancybox-slide--complete"),f.each(i.slides,function(t,e){e.pos>=i.currPos-1&&e.pos<=i.currPos+1?n[e.pos]=e:e&&(f.fancybox.stop(e.$slide),e.$slide.off().remove())}),i.slides=n),i.isAnimating=!1,i.updateCursor(),i.trigger("afterShow"),e.opts.video.autoStart&&e.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),i.next()}),e.opts.autoFocus&&"html"===e.contentType&&((t=e.$content.find("input[autofocus]:enabled:visible:first")).length?t.trigger("focus"):i.focus(null,!0)),e.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,i;this.group.length<2||(i=this.slides[this.currPos+1],(e=this.slides[this.currPos-1])&&e.type===t&&this.loadSlide(e),i&&i.type===t&&this.loadSlide(i))},focus:function(t,e){var i=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");this.isClosing||((e=(e=!t&&this.current&&this.current.isComplete?this.current.$slide.find("*:visible"+(e?":not(.fancybox-close-small)":"")):this.$refs.container.find("*:visible")).filter(i).filter(function(){return"hidden"!==f(this).css("visibility")&&!f(this).hasClass("disabled")})).length?(i=e.index(o.activeElement),t&&t.shiftKey?(i<0||0==i)&&(t.preventDefault(),e.eq(e.length-1).trigger("focus")):(i<0||i==e.length-1)&&(t&&t.preventDefault(),e.eq(0).trigger("focus"))):this.$refs.container.trigger("focus"))},activate:function(){var e=this;f(".fancybox-container").each(function(){var t=f(this).data("FancyBox");t&&t.id!==e.id&&!t.isClosing&&(t.trigger("onDeactivate"),t.removeEvents(),t.isVisible=!1)}),e.isVisible=!0,(e.current||e.isIdle)&&(e.update(),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){function i(){l.cleanUp(t)}var n,r,s,o,a,l=this,c=l.current;return!l.isClosing&&(!(l.isClosing=!0)===l.trigger("beforeClose",t)?(l.isClosing=!1,u(function(){l.update()}),!1):(l.removeEvents(),s=c.$content,n=c.opts.animationEffect,r=f.isNumeric(e)?e:n?c.opts.animationDuration:0,c.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?f.fancybox.stop(c.$slide):n=!1,c.$slide.siblings().trigger("onReset").remove(),r&&l.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",r+"ms"),l.hideLoading(c),l.hideControls(!0),l.updateCursor(),"zoom"===(n=!("zoom"!==n||s&&r&&"image"===c.type&&!l.isMoved()&&!c.hasError&&(a=l.getThumbPos(c)))?"fade":n)?(f.fancybox.stop(s),e={top:(o=f.fancybox.getTranslate(s)).top,left:o.left,scaleX:o.width/a.width,scaleY:o.height/a.height,width:a.width,height:a.height},(o="auto"==(o=c.opts.zoomOpacity)?.1<Math.abs(c.width/c.height-a.width/a.height):o)&&(a.opacity=0),f.fancybox.setTranslate(s,e),h(s),f.fancybox.animate(s,a,r,i)):n&&r?f.fancybox.animate(c.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+n,r,i):!0===t?setTimeout(i,r):i(),!0))},cleanUp:function(t){var e,i=this.current.opts.$orig;this.current.$slide.trigger("onReset"),this.$refs.container.empty().remove(),this.trigger("afterClose",t),this.current.opts.backFocus&&(i=i&&i.length&&i.is(":visible")?i:this.$trigger)&&i.length&&(e=l.scrollX,t=l.scrollY,i.trigger("focus"),f("html, body").scrollTop(t).scrollLeft(e)),this.current=null,(e=f.fancybox.getInstance())?e.activate():(f("body").removeClass("fancybox-active compensate-for-scrollbar"),f("#fancybox-style-noscroll").remove())},trigger:function(t,e){var i,n=Array.prototype.slice.call(arguments,1),e=e&&e.opts?e:this.current;if(e?n.unshift(e):e=this,n.unshift(this),!1===(i=f.isFunction(e.opts[t])?e.opts[t].apply(e,n):i))return i;("afterClose"!==t&&this.$refs?this.$refs.container:s).trigger(t+".fb",n)},updateControls:function(){var t=this,e=t.current,i=e.index,n=t.$refs.container,r=t.$refs.caption,s=e.opts.caption;e.$slide.trigger("refresh"),s&&s.length?(t.$caption=r).children().eq(0).html(s):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),n.find("[data-fancybox-count]").html(t.group.length),n.find("[data-fancybox-index]").html(i+1),n.find("[data-fancybox-prev]").prop("disabled",!e.opts.loop&&i<=0),n.find("[data-fancybox-next]").prop("disabled",!e.opts.loop&&i>=t.group.length-1),"image"===e.type?n.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",e.opts.image.src||e.src).show():e.opts.toolbar&&n.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),f(o.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=["infobar","toolbar","nav"];!t&&this.current.opts.preventCaptionOverlap||e.push("caption"),this.$refs.container.removeClass(e.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=(this.current||this).opts,e=this.$refs.container;this.hasHiddenControls=!1,this.idleSecondsCounter=0,e.toggleClass("fancybox-show-toolbar",!(!t.toolbar||!t.buttons)).toggleClass("fancybox-show-infobar",!!(t.infobar&&1<this.group.length)).toggleClass("fancybox-show-caption",!!this.$caption).toggleClass("fancybox-show-nav",!!(t.arrows&&1<this.group.length)).toggleClass("fancybox-is-modal",!!t.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),f.fancybox={version:"3.5.7",defaults:t,getInstance:function(t){var e=f('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return e instanceof n&&("string"===f.type(t)?e[t].apply(e,i):"function"===f.type(t)&&t.apply(e,i),e)},open:function(t,e,i){return new n(t,e,i)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),s.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(t=o.createElement("div"),l.getComputedStyle&&l.getComputedStyle(t)&&l.getComputedStyle(t).getPropertyValue("transform")&&!(o.documentMode&&o.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var i="",n={};if(t&&e)return e.left===m&&e.top===m||(i=(e.left===m?t.position():e).left+"px, "+(e.top===m?t.position():e).top+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),e.scaleX!==m&&e.scaleY!==m?i+=" scale("+e.scaleX+", "+e.scaleY+")":e.scaleX!==m&&(i+=" scaleX("+e.scaleX+")"),i.length&&(n.transform=i),e.opacity!==m&&(n.opacity=e.opacity),e.width!==m&&(n.width=e.width),e.height!==m&&(n.height=e.height),t.css(n)},animate:function(e,i,n,r,s){var o,a=this;f.isFunction(n)&&(r=n,n=null),a.stop(e),o=a.getTranslate(e),e.on(c,function(t){t&&t.originalEvent&&(!e.is(t.originalEvent.target)||"z-index"==t.originalEvent.propertyName)||(a.stop(e),f.isNumeric(n)&&e.css("transition-duration",""),f.isPlainObject(i)?i.scaleX!==m&&i.scaleY!==m&&a.setTranslate(e,{top:i.top,left:i.left,width:o.width*i.scaleX,height:o.height*i.scaleY,scaleX:1,scaleY:1}):!0!==s&&e.removeClass(i),f.isFunction(r)&&r(t))}),f.isNumeric(n)&&e.css("transition-duration",n+"ms"),f.isPlainObject(i)?(i.scaleX!==m&&i.scaleY!==m&&(delete i.width,delete i.height,e.parent().hasClass("fancybox-slide--image")&&e.parent().addClass("fancybox-is-scaling")),f.fancybox.setTranslate(e,i)):e.addClass(i),e.data("timer",setTimeout(function(){e.trigger(c)},n+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(c),t.off(c).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},f.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?f("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},y):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},y),this},s.on("click.fb-start","[data-fancybox]",y),s.on("click.fb-start","[data-fancybox-trigger]",function(t){f('[data-fancybox="'+f(this).attr("data-fancybox-trigger")+'"]').eq(f(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:f(this)})}),i=".fancybox-button",p="fancybox-focus",g=null,s.on("mousedown mouseup focus blur",i,function(t){switch(t.type){case"mousedown":g=f(this);break;case"mouseup":g=null;break;case"focusin":f(i).removeClass(p),f(this).is(g)||f(this).is("[disabled]")||f(this).addClass(p);break;case"focusout":f(i).removeClass(p)}})))}(window,document,jQuery),function(p){"use strict";function f(i,t,e){if(i)return"object"===p.type(e=e||"")&&(e=p.param(e,!0)),p.each(t,function(t,e){i=i.replace("$"+t,e||"")}),e.length&&(i+=(0<i.indexOf("?")?"&":"?")+e),i}var n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};p(document).on("objectNeedsType.fb",function(t,e,r){var s,o,a,l,c,u,d=r.src||"",h=!1,i=p.extend(!0,{},n,r.opts.media);p.each(i,function(t,e){if(o=d.match(e.matcher)){if(h=e.type,u=t,c={},e.paramPlace&&o[e.paramPlace]){l=(l="?"==(l=o[e.paramPlace])[0]?l.substring(1):l).split("&");for(var i=0;i<l.length;++i){var n=l[i].split("=",2);2==n.length&&(c[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}}return a=p.extend(!0,{},e.params,r.opts[t],c),d="function"===p.type(e.url)?e.url.call(this,o,a,r):f(e.url,o,a),s="function"===p.type(e.thumb)?e.thumb.call(this,o,a,r):f(e.thumb,o),"youtube"===t?d=d.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,i,n){return"&start="+((i?60*parseInt(i,10):0)+parseInt(n,10))}):"vimeo"===t&&(d=d.replace("&%23","#")),!1}}),h?(r.opts.thumb||r.opts.$thumb&&r.opts.$thumb.length||(r.opts.thumb=s),"iframe"===h&&(r.opts=p.extend(!0,r.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),p.extend(r,{type:h,src:d,origSrc:r.src,contentSource:u,contentType:"image"===h?"image":"gmap_place"==u||"gmap_search"==u?"map":"video"})):d&&(r.type=r.opts.defaultType)});var r={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,i=this;this[t].loaded?setTimeout(function(){i.done(t)}):this[t].loading||(this[t].loading=!0,(e=document.createElement("script")).type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){i[t].loaded=!0,i.done(t)}:e.onload=function(){i[t].loaded=!0,i.done(t)},document.body.appendChild(e))},done:function(t){var e,i;"youtube"===t&&delete window.onYouTubeIframeAPIReady,(e=p.fancybox.getInstance())&&(i=e.current.$content.find("iframe"),"youtube"===t&&void 0!==YT&&YT?new YT.Player(i.attr("id"),{events:{onStateChange:function(t){0==t.data&&e.next()}}}):"vimeo"===t&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(i).on("ended",function(){e.next()}))}};p(document).on({"afterShow.fb":function(t,e,i){1<e.group.length&&("youtube"===i.contentSource||"vimeo"===i.contentSource)&&r.load(i.contentSource)}})}(jQuery),function(u,l,d){"use strict";function h(t){var e,i=[];for(e in t=(t=t.originalEvent||t||u.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[e].pageX?i.push({x:t[e].pageX,y:t[e].pageY}):t[e].clientX&&i.push({x:t[e].clientX,y:t[e].clientY});return i}function p(t,e,i){return e&&t?"x"===i?t.x-e.x:"y"===i?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function c(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||d.isFunction(t.get(0).onclick)||t.data("selectable"))return 1;for(var e=0,i=t[0].attributes,n=i.length;e<n;e++)if("data-fancybox-"===i[e].nodeName.substr(0,14))return 1}function f(t){for(var e,i,n,r=!1;;){if(e=t.get(0),i=n=i=void 0,i=u.getComputedStyle(e)["overflow-y"],n=u.getComputedStyle(e)["overflow-x"],i=("scroll"===i||"auto"===i)&&e.scrollHeight>e.clientHeight,e=("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth,r=i||e)break;if(!(t=t.parent()).length||t.hasClass("fancybox-stage")||t.is("body"))break}return r}function i(t){this.instance=t,this.$bg=t.$refs.bg,this.$stage=t.$refs.stage,this.$container=t.$refs.container,this.destroy(),this.$container.on("touchstart.fb.touch mousedown.fb.touch",d.proxy(this,"ontouchstart"))}var m=u.requestAnimationFrame||u.webkitRequestAnimationFrame||u.mozRequestAnimationFrame||u.oRequestAnimationFrame||function(t){return u.setTimeout(t,1e3/60)},g=u.cancelAnimationFrame||u.webkitCancelAnimationFrame||u.mozCancelAnimationFrame||u.oCancelAnimationFrame||function(t){u.clearTimeout(t)};i.prototype.destroy=function(){this.$container.off(".fb.touch"),d(l).off(".fb.touch"),this.requestId&&(g(this.requestId),this.requestId=null),this.tapped&&(clearTimeout(this.tapped),this.tapped=null)},i.prototype.ontouchstart=function(t){var e=this,i=d(t.target),n=e.instance,r=n.current,s=r.$slide,o=r.$content,a="touchstart"==t.type;if(a&&e.$container.off("mousedown.fb.touch"),(!t.originalEvent||2!=t.originalEvent.button)&&s.length&&i.length&&!c(i)&&!c(i.parent())&&(i.is("img")||!(t.originalEvent.clientX>i[0].clientWidth+i.offset().left))){if(!r||n.isAnimating||r.$slide.hasClass("fancybox-animated"))return t.stopPropagation(),void t.preventDefault();e.realPoints=e.startPoints=h(t),e.startPoints.length&&(r.touch&&t.stopPropagation(),e.startEvent=t,e.canTap=!0,e.$target=i,e.$content=o,e.opts=r.opts.touch,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.isScrolling=!1,e.canPan=n.canPan(),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canvasWidth=Math.round(s[0].clientWidth),e.canvasHeight=Math.round(s[0].clientHeight),e.contentLastPos=null,e.contentStartPos=d.fancybox.getTranslate(e.$content)||{top:0,left:0},e.sliderStartPos=d.fancybox.getTranslate(s),e.stagePos=d.fancybox.getTranslate(n.$refs.stage),e.sliderStartPos.top-=e.stagePos.top,e.sliderStartPos.left-=e.stagePos.left,e.contentStartPos.top-=e.stagePos.top,e.contentStartPos.left-=e.stagePos.left,d(l).off(".fb.touch").on(a?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",d.proxy(e,"ontouchend")).on(a?"touchmove.fb.touch":"mousemove.fb.touch",d.proxy(e,"ontouchmove")),d.fancybox.isMobile&&l.addEventListener("scroll",e.onscroll,!0),((e.opts||e.canPan)&&(i.is(e.$stage)||e.$stage.find(i).length)||(i.is(".fancybox-image")&&t.preventDefault(),d.fancybox.isMobile&&i.parents(".fancybox-caption").length))&&(e.isScrollable=f(i)||f(i.parent()),d.fancybox.isMobile&&e.isScrollable||t.preventDefault(),1!==e.startPoints.length&&!r.hasError||(e.canPan?(d.fancybox.stop(e.$content),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-is-grabbing")),2===e.startPoints.length&&"image"===r.type&&(r.isLoaded||r.$ghost)&&(e.canTap=!1,e.isSwiping=!1,e.isPanning=!1,e.isZooming=!0,d.fancybox.stop(e.$content),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-d(u).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-d(u).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=p(e.startPoints[0],e.startPoints[1]))))}},i.prototype.onscroll=function(t){this.isScrolling=!0,l.removeEventListener("scroll",this.onscroll,!0)},i.prototype.ontouchmove=function(t){var e=this;void 0===t.originalEvent.buttons||0!==t.originalEvent.buttons?e.isScrolling?e.canTap=!1:(e.newPoints=h(t),(e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=p(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=p(e.newPoints[0],e.startPoints[0],"y"),e.distance=p(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))):e.ontouchend(t)},i.prototype.onSwipe=function(t){var r=this,s=r.instance,e=r.isSwiping,i=r.sliderStartPos.left||0;if(!0!==e)"x"==e&&(0<r.distanceX&&(r.instance.group.length<2||0===r.instance.current.index&&!r.instance.current.opts.loop)?i+=Math.pow(r.distanceX,.8):r.distanceX<0&&(r.instance.group.length<2||r.instance.current.index===r.instance.group.length-1&&!r.instance.current.opts.loop)?i-=Math.pow(-r.distanceX,.8):i+=r.distanceX),r.sliderLastPos={top:"x"==e?0:r.sliderStartPos.top+r.distanceY,left:i},r.requestId&&(g(r.requestId),r.requestId=null),r.requestId=m(function(){r.sliderLastPos&&(d.each(r.instance.slides,function(t,e){var i=e.pos-r.instance.currPos;d.fancybox.setTranslate(e.$slide,{top:r.sliderLastPos.top,left:r.sliderLastPos.left+i*r.canvasWidth+i*e.opts.gutter})}),r.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(r.distance)){if(r.canTap=!1,s.group.length<2&&r.opts.vertical?r.isSwiping="y":s.isDragging||!1===r.opts.vertical||"auto"===r.opts.vertical&&800<d(u).width()?r.isSwiping="x":(i=Math.abs(180*Math.atan2(r.distanceY,r.distanceX)/Math.PI),r.isSwiping=45<i&&i<135?"y":"x"),"y"===r.isSwiping&&d.fancybox.isMobile&&r.isScrollable)return void(r.isScrolling=!0);s.isDragging=r.isSwiping,r.startPoints=r.newPoints,d.each(s.slides,function(t,e){var i,n;d.fancybox.stop(e.$slide),i=d.fancybox.getTranslate(e.$slide),n=d.fancybox.getTranslate(s.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===s.current.pos&&(r.sliderStartPos.top=i.top-n.top,r.sliderStartPos.left=i.left-n.left),d.fancybox.setTranslate(e.$slide,{top:i.top-n.top,left:i.left-n.left})}),s.SlideShow&&s.SlideShow.isActive&&s.SlideShow.stop()}},i.prototype.onPan=function(){var t=this;p(t.newPoints[0],t.realPoints[0])<(d.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&g(t.requestId),t.requestId=m(function(){d.fancybox.setTranslate(t.$content,t.contentLastPos)}))},i.prototype.limitMovement=function(){var t=this.canvasWidth,e=this.canvasHeight,i=this.distanceX,n=this.distanceY,r=this.contentStartPos,s=r.left,o=r.top,a=r.width,l=r.height,c=t<a?s+i:s,u=o+n,d=Math.max(0,.5*t-.5*a),r=Math.max(0,.5*e-.5*l),a=Math.min(t-a,.5*t-.5*a),l=Math.min(e-l,.5*e-.5*l);return 0<i&&d<c&&(c=d-1+Math.pow(-d+s+i,.8)||0),i<0&&c<a&&(c=a+1-Math.pow(a-s-i,.8)||0),0<n&&r<u&&(u=r-1+Math.pow(-r+o+n,.8)||0),{top:u=n<0&&u<l?l+1-Math.pow(l-o-n,.8)||0:u,left:c}},i.prototype.limitPosition=function(t,e,i,n){var r=this.canvasWidth,s=this.canvasHeight;return t=r<i?(t=0<t?0:t)<r-i?r-i:t:Math.max(0,r/2-i/2),{top:e=s<n?(e=0<e?0:e)<s-n?s-n:e:Math.max(0,s/2-n/2),left:t}},i.prototype.onZoom=function(){var t=this,e=t.contentStartPos,i=e.width,n=e.height,r=e.left,s=e.top,o=p(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,a=Math.floor(i*o),l=Math.floor(n*o),c=(i-a)*t.percentageOfImageAtPinchPointX,e=(n-l)*t.percentageOfImageAtPinchPointY,i=(t.newPoints[0].x+t.newPoints[1].x)/2-d(u).scrollLeft(),n=(t.newPoints[0].y+t.newPoints[1].y)/2-d(u).scrollTop(),i=i-t.centerPointStartX,o={top:s+(e+(n-t.centerPointStartY)),left:r+(c+i),scaleX:o,scaleY:o};t.canTap=!1,t.newWidth=a,t.newHeight=l,t.contentLastPos=o,t.requestId&&g(t.requestId),t.requestId=m(function(){d.fancybox.setTranslate(t.$content,t.contentLastPos)})},i.prototype.ontouchend=function(t){var e=this,i=e.isSwiping,n=e.isPanning,r=e.isZooming,s=e.isScrolling;if(e.endPoints=h(t),e.dMs=Math.max((new Date).getTime()-e.startTime,1),e.$container.removeClass("fancybox-is-grabbing"),d(l).off(".fb.touch"),l.removeEventListener("scroll",e.onscroll,!0),e.requestId&&(g(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.isScrolling=!1,e.instance.isDragging=!1,e.canTap)return e.onTap(t);e.speed=100,e.velocityX=e.distanceX/e.dMs*.5,e.velocityY=e.distanceY/e.dMs*.5,n?e.endPanning():r?e.endZooming():e.endSwiping(i,s)},i.prototype.endSwiping=function(t,e){var i=this,n=!1,r=i.instance.group.length,s=Math.abs(i.distanceX),s="x"==t&&1<r&&(130<i.dMs&&10<s||50<s);i.sliderLastPos=null,"y"==t&&!e&&50<Math.abs(i.distanceY)?(d.fancybox.animate(i.instance.current.$slide,{top:i.sliderStartPos.top+i.distanceY+150*i.velocityY,opacity:0},200),n=i.instance.close(!0,250)):s&&0<i.distanceX?n=i.instance.previous(300):s&&i.distanceX<0&&(n=i.instance.next(300)),!1!==n||"x"!=t&&"y"!=t||i.instance.centerSlide(200),i.$container.removeClass("fancybox-is-sliding")},i.prototype.endPanning=function(){var t,e,i=this;i.contentLastPos&&(e=!1===i.opts.momentum||350<i.dMs?(t=i.contentLastPos.left,i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,i.contentLastPos.top+500*i.velocityY),(e=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height)).width=i.contentStartPos.width,e.height=i.contentStartPos.height,d.fancybox.animate(i.$content,e,366))},i.prototype.endZooming=function(){var t,e,i=this,n=i.instance.current,r=i.newWidth,s=i.newHeight;i.contentLastPos&&(t=i.contentLastPos.left,e=i.contentLastPos.top,d.fancybox.setTranslate(i.$content,{top:e,left:t,width:r,height:s,scaleX:1,scaleY:1}),r<i.canvasWidth&&s<i.canvasHeight?i.instance.scaleToFit(150):r>n.width||s>n.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(s=i.limitPosition(t,e,r,s),d.fancybox.animate(i.$content,s,150)))},i.prototype.onTap=function(e){function t(t){if(t=o.opts[t],t=d.isFunction(t)?t.apply(s,[o,e]):t)switch(t){case"close":s.close(n.startEvent);break;case"toggleControls":s.toggleControls();break;case"next":s.next();break;case"nextOrClose":1<s.group.length?s.next():s.close(n.startEvent);break;case"zoom":"image"==o.type&&(o.isLoaded||o.$ghost)&&(s.canPan()?s.scaleToFit():s.isScaledDown()?s.scaleToActual(l,c):s.group.length<2&&s.close(n.startEvent))}}var i,n=this,r=d(e.target),s=n.instance,o=s.current,a=e&&h(e)||n.startPoints,l=a[0]?a[0].x-d(u).scrollLeft()-n.stagePos.left:0,c=a[0]?a[0].y-d(u).scrollTop()-n.stagePos.top:0;if((!e.originalEvent||2!=e.originalEvent.button)&&(r.is("img")||!(l>r[0].clientWidth+r.offset().left))){if(r.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))i="Outside";else if(r.is(".fancybox-slide"))i="Slide";else{if(!s.current.$content||!s.current.$content.find(r).addBack().filter(r).length)return;i="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,50<Math.abs(l-n.tapX)||50<Math.abs(c-n.tapY))return this;t("dblclick"+i)}else n.tapX=l,n.tapY=c,o.opts["dblclick"+i]&&o.opts["dblclick"+i]!==o.opts["click"+i]?n.tapped=setTimeout(function(){n.tapped=null,s.isAnimating||t("click"+i)},500):t("click"+i);return this}},d(l).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new i(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(s,o){"use strict";o.extend(!0,o.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});function i(t){this.instance=t,this.init()}o.extend(i.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,e=t.instance,i=e.group[e.currIndex].opts.slideShow;t.$button=e.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),e.group.length<2||!i?t.$button.hide():i.progress&&(t.$progress=o('<div class="fancybox-progress"></div>').appendTo(e.$refs.inner))},set:function(t){var e=this.instance,i=e.current;i&&(!0===t||i.opts.loop||e.currIndex<e.group.length-1)?this.isActive&&"video"!==i.contentType&&(this.$progress&&o.fancybox.animate(this.$progress.show(),{scaleX:1},i.opts.slideShow.speed),this.timer=setTimeout(function(){e.current.opts.loop||e.current.index!=e.group.length-1?e.next():e.jumpTo(0)},i.opts.slideShow.speed)):(this.stop(),e.idleSecondsCounter=0,e.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var t=this.instance.current;t&&(this.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.isActive=!0,t.isComplete&&this.set(!0),this.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this.instance.current;this.clear(),this.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),this.isActive=!1,this.instance.trigger("onSlideShowChange",!1),this.$progress&&this.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),o(s).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new i(e))},"beforeShow.fb":function(t,e,i,n){e=e&&e.SlideShow;n?e&&i.opts.slideShow.autoStart&&e.start():e&&e.isActive&&e.clear()},"afterShow.fb":function(t,e,i){e=e&&e.SlideShow;e&&e.isActive&&e.set()},"afterKeydown.fb":function(t,e,i,n,r){e=e&&e.SlideShow;!e||!i.opts.slideShow||80!==r&&32!==r||o(s.activeElement).is("button,a,input")||(n.preventDefault(),e.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){e=e&&e.SlideShow;e&&e.stop()}}),o(s).on("visibilitychange",function(){var t=o.fancybox.getInstance(),t=t&&t.SlideShow;t&&t.isActive&&(s.hidden?t.clear():t.set())})}(document,jQuery),function(s,i){"use strict";var n,r=function(){for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e={},i=0;i<t.length;i++){var n=t[i];if(n&&n[1]in s){for(var r=0;r<n.length;r++)e[t[0][r]]=n[r];return e}}return!1}();r&&(n={request:function(t){(t=t||s.documentElement)[r.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){s[r.exitFullscreen]()},toggle:function(t){t=t||s.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(s[r.fullscreenElement])},enabled:function(){return Boolean(s[r.fullscreenEnabled])}},i.extend(!0,i.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),i(s).on(r.fullscreenchange,function(){var t=n.isFullscreen(),e=i.fancybox.getInstance();e&&(e.current&&"image"===e.current.type&&e.isAnimating&&(e.isAnimating=!1,e.update(!0,!0,0),e.isComplete||e.complete()),e.trigger("onFullscreenChange",t),e.$refs.container.toggleClass("fancybox-is-fullscreen",t),e.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})),i(s).on({"onInit.fb":function(t,e){r?e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),n.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&n.request(),e.FullScreen=n):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(t,e,i,n,r){e&&e.FullScreen&&70===r&&(n.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&n.exit()}})}(document,jQuery),function(t,s){"use strict";var o="fancybox-thumbs",a=o+"-active";s.fancybox.defaults=s.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},s.fancybox.defaults);function n(t){this.init(t)}s.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,i=t.group,n=0;e.instance=t,e.opts=i[t.currIndex].opts.thumbs,(t.Thumbs=e).$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var r=0,s=i.length;r<s&&(i[r].thumb&&n++,!(1<n));r++);1<n&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var i,t=this,e=t.instance,n=t.opts.parentEl,r=[];t.$grid||(t.$grid=s('<div class="'+o+" "+o+"-"+t.opts.axis+'"></div>').appendTo(e.$refs.container.find(n).addBack().filter(n)),t.$grid.on("click","a",function(){e.jumpTo(s(this).attr("data-index"))})),t.$list||(t.$list=s('<div class="'+o+'__list">').appendTo(t.$grid)),s.each(e.group,function(t,e){(i=e.thumb)||"image"!==e.type||(i=e.src),r.push('<a href="javascript:;" tabindex="0" data-index="'+t+'"'+(i&&i.length?' style="background-image:url('+i+')"':'class="fancybox-thumbs-missing"')+"></a>")}),t.$list[0].innerHTML=r.join(""),"x"===t.opts.axis&&t.$list.width(parseInt(t.$grid.css("padding-right"),10)+e.group.length*t.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,i,n=this.$list,r=this.$grid;this.instance.current&&(i=(e=n.children().removeClass(a).filter('[data-index="'+this.instance.current.index+'"]').addClass(a)).position(),"y"===this.opts.axis&&(i.top<0||i.top>n.height()-e.outerHeight())?n.stop().animate({scrollTop:n.scrollTop()+i.top},t):"x"===this.opts.axis&&(i.left<r.scrollLeft()||i.left>r.scrollLeft()+(r.width()-e.outerWidth()))&&n.parent().stop().animate({scrollLeft:i.left},t))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),s(t).on({"onInit.fb":function(t,e){var i;e&&!e.Thumbs&&(i=new n(e)).isActive&&!0===i.opts.autoStart&&i.show()},"beforeShow.fb":function(t,e,i,n){e=e&&e.Thumbs;e&&e.isVisible&&e.focus(n?0:250)},"afterKeydown.fb":function(t,e,i,n,r){e=e&&e.Thumbs;e&&e.isActive&&71===r&&(n.preventDefault(),e.toggle())},"beforeClose.fb":function(t,e){e=e&&e.Thumbs;e&&e.isVisible&&!1!==e.opts.hideOnClose&&e.$grid.hide()}})}(document,jQuery),function(t,r){"use strict";r.extend(!0,r.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),r(t).on("click","[data-fancybox-share]",function(){var t,e,i=r.fancybox.getInstance(),n=i.current||null;n&&("function"===r.type(n.opts.share.url)&&(t=n.opts.share.url.apply(n,[i,n])),t=n.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===n.type?encodeURIComponent(n.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,(e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]}))).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),r.fancybox.open({src:i.translate(i,t),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(s,o,n){"use strict";function r(){var t=s.location.hash.substr(1),e=t.split("-"),i=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return{hash:t,index:i<1?1:i,gallery:e.join("-")}}function e(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function a(t){return!!t&&(""!==(t=(t=(t.current||t).opts).hash||(t.$orig?t.$orig.data("fancybox")||t.$orig.data("fancybox-trigger"):""))&&t)}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),n(function(){!1!==n.fancybox.defaults.hash&&(n(o).on({"onInit.fb":function(t,e){var i,n;!1!==e.group[e.currIndex].opts.hash&&(i=r(),(n=a(e))&&i.gallery&&n==i.gallery&&(e.currIndex=i.index-1))},"beforeShow.fb":function(t,e,i,n){var r;i&&!1!==i.opts.hash&&(r=a(e))&&(e.currentHash=r+(1<e.group.length?"-"+(i.index+1):""),s.location.hash!=="#"+e.currentHash&&(n&&!e.origHash&&(e.origHash=s.location.hash),e.hashTimer&&clearTimeout(e.hashTimer),e.hashTimer=setTimeout(function(){"replaceState"in s.history?(s.history[n?"pushState":"replaceState"]({},o.title,s.location.pathname+s.location.search+"#"+e.currentHash),n&&(e.hasCreatedHistory=!0)):s.location.hash=e.currentHash,e.hashTimer=null},300)))},"beforeClose.fb":function(t,e,i){i&&!1!==i.opts.hash&&(clearTimeout(e.hashTimer),e.currentHash&&e.hasCreatedHistory?s.history.back():e.currentHash&&("replaceState"in s.history?s.history.replaceState({},o.title,s.location.pathname+s.location.search+(e.origHash||"")):s.location.hash=e.origHash),e.currentHash=null)}}),n(s).on("hashchange.fb",function(){var t=r(),i=null;n.each(n(".fancybox-container").get().reverse(),function(t,e){e=n(e).data("FancyBox");if(e&&e.currentHash)return i=e,!1}),i?i.currentHash===t.gallery+"-"+t.index||1===t.index&&i.currentHash==t.gallery||(i.currentHash=null,i.close()):""!==t.gallery&&e(t)}),setTimeout(function(){n.fancybox.getInstance()||e(r())},50))})}(window,document,jQuery),function(t,e){"use strict";var r=(new Date).getTime();e(t).on({"onInit.fb":function(t,n,e){n.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var e=n.current,i=(new Date).getTime();n.group.length<2||!1===e.opts.wheel||"auto"===e.opts.wheel&&"image"!==e.type||(t.preventDefault(),t.stopPropagation(),e.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-r<250||(r=i,n[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery),function(H){"use strict";var q='<?xml version="1.0" encoding="utf-8"?><svg version="1.1"xmlns="http://www.w3.org/2000/svg"viewBox="0 12.705 512 486.59"x="0px" y="0px"xml:space="preserve"><polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "/></svg>',a={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,maxValue:5,precision:1,rating:0,fullStar:!1,halfStar:!1,readOnly:!1,spacing:"0px",rtl:!1,multiColor:null,onInit:null,onChange:null,onSet:null,starSvg:null},W={startColor:"#c0392b",endColor:"#f1c40f"};function z(t,e,i){return t===e?t=e:t===i&&(t=i),t}function V(t){return void 0!==t}var e=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,G=function(t){if(!e.test(t))return null;t=e.exec(t);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}};function X(t,e,i){e=i/100*(e-t);return e=1===(e=Math.round(t+e).toString(16)).length?"0"+e:e}function Y(r,l){this.node=r.get(0);var i=this;r.empty().addClass("jq-ry-container");var c,e,u,d,h,t,n=H("<div/>").addClass("jq-ry-group-wrapper").appendTo(r),p=H("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(n),s=H("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(n),f=0,o=l.rating,a=!1;function m(t){V(t)||(t=l.rating);var e=(o=t)/c,t=e*u;1<e&&(t+=(Math.ceil(e)-1)*h),T(l.ratedFill),(t=l.rtl?100-t:t)<0?t=0:100<t&&(t=100),s.css("width",t+"%")}function g(){t=e*l.numStars+d*(l.numStars-1),u=e/t*100,h=d/t*100,r.width(t),m()}function y(t){t=l.starWidth=t;return e=window.parseFloat(l.starWidth.replace("px","")),p.find("svg").attr({width:l.starWidth,height:t}),s.find("svg").attr({width:l.starWidth,height:t}),g(),r}function v(t){return l.spacing=t,d=parseFloat(l.spacing.replace("px","")),p.find("svg:not(:first-child)").css({"margin-left":t}),s.find("svg:not(:first-child)").css({"margin-left":t}),g(),r}function b(t){return l.normalFill=t,(l.rtl?s:p).find("svg").attr({fill:l.normalFill}),r}var _=l.ratedFill;function T(t){var e,i;return l.multiColor?(e=(o-f)/l.maxValue*100,t=function(t,e,i){if(!t||!e)return null;i=V(i)?i:0,t=G(t),e=G(e);var n=X(t.r,e.r,i),r=X(t.b,e.b,i);return"#"+n+X(t.g,e.g,i)+r}((i=l.multiColor||{}).startColor||W.startColor,i.endColor||W.endColor,e)):_=t,l.ratedFill=t,(l.rtl?p:s).find("svg").attr({fill:l.ratedFill}),r}function w(t){l.rtl=t=!!t,b(l.normalFill),m()}function S(t){l.multiColor=t,T(t||_)}function x(t){l.numStars=t,c=l.maxValue/l.numStars,p.empty(),s.empty();for(var e=0;e<l.numStars;e++)p.append(H(l.starSvg||q)),s.append(H(l.starSvg||q));return y(l.starWidth),b(l.normalFill),v(l.spacing),m(),r}function C(t){return l.maxValue=t,c=l.maxValue/l.numStars,l.rating>t&&D(t),m(),r}function k(t){return l.precision=t,D(l.rating),r}function E(t){return l.halfStar=t,r}function A(t){return l.fullStar=t,r}function I(t){var e=p.offset().left,i=e+p.width(),n=l.maxValue,r=t.pageX,s=0;if(r<e)s=f;else if(i<r)s=n;else{var o=(r-e)/(i-e);if(0<d)for(var a=o*=100;0<a;)u<a?(s+=c,a-=u+h):(s+=a/u*c,a=0);else s=o*l.maxValue;r=(t=s)%c,i=c/2,e=l.halfStar,((o=l.fullStar)||e)&&(o||e&&i<r?t+=c-r:(t-=r,0<r&&(t+=i))),s=t}return l.rtl&&(s=n-s),parseFloat(s)}function P(t){return l.readOnly=t,r.attr("readonly",!0),$(),t||(r.removeAttr("readonly"),r.on("mousemove",N).on("mouseenter",N).on("mouseleave",R).on("click",F).on("rateyo.init",j).on("rateyo.change",U).on("rateyo.set",B)),r}function D(t){var e=t,t=l.maxValue;return"string"==typeof e&&("%"===e[e.length-1]&&(e=e.substr(0,e.length-1),C(t=100)),e=parseFloat(e)),function(t,e,i){if(!(e<=t&&t<=i))throw Error("Invalid Rating, expected value between "+e+" and "+i)}(e,f,t),e=parseFloat(e.toFixed(l.precision)),z(parseFloat(e),f,t),l.rating=e,m(),a&&r.trigger("rateyo.set",{rating:e}),r}function O(t){return l.onInit=t,r}function L(t){return l.onSet=t,r}function M(t){return l.onChange=t,r}function N(t){var e=I(t).toFixed(l.precision),t=l.maxValue;m(e=z(parseFloat(e),f,t)),r.trigger("rateyo.change",{rating:e})}function R(){var t,e;e=!1,t=navigator.userAgent||navigator.vendor||window.opera,(e=!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))||e)||(m(),r.trigger("rateyo.change",{rating:l.rating}))}function F(t){t=I(t).toFixed(l.precision),t=parseFloat(t);i.rating(t)}function j(t,e){l.onInit&&"function"==typeof l.onInit&&l.onInit.apply(this,[e.rating,i])}function U(t,e){l.onChange&&"function"==typeof l.onChange&&l.onChange.apply(this,[e.rating,i])}function B(t,e){l.onSet&&"function"==typeof l.onSet&&l.onSet.apply(this,[e.rating,i])}function $(){r.off("mousemove",N).off("mouseenter",N).off("mouseleave",R).off("click",F).off("rateyo.init",j).off("rateyo.change",U).off("rateyo.set",B)}this.rating=function(t){return V(t)?(D(t),r):l.rating},this.destroy=function(){var i,n;return l.readOnly||$(),Y.prototype.collection=(i=r.get(0),n=this.collection,H.each(n,function(t){if(i===this.node){var e=n.slice(0,t),t=n.slice(t+1,n.length);return n=e.concat(t),!1}}),n),r.removeClass("jq-ry-container").children().remove(),r},this.method=function(t){if(!t)throw Error("Method name not specified!");if(!V(this[t]))throw Error("Method "+t+" doesn't exist!");var e=Array.prototype.slice.apply(arguments,[]).slice(1);return this[t].apply(this,e)},this.option=function(t,e){if(!V(t))return l;var i;switch(t){case"starWidth":i=y;break;case"numStars":i=x;break;case"normalFill":i=b;break;case"ratedFill":i=T;break;case"multiColor":i=S;break;case"maxValue":i=C;break;case"precision":i=k;break;case"rating":i=D;break;case"halfStar":i=E;break;case"fullStar":i=A;break;case"readOnly":i=P;break;case"spacing":i=v;break;case"rtl":i=w;break;case"onInit":i=O;break;case"onSet":i=L;break;case"onChange":i=M;break;default:throw Error("No such option as "+t)}return V(e)?i(e):l[t]},x(l.numStars),P(l.readOnly),l.rtl&&w(l.rtl),this.collection.push(this),this.rating(l.rating,!0),a=!0,r.trigger("rateyo.init",{rating:l.rating})}function l(t,e){var i;return H.each(e,function(){if(t===this.node)return i=this,!1}),i}Y.prototype.collection=[],window.RateYo=Y,H.fn.rateYo=function(){return function(e){var r=Y.prototype.collection,t=H(this);if(0===t.length)return t;var i=Array.prototype.slice.apply(arguments,[]);if(0===i.length)e=i[0]={};else{if(1!==i.length||"object"!=typeof i[0]){if(1<=i.length&&"string"==typeof i[0]){var n=i[0],s=i.slice(1),o=[];return H.each(t,function(t,e){var i=l(e,r);if(!i)throw Error("Trying to set options before even initialization");e=i[n];if(!e)throw Error("Method "+n+" does not exist!");i=e.apply(i,s);o.push(i)}),o=1===o.length?o[0]:o}throw Error("Invalid Arguments")}e=i[0]}return e=H.extend({},a,e),H.each(t,function(){var t=l(this,r);if(t)return t;var t=H(this),i={},n=H.extend({},e);return H.each(t.data(),function(t,e){0===t.indexOf("rateyo")&&(t=(t=t.replace(/^rateyo/,""))[0].toLowerCase()+t.slice(1),i[t]=e,delete n[t])}),new Y(H(this),H.extend({},i,n))})}.apply(this,Array.prototype.slice.apply(arguments,[]))}}(window.jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).videojs=e()}(this,function(){"use strict";for(var t,i={},s=function(t,e){return i[t]=i[t]||[],e&&(i[t]=i[t].concat(e)),i[t]},n=function(t,e){e=s(t).indexOf(e);return!(e<=-1)&&(i[t]=i[t].slice(),i[t].splice(e,1),!0)},l={prefixed:!0},e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],r=e[0],o=0;o<e.length;o++)if(e[o][1]in document){t=e[o];break}if(t){for(var a=0;a<t.length;a++)l[r[a]]=t[a];l.prefixed=t[0]!==r[0]}var c=[];var d=function e(i){function n(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r("log",a,e)}var r,s,o,a="info";return s=i,r=function(t,e,i){var n,r=o.levels[e],e=new RegExp("^("+r+")$");"log"!==t&&i.unshift(t.toUpperCase()+":"),i.unshift(s+":"),c&&(c.push([].concat(i)),n=c.length-1e3,c.splice(0,0<n?n:0)),!window.console||(n=(n=window.console[t])||"debug"!==t?n:window.console.info||window.console.log)&&r&&e.test(t)&&n[Array.isArray(i)?"apply":"call"](window.console,i)},(o=n).createLogger=function(t){return e(i+": "+t)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:a},n.level=function(t){if("string"==typeof t){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');a=t}return a},(n.history=function(){return c?[].concat(c):[]}).filter=function(e){return(c||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},n.history.clear=function(){c&&(c.length=0)},n.history.disable=function(){null!==c&&(c.length=0,c=null)},n.history.enable=function(){null===c&&(c=[])},n.error=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return r("error",a,e)},n.warn=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return r("warn",a,e)},n.debug=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return r("debug",a,e)},n}("VIDEOJS"),h=d.createLogger,u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function p(t,e){return t(e={exports:{}},e.exports),e.exports}function f(t){return b(t)?Object.keys(t):[]}var m=p(function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i,n=arguments[e];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}t.exports=e}),g=Object.prototype.toString;function y(e,i){f(e).forEach(function(t){return i(e[t],t)})}function v(i){for(var t=arguments.length,e=new Array(1<t?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return Object.assign?m.apply(void 0,[i].concat(e)):(e.forEach(function(t){t&&y(t,function(t,e){i[e]=t})}),i)}function b(t){return!!t&&"object"==typeof t}function _(t){return b(t)&&"[object Object]"===g.call(t)&&t.constructor===Object}function T(t,e){if(!t||!e)return"";if("function"!=typeof window.getComputedStyle)return"";var i;try{i=window.getComputedStyle(t)}catch(t){return""}return i?i.getPropertyValue(e)||i[e]:""}var w=window.navigator&&window.navigator.userAgent||"",S=/AppleWebKit\/([\d.]+)/i.exec(w),x=S?parseFloat(S.pop()):null,C=/iPod/i.test(w),k=(Ne=w.match(/OS (\d+)_/i))&&Ne[1]?Ne[1]:null,E=/Android/i.test(w),A=function(){var t=w.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),I=E&&A<5&&x<537,P=/Firefox/i.test(w),D=/Edg/i.test(w),O=!D&&(/Chrome/i.test(w)||/CriOS/i.test(w)),L=(Re=w.match(/(Chrome|CriOS)\/(\d+)/))&&Re[2]?parseFloat(Re[2]):null,M=He=!(He=(He=/MSIE\s(\d+)\.\d/.exec(w))&&parseFloat(He[1]))&&/Trident\/7.0/i.test(w)&&/rv:11.0/.test(w)?11:He,N=/Safari/i.test(w)&&!O&&!E&&!D,R=/Windows/i.test(w),F=Boolean(z()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch)),j=/iPad/i.test(w)||N&&F&&!/iPhone/i.test(w),U=/iPhone/i.test(w)&&!j,B=U||j||C,$=(N||B)&&!O,H=Object.freeze({__proto__:null,IS_IPOD:C,IOS_VERSION:k,IS_ANDROID:E,ANDROID_VERSION:A,IS_NATIVE_ANDROID:I,IS_FIREFOX:P,IS_EDGE:D,IS_CHROME:O,CHROME_VERSION:L,IE_VERSION:M,IS_SAFARI:N,IS_WINDOWS:R,TOUCH_ENABLED:F,IS_IPAD:j,IS_IPHONE:U,IS_IOS:B,IS_ANY_SAFARI:$});function q(t){return"string"==typeof t&&Boolean(t.trim())}function W(t){if(0<=t.indexOf(" "))throw new Error("class has illegal whitespace characters")}function z(){return document===window.document}function V(t){return b(t)&&1===t.nodeType}function G(){try{return window.parent!==window.self}catch(t){return!0}}function X(i){return function(t,e){if(!q(t))return document[i](null);e=V(e=q(e)?document.querySelector(e):e)?e:document;return e[i]&&e[i](t)}}function Y(t,i,e,n){void 0===t&&(t="div"),void 0===i&&(i={}),void 0===e&&(e={});var r=document.createElement(t);return Object.getOwnPropertyNames(i).forEach(function(t){var e=i[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(d.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+e+"."),r.setAttribute(t,e)):"textContent"===t?K(r,e):r[t]===e&&"tabIndex"!==t||(r[t]=e)}),Object.getOwnPropertyNames(e).forEach(function(t){r.setAttribute(t,e[t])}),n&&mt(r,n),r}function K(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function Q(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Z(t,e){return W(e),t.classList?t.classList.contains(e):new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className)}function J(t,e){return t.classList?t.classList.add(e):Z(t,e)||(t.className=(t.className+" "+e).trim()),t}function tt(t,e){return t?(t.classList?t.classList.remove(e):(W(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t):(d.warn("removeClass was called with an element that doesn't exist"),null)}function et(t,e,i){var n=Z(t,e);if((i="boolean"!=typeof(i="function"==typeof i?i(t,e):i)?!n:i)!==n)return(i?J:tt)(t,e),t}function it(i,n){Object.getOwnPropertyNames(n).forEach(function(t){var e=n[t];null==e||!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})}function nt(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&0<t.attributes.length)for(var n=t.attributes,r=n.length-1;0<=r;r--){var s=n[r].name,o=n[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(o=null!==o),e[s]=o}return e}function rt(t,e){return t.getAttribute(e)}function st(t,e,i){t.setAttribute(e,i)}function ot(t,e){t.removeAttribute(e)}function at(){document.body.focus(),document.onselectstart=function(){return!1}}function lt(){document.onselectstart=function(){return!0}}function ct(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(i[t]=e[t])}),i.height||(i.height=parseFloat(T(t,"height"))),i.width||(i.width=parseFloat(T(t,"width"))),i}}function ut(t){if(!t||!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,i=t.offsetHeight,n=0,r=0;t.offsetParent&&t!==document[l.fullscreenElement];)n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:n,top:r,width:e,height:i}}function dt(t,e){var i={x:0,y:0};if(B)for(var n=t;n&&"html"!==n.nodeName.toLowerCase();){var r,s=T(n,"transform");/^matrix/.test(s)?(r=s.slice(7,-1).split(/,\s/).map(Number),i.x+=r[4],i.y+=r[5]):/^matrix3d/.test(s)&&(s=s.slice(9,-1).split(/,\s/).map(Number),i.x+=s[12],i.y+=s[13]),n=n.parentNode}var o={},a=ut(e.target),l=ut(t),c=l.width,u=l.height,t=e.offsetY-(l.top-a.top),a=e.offsetX-(l.left-a.left);return e.changedTouches&&(a=e.changedTouches[0].pageX-l.left,t=e.changedTouches[0].pageY+l.top,B&&(a-=i.x,t-=i.y)),o.y=1-Math.max(0,Math.min(1,t/u)),o.x=Math.max(0,Math.min(1,a/c)),o}function ht(t){return b(t)&&3===t.nodeType}function pt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function ft(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return V(t="function"==typeof t?t():t)||ht(t)?t:"string"==typeof t&&/\S/.test(t)?document.createTextNode(t):void 0}).filter(function(t){return t})}function mt(e,t){return ft(t).forEach(function(t){return e.appendChild(t)}),e}function gt(t,e){return mt(pt(t),e)}function yt(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||("mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons))}function vt(){if(!1!==bt.options.autoSetup){var t=Array.prototype.slice.call(document.getElementsByTagName("video")),e=Array.prototype.slice.call(document.getElementsByTagName("audio")),i=Array.prototype.slice.call(document.getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&0<n.length)for(var r=0,s=n.length;r<s;r++){var o=n[r];if(!o||!o.getAttribute){xt(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&bt(o)}else St||xt(1)}}var bt,_t=X("querySelector"),Tt=X("querySelectorAll"),wt=Object.freeze({__proto__:null,isReal:z,isEl:V,isInFrame:G,createEl:Y,textContent:K,prependTo:Q,hasClass:Z,addClass:J,removeClass:tt,toggleClass:et,setAttributes:it,getAttributes:nt,getAttribute:rt,setAttribute:st,removeAttribute:ot,blockTextSelection:at,unblockTextSelection:lt,getBoundingClientRect:ct,findPosition:ut,getPointerPosition:dt,isTextNode:ht,emptyEl:pt,normalizeContent:ft,appendContent:mt,insertContent:gt,isSingleLeftClick:yt,$:_t,$$:Tt}),St=!1;function xt(t,e){z()&&(e&&(bt=e),window.setTimeout(vt,t))}function Ct(){St=!0,window.removeEventListener("load",Ct)}z()&&("complete"===document.readyState?Ct():window.addEventListener("load",Ct));function kt(t){var e=document.createElement("style");return e.className=t,e}function Et(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}var At=3;window.WeakMap||(ii=function(){function t(){this.vdata="vdata"+Math.floor(window.performance&&window.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(t,e){var i=t[this.vdata]||At++;return t[this.vdata]||(t[this.vdata]=i),this.data[i]=e,this},e.get=function(t){var e=t[this.vdata];if(e)return this.data[e];d("We have no data for this element",t)},e.has=function(t){return t[this.vdata]in this.data},e.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},t}());var It,Pt=new(window.WeakMap?WeakMap:ii);function Dt(t,e){var i;Pt.has(t)&&(0===(i=Pt.get(t)).handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Pt.delete(t))}function Ot(e,i,t,n){t.forEach(function(t){e(i,t,n)})}function Lt(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var n,r,s,o=t||window.event;for(n in t={},o)"layerX"!==n&&"layerY"!==n&&"keyLocation"!==n&&"webkitMovementX"!==n&&"webkitMovementY"!==n&&"path"!==n&&("returnValue"===n&&o.preventDefault||(t[n]=o[n]));t.target||(t.target=t.srcElement||document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){o.preventDefault&&o.preventDefault(),t.returnValue=!1,o.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),t.cancelBubble=!0,o.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX&&(r=document.documentElement,s=document.body,t.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var Mt=["touchstart","touchmove"];function Nt(o,t,e){if(Array.isArray(t))return Ot(Nt,o,t,e);Pt.has(o)||Pt.set(o,{});var a=Pt.get(o);a.handlers||(a.handlers={}),a.handlers[t]||(a.handlers[t]=[]),e.guid||(e.guid=At++),a.handlers[t].push(e),a.dispatcher||(a.disabled=!1,a.dispatcher=function(t,e){if(!a.disabled){t=Lt(t);var i=a.handlers[t.type];if(i)for(var n=i.slice(0),r=0,s=n.length;r<s&&!t.isImmediatePropagationStopped();r++)try{n[r].call(o,t,e)}catch(t){d.error(t)}}}),1===a.handlers[t].length&&(o.addEventListener?(e=!1,function(){if("boolean"!=typeof It){It=!1;try{var t=Object.defineProperty({},"passive",{get:function(){It=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}return It}()&&-1<Mt.indexOf(t)&&(e={passive:!0}),o.addEventListener(t,a.dispatcher,e)):o.attachEvent&&o.attachEvent("on"+t,a.dispatcher))}function Rt(t,e,i){if(Pt.has(t)){var n=Pt.get(t);if(n.handlers){if(Array.isArray(e))return Ot(Rt,t,e,i);var r=function(t,e){n.handlers[e]=[],Dt(t,e)};if(void 0!==e){var s=n.handlers[e];if(s)if(i){if(i.guid)for(var o=0;o<s.length;o++)s[o].guid===i.guid&&s.splice(o--,1);Dt(t,e)}else r(t,e)}else for(var a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&r(t,a)}}}function Ft(t,e,i){var n=Pt.has(t)?Pt.get(t):{},r=t.parentNode||t.ownerDocument;return"string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Lt(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&!0===e.bubbles?Ft.call(null,r,e,i):!r&&!e.defaultPrevented&&e.target&&e.target[e.type]&&(Pt.has(e.target)||Pt.set(e.target,{}),r=Pt.get(e.target),e.target[e.type]&&(r.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),r.disabled=!1)),!e.defaultPrevented}function jt(t,e,i){if(Array.isArray(e))return Ot(jt,t,e,i);function n(){Rt(t,e,n),i.apply(this,arguments)}n.guid=i.guid=i.guid||At++,Nt(t,e,n)}function Ut(t,e,i){function n(){Rt(t,e,n),i.apply(this,arguments)}n.guid=i.guid=i.guid||At++,Nt(t,e,n)}function Bt(e,i){var n=window.performance.now();return function(){var t=window.performance.now();i<=t-n&&(e.apply(void 0,arguments),n=t)}}function $t(n,r,s,o){var a;function t(){var t=this,e=arguments,i=function(){i=a=null,s||n.apply(t,e)};!a&&s&&n.apply(t,e),o.clearTimeout(a),a=o.setTimeout(i,r)}return void 0===o&&(o=window),t.cancel=function(){o.clearTimeout(a),a=null},t}function Ht(){}var qt,Wt=Object.freeze({__proto__:null,fixEvent:Lt,on:Nt,off:Rt,trigger:Ft,one:jt,any:Ut}),zt=function(t,e,i){e.guid||(e.guid=At++);t=e.bind(t);return t.guid=i?i+"_"+e.guid:e.guid,t};Ht.prototype.allowedEvents_={},Ht.prototype.addEventListener=Ht.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Nt(this,t,e),this.addEventListener=i},Ht.prototype.removeEventListener=Ht.prototype.off=function(t,e){Rt(this,t,e)},Ht.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},jt(this,t,e),this.addEventListener=i},Ht.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Ut(this,t,e),this.addEventListener=i},Ht.prototype.trigger=function(t){var e=t.type||t;t=Lt(t="string"==typeof t?{type:e}:t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Ft(this,t)},Ht.prototype.dispatchEvent=Ht.prototype.trigger,Ht.prototype.queueTrigger=function(t){var e=this;qt=qt||new Map;var i=t.type||t,n=qt.get(this);n||(n=new Map,qt.set(this,n));var r=n.get(i);n.delete(i),window.clearTimeout(r);r=window.setTimeout(function(){0===n.size&&(n=null,qt.delete(e)),e.trigger(t)},0);n.set(i,r)};function Vt(t,e,i){if(!t||!t.nodeName&&!Zt(t))throw new Error("Invalid target for "+Qt(e)+"#"+i+"; must be a DOM node or evented object.")}function Gt(t,e,i){if(!Jt(t))throw new Error("Invalid event type for "+Qt(e)+"#"+i+"; must be a non-empty string or array.")}function Xt(t,e,i){if("function"!=typeof t)throw new Error("Invalid listener for "+Qt(e)+"#"+i+"; must be a function.")}function Yt(t,e,i){var n,r,s=e.length<3||e[0]===t||e[0]===t.eventBusEl_,e=s?(n=t.eventBusEl_,3<=e.length&&e.shift(),r=e[0],e[1]):(n=e[0],r=e[1],e[2]);return Vt(n,t,i),Gt(r,t,i),Xt(e,t,i),{isTargetingSelf:s,target:n,type:r,listener:e=zt(t,e)}}function Kt(t,e,i,n){Vt(t,t,e),t.nodeName?Wt[e](t,i,n):t[e](i,n)}var Qt=function(t){return"function"==typeof t.name?t.name():"string"==typeof t.name?t.name:t.name_||(t.constructor&&t.constructor.name?t.constructor.name:typeof t)},Zt=function(e){return e instanceof Ht||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},Jt=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},te={on:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r,s=Yt(this,i,"on"),o=s.isTargetingSelf,a=s.target,l=s.type,c=s.listener;Kt(a,"on",l,c),o||((r=function(){return t.off(a,l,c)}).guid=c.guid,(o=function(){return t.off("dispose",r)}).guid=c.guid,Kt(this,"on","dispose",r),Kt(a,"on","dispose",o))},one:function(){for(var r=this,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=Yt(this,e,"one"),s=n.isTargetingSelf,o=n.target,a=n.type,l=n.listener;s?Kt(o,"one",a,l):((s=function t(){r.off(o,a,t);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];l.apply(null,i)}).guid=l.guid,Kt(o,"one",a,s))},any:function(){for(var r=this,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=Yt(this,e,"any"),s=n.isTargetingSelf,o=n.target,a=n.type,l=n.listener;s?Kt(o,"any",a,l):((s=function t(){r.off(o,a,t);for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];l.apply(null,i)}).guid=l.guid,Kt(o,"any",a,s))},off:function(t,e,i){!t||Jt(t)?Rt(this.eventBusEl_,t,e):(e=e,Vt(t=t,this,"off"),Gt(e,this,"off"),Xt(i,this,"off"),i=zt(this,i),this.off("dispose",i),t.nodeName?(Rt(t,e,i),Rt(t,"dispose",i)):Zt(t)&&(t.off(e,i),t.off("dispose",i)))},trigger:function(t,e){Vt(this.eventBusEl_,this,"trigger");var i=t&&"string"!=typeof t?t.type:t;if(!Jt(i)){i="Invalid event type for "+Qt(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!t)throw new Error(i);(this.log||d).error(i)}return Ft(this.eventBusEl_,t,e)}};function ee(t,e){e=(e=void 0===e?{}:e).eventBusKey;if(e){if(!t[e].nodeName)throw new Error('The eventBusKey "'+e+'" does not refer to an element.');t.eventBusEl_=t[e]}else t.eventBusEl_=Y("span",{className:"vjs-event-bus"});return v(t,te),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(t){t()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(t){t&&Pt.has(t)&&Pt.delete(t)}),window.setTimeout(function(){t.eventBusEl_=null},0)}),t}var ie={state:{},setState:function(t){var i,n=this;return y(t="function"==typeof t?t():t,function(t,e){n.state[e]!==t&&((i=i||{})[e]={from:n.state[e],to:t}),n.state[e]=t}),i&&Zt(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function ne(t,e){return v(t,ie),t.state=v({},t.state,e),"function"==typeof t.handleStateChanged&&Zt(t)&&t.on("statechanged",t.handleStateChanged),t}function re(t){return"string"!=typeof t?t:t.replace(/./,function(t){return t.toLowerCase()})}function se(t){return"string"!=typeof t?t:t.replace(/./,function(t){return t.toUpperCase()})}function oe(){for(var i={},t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach(function(t){t&&y(t,function(t,e){_(t)?(_(i[e])||(i[e]={}),i[e]=oe(i[e],t)):i[e]=t})}),i}var ae=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(t){return t in this.map_},e.delete=function(t){var e=this.has(t);return delete this.map_[t],e},e.set=function(t,e){return this.map_[t]=e,this},e.forEach=function(t,e){for(var i in this.map_)t.call(e,this.map_[i],i,this)},t}(),le=window.Map||ae,ce=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var i in this.set_)t.call(e,i,i,this)},t}(),ue=window.Set||ce,de=p(function(t,e){function i(t){if(!t||"object"!=typeof t||(e=t.which||t.keyCode||t.charCode)&&(t=e),"number"==typeof t)return a[t];var e=String(t),t=n[e.toLowerCase()];return t||((t=r[e.toLowerCase()])?t:1===e.length?e.charCodeAt(0):void 0)}i.isEventKey=function(t,e){if(t&&"object"==typeof t){var i=t.which||t.keyCode||t.charCode;if(null==i)return!1;if("string"==typeof e){t=n[e.toLowerCase()];if(t)return t===i;if(t=r[e.toLowerCase()])return t===i}else if("number"==typeof e)return e===i;return!1}};for(var n=(e=t.exports=i).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"â§":16,"â¥":18,"â":17,"â":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var o,a=e.names=e.title={};for(s in n)a[n[s]]=s;for(o in r)n[o]=r[o]});de.code,de.codes,de.aliases,de.names,de.title;var he=function(){function o(t,e,i){var n=this;!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=oe({},this.options_),e=this.options_=oe(this.options_,e),this.id_=e.id||e.el&&e.el.id,this.id_||(t=t&&t.id&&t.id()||"no_player",this.id_=t+"_component_"+At++),this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),e.className&&this.el_&&e.className.split(" ").forEach(function(t){return n.addClass(t)}),!1!==e.evented&&(ee(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),ne(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new ue,this.setIntervalIds_=new ue,this.rafIds_=new ue,this.namedRafs_=new le,(this.clearingTimersOnDispose_=!1)!==e.initChildren&&this.initChildren(),this.ready(i),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var t=o.prototype;return t.dispose=function(t){if(void 0===t&&(t={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(t.restoreEl?this.el_.parentNode.replaceChild(t.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(t){return t&&(this.options_=oe(this.options_,t)),this.options_},t.el=function(){return this.el_},t.createEl=function(t,e,i){return Y(t,e,i)},t.localize=function(t,i,e){void 0===e&&(e=t);var n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[n],n=n&&n.split("-")[0],n=r&&r[n],e=e;return s&&s[t]?e=s[t]:n&&n[t]&&(e=n[t]),e=i?e.replace(/\{(\d+)\}/g,function(t,e){e=i[e-1];return void 0===e?t:e}):e},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(t){return this.childIndex_[t]},t.getChild=function(t){if(t)return this.childNameIndex_[t]},t.getDescendant=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var e=e.reduce(function(t,e){return t.concat(e)},[]),n=this,r=0;r<e.length;r++)if(!(n=n.getChild(e[r]))||!n.getChild)return;return n},t.addChild=function(t,e,i){if(void 0===e&&(e={}),void 0===i&&(i=this.children_.length),"string"==typeof t){var n=se(t),r=e.componentClass||n;e.name=n;var s=o.getComponent(r);if(!s)throw new Error("Component "+r+" does not exist");if("function"!=typeof s)return null;s=new s(this.player_||this,e)}else s=t;return s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(i,0,s),s.parentComponent_=this,"function"==typeof s.id&&(this.childIndex_[s.id()]=s),(n=n||s.name&&se(s.name()))&&(this.childNameIndex_[n]=s,this.childNameIndex_[re(n)]=s),"function"==typeof s.el&&s.el()&&(n=null,this.children_[i+1]&&(this.children_[i+1].el_?n=this.children_[i+1].el_:V(this.children_[i+1])&&(n=this.children_[i+1])),this.contentEl().insertBefore(s.el(),n)),s},t.removeChild=function(t){if((t="string"==typeof t?this.getChild(t):t)&&this.children_){for(var e,i=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===t){i=!0,this.children_.splice(n,1);break}i&&(t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[se(t.name())]=null,this.childNameIndex_[re(t.name())]=null,(e=t.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el()))}},t.initChildren=function(){var i,e,t,n=this,r=this.options_.children;r&&(i=this.options_,e=o.getComponent("Tech"),(t=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter(function(e){return!t.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(t){var e,t="string"==typeof t?r[e=t]||n.options_[e]||{}:(e=t.name,t);return{name:e,opts:t}}).filter(function(t){t=o.getComponent(t.opts.componentClass||se(t.name));return t&&!e.isTech(t)}).forEach(function(t){var e=t.name,t=t.opts;!1!==(t=void 0!==i[e]?i[e]:t)&&((t=!0===t?{}:t).playerOptions=n.options_.playerOptions,(t=n.addChild(e,t))&&(n[e]=t))}))},t.buildCSSClass=function(){return""},t.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&0<t.length&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.$=function(t,e){return _t(t,e||this.contentEl())},t.$$=function(t,e){return Tt(t,e||this.contentEl())},t.hasClass=function(t){return Z(this.el_,t)},t.addClass=function(t){J(this.el_,t)},t.removeClass=function(t){tt(this.el_,t)},t.toggleClass=function(t,e){et(this.el_,t,e)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(t){return rt(this.el_,t)},t.setAttribute=function(t,e){st(this.el_,t,e)},t.removeAttribute=function(t){ot(this.el_,t)},t.width=function(t,e){return this.dimension("width",t,e)},t.height=function(t,e){return this.dimension("height",t,e)},t.dimensions=function(t,e){this.width(t,!0),this.height(e)},t.dimension=function(t,e,i){if(void 0!==e)return-1!==(""+(e=null===e||e!=e?0:e)).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;e=this.el_.style[t],i=e.indexOf("px");return-1!==i?parseInt(e.slice(0,i),10):parseInt(this.el_["offset"+se(t)],10)},t.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");return e=T(this.el_,t),0!==(e=parseFloat(e))&&!isNaN(e)||(t="offset"+se(t),e=this.el_[t]),e},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(t){this.player_&&(de.isEventKey(t,"Tab")||t.stopPropagation(),this.player_.handleKeyDown(t))},t.handleKeyPress=function(t){this.handleKeyDown(t)},t.emitTapEvents=function(){var i,e=0,n=null;this.on("touchstart",function(t){1===t.touches.length&&(n={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},e=window.performance.now(),i=!0)}),this.on("touchmove",function(t){var e;1<t.touches.length?i=!1:n&&(e=t.touches[0].pageX-n.pageX,t=t.touches[0].pageY-n.pageY,10<Math.sqrt(e*e+t*t)&&(i=!1))});function t(){i=!1}this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",function(t){!(n=null)===i&&window.performance.now()-e<200&&(t.preventDefault(),this.trigger("tap"))})},t.enableTouchActivity=function(){var e,i,t;this.player()&&this.player().reportUserActivity&&(e=zt(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)}),t=function(t){e(),this.clearInterval(i)},this.on("touchmove",e),this.on("touchend",t),this.on("touchcancel",t))},t.setTimeout=function(t,e){var i,n=this;return t=zt(this,t),this.clearTimersOnDispose_(),i=window.setTimeout(function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_.delete(i),t()},e),this.setTimeoutIds_.add(i),i},t.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),window.clearTimeout(t)),t},t.setInterval=function(t,e){t=zt(this,t),this.clearTimersOnDispose_();e=window.setInterval(t,e);return this.setIntervalIds_.add(e),e},t.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),window.clearInterval(t)),t},t.requestAnimationFrame=function(t){var e,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=zt(this,t),e=window.requestAnimationFrame(function(){i.rafIds_.has(e)&&i.rafIds_.delete(e),t()}),this.rafIds_.add(e),e):this.setTimeout(t,1e3/60)},t.requestNamedAnimationFrame=function(t,e){var i=this;if(!this.namedRafs_.has(t)){this.clearTimersOnDispose_(),e=zt(this,e);var n=this.requestAnimationFrame(function(){e(),i.namedRafs_.has(t)&&i.namedRafs_.delete(t)});return this.namedRafs_.set(t,n),t}},t.cancelNamedAnimationFrame=function(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))},t.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_.delete(t),window.cancelAnimationFrame(t)),t):this.clearTimeout(t)},t.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var e=t[0],i=t[1];n[e].forEach(function(t,e){return n[i](e)})}),n.clearingTimersOnDispose_=!1}))},o.registerComponent=function(t,e){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i=o.getComponent("Tech"),n=i&&i.isTech(e),i=o===e||o.prototype.isPrototypeOf(e.prototype);if(n||!i){var r=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+t+'"; '+r+".")}t=se(t),o.components_||(o.components_={});r=o.getComponent("Player");if("Player"===t&&r&&r.players){var s=r.players,r=Object.keys(s);if(s&&0<r.length&&r.map(function(t){return s[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return o.components_[t]=e,o.components_[re(t)]=e},o.getComponent=function(t){if(t&&o.components_)return o.components_[t]},o}();he.prototype.supportsRaf_="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame,he.registerComponent("Component",he);var pe=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var fe=function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e};function me(t,e,i,n){return function(t,e,i){if("number"!=typeof e||e<0||i<e)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}(t,n,i.length-1),i[n][e]}function ge(t){var e=void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:me.bind(null,"start",0,t),end:me.bind(null,"end",1,t)};return window.Symbol&&window.Symbol.iterator&&(e[window.Symbol.iterator]=function(){return(t||[]).values()}),e}function ye(t,e){return Array.isArray(t)?ge(t):void 0===t||void 0===e?ge():ge([[t,e]])}function ve(t,e){var i,n,r=0;if(!e)return 0;t&&t.length||(t=ye(0,0));for(var s=0;s<t.length;s++)i=t.start(s),r+=(n=e<(n=t.end(s))?e:n)-i;return r/e}function be(t){if(t instanceof be)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:b(t)&&("number"==typeof t.code&&(this.code=t.code),v(this,t)),this.message||(this.message=be.defaultMessages[this.code]||"")}be.prototype.code=0,be.prototype.message="",be.prototype.status=null,be.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],be.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var _e=0;_e<be.errorTypes.length;_e++)be[be.errorTypes[_e]]=_e,be.prototype[be.errorTypes[_e]]=_e;var Te=function(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(t){n=t}return[n,i]};function we(t){return null!=t&&"function"==typeof t.then}function Se(t){we(t)&&t.then(null,function(t){})}function xe(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,e,i){return n[e]&&(t[e]=n[e]),t},{cues:n.cues&&Array.prototype.map.call(n.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})}var Ce=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=xe(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(xe))},ke=function(t,i){return t.forEach(function(t){var e=i.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return e.addCue(t)})}),i.textTracks()},Ee="vjs-modal-dialog",Ae=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.handleKeyDown_=function(t){return i.handleKeyDown(t)},i.close_=function(t){return i.close(t)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=Y("div",{className:Ee+"-content"},{role:"document"}),i.descEl_=Y("p",{className:Ee+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),K(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}fe(t,n);var e=t.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},e.buildCSSClass=function(){return Ee+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},e.label=function(){return this.localize(this.options_.label||"Modal Window")},e.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.open=function(){var t;this.opened_||(t=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},e.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.close=function(){var t;this.opened_&&(t=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},e.closeable=function(t){var e,i;return"boolean"==typeof t&&(e=this.closeable_=!!t,i=this.getChild("closeButton"),e&&!i&&(t=this.contentEl_,this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=t,this.on(i,"close",this.close_)),!e&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())),this.closeable_},e.fill=function(){this.fillWith(this.content())},e.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),gt(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e);e=this.getChild("closeButton");e&&i.appendChild(e.el_)},e.empty=function(){this.trigger("beforemodalempty"),pt(this.contentEl()),this.trigger("modalempty")},e.content=function(t){return void 0!==t&&(this.content_=t),this.content_},e.conditionalFocus_=function(){var t=document.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,!e.contains(t)&&e!==t||(this.previouslyActiveEl_=t,this.focus())},e.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},e.handleKeyDown=function(t){if(t.stopPropagation(),de.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(de.isEventKey(t,"Tab")){for(var e,i=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=0;r<i.length;r++)if(n===i[r]){e=r;break}document.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||e!==i.length-1||(i[0].focus(),t.preventDefault())}},e.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof window.HTMLAnchorElement||t instanceof window.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof window.HTMLInputElement||t instanceof window.HTMLSelectElement||t instanceof window.HTMLTextAreaElement||t instanceof window.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof window.HTMLIFrameElement||t instanceof window.HTMLObjectElement||t instanceof window.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},t}(he);Ae.prototype.options_={pauseOnOpen:!0,temporary:!0},he.registerComponent("ModalDialog",Ae);var Ie,Pe=function(n){function t(t){var e;void 0===t&&(t=[]),(e=n.call(this)||this).tracks_=[],Object.defineProperty(pe(e),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)e.addTrack(t[i]);return e}fe(t,n);var e=t.prototype;return e.addTrack=function(t){var e=this,i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.tracks_[i]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){e.trigger({track:t,type:"labelchange",target:e})},Zt(t)&&t.addEventListener("labelchange",t.labelchange_)},e.removeTrack=function(t){for(var e,i=0,n=this.length;i<n;i++)if(this[i]===t){(e=this[i]).off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},e.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}(Ht);for(Ie in Pe.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Pe.prototype.allowedEvents_)Pe.prototype["on"+Ie]=null;function De(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)}function Oe(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].selected=!1)}function Le(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=document.createElement("a");i.href=t;for(var n={},r=0;r<e.length;r++)n[e[r]]=i[e[r]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=window.location.protocol),n.host||(n.host=window.location.host),n}function Me(t){var e;return t.match(/^https?:\/\//)||((e=document.createElement("a")).href=t,t=e.href),t}var S=function(n){function t(t){for(var e,i=(t=void 0===t?[]:t).length-1;0<=i;i--)if(t[i].enabled){De(t,t[i]);break}return(e=n.call(this,t)||this).changing_=!1,e}fe(t,n);var e=t.prototype;return e.addTrack=function(t){var e=this;t.enabled&&De(this,t),n.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){e.changing_||(e.changing_=!0,De(e,t),e.changing_=!1,e.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},e.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(Pe),Ne=function(n){function t(t){for(var e,i=(t=void 0===t?[]:t).length-1;0<=i;i--)if(t[i].selected){Oe(t,t[i]);break}return(e=n.call(this,t)||this).changing_=!1,Object.defineProperty(pe(e),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),e}fe(t,n);var e=t.prototype;return e.addTrack=function(t){var e=this;t.selected&&Oe(this,t),n.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){e.changing_||(e.changing_=!0,Oe(e,t),e.changing_=!1,e.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},e.removeTrack=function(t){n.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(Pe),x=function(i){function t(){return i.apply(this,arguments)||this}fe(t,i);var e=t.prototype;return e.addTrack=function(t){var e=this;i.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return e.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return e.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},e.removeTrack=function(t){i.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Pe),Re=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,i=t.length;e<i;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},e.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Fe=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;function r(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})}if(e<n)for(i=e;i<n;i++)r.call(this,i)},t.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(),je={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ue={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Be={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},$e={disabled:"disabled",hidden:"hidden",showing:"showing"},He=function(s){function t(t){void 0===t&&(t={});var e,i=s.call(this)||this,n={id:t.id||"vjs_track_"+At++,kind:t.kind||"",language:t.language||""},r=t.label||"";for(e in n)!function(t){Object.defineProperty(pe(i),t,{get:function(){return n[t]},set:function(){}})}(e);return Object.defineProperty(pe(i),"label",{get:function(){return r},set:function(t){t!==r&&(r=t,this.trigger("labelchange"))}}),i}return fe(t,s),t}(Ht),qe=function(t){if("string"==typeof t){t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(t)return t.pop().toLowerCase()}return""},We=function(t,e){void 0===e&&(e=window.location);t=Le(t);return(":"===t.protocol?e:t).protocol+t.host!==e.protocol+e.host},C=Object.freeze({__proto__:null,parseUrl:Le,getAbsoluteURL:Me,getFileExtension:qe,isCrossOrigin:We}),k="undefined"!=typeof window?window:void 0!==u?u:"undefined"!=typeof self?self:{},ze=k,Ve=function(t){if(!t)return!1;var e=Ge.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},Ge=Object.prototype.toString;N=function(n,r){return void 0===r&&(r=!1),function(t,e,i){if(t)n(t);else if(400<=e.statusCode&&e.statusCode<=599){t=i;if(r)if(ze.TextDecoder){e=function(t){void 0===t&&(t="");return t.toLowerCase().split(";").reduce(function(t,e){var i=e.split("="),e=i[0],i=i[1];return"charset"===e.trim()?i.trim():t},"utf-8")}(e.headers&&e.headers["content-type"]);try{t=new TextDecoder(e).decode(i)}catch(t){}}else t=String.fromCharCode.apply(null,new Uint8Array(i));n({cause:t})}else n(null,i)}};Qe.httpHandler=N;var Xe=function(t){var n={};return t&&t.trim().split("\n").forEach(function(t){var e=t.indexOf(":"),i=t.slice(0,e).trim().toLowerCase(),e=t.slice(e+1).trim();void 0===n[i]?n[i]=e:Array.isArray(n[i])?n[i].push(e):n[i]=[n[i],e]}),n},Ye=Qe,j=Qe;function Ke(t,e,i){var n=t;return Ve(e)?(i=e,"string"==typeof t&&(n={uri:t})):n=m({},e,{uri:t}),n.callback=i,n}function Qe(t,e,i){return Ze(e=Ke(t,e,i))}function Ze(n){if(void 0===n.callback)throw new Error("callback argument missing");var r=!1,s=function(t,e,i){r||(r=!0,n.callback(t,e,i))};function o(){var t=void 0,t=c.response||c.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(c);if(m)try{t=JSON.parse(t)}catch(t){}return t}function e(t){return clearTimeout(l),(t=!(t instanceof Error)?new Error(""+(t||"Unknown XMLHttpRequest Error")):t).statusCode=0,s(t,g)}function t(){if(!a){clearTimeout(l);var t=n.useXDR&&void 0===c.status?200:1223===c.status?204:c.status,e=g,i=null;return 0!==t?(e={body:o(),statusCode:t,method:d,headers:{},url:u,rawRequest:c},c.getAllResponseHeaders&&(e.headers=Xe(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,e,e.body)}}var i,a,l,c=n.xhr||null,u=(c=c||new(n.cors||n.useXDR?Qe.XDomainRequest:Qe.XMLHttpRequest)).url=n.uri||n.url,d=c.method=n.method||"GET",h=n.body||n.data,p=c.headers=n.headers||{},f=!!n.sync,m=!1,g={body:void 0,headers:{},statusCode:0,method:d,url:u,rawRequest:c};if("json"in n&&!1!==n.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===n.json?h:n.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(t,0)},c.onload=t,c.onerror=e,c.onprogress=function(){},c.onabort=function(){a=!0},c.ontimeout=e,c.open(d,u,!f,n.username,n.password),f||(c.withCredentials=!!n.withCredentials),!f&&0<n.timeout&&(l=setTimeout(function(){var t;a||(a=!0,c.abort("timeout"),(t=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",e(t))},n.timeout)),c.setRequestHeader)for(i in p)p.hasOwnProperty(i)&&c.setRequestHeader(i,p[i]);else if(n.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return;return 1}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(c.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(c),c.send(h||null),c}Qe.XMLHttpRequest=ze.XMLHttpRequest||function(){},Qe.XDomainRequest="withCredentials"in new Qe.XMLHttpRequest?Qe.XMLHttpRequest:ze.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],function(n){Qe["delete"===n?"del":n]=function(t,e,i){return(e=Ke(t,e,i)).method=n.toUpperCase(),Ze(e)}}),Ye.default=j;function Je(t,n){var e={uri:t};(t=We(t))&&(e.cors=t),(t="use-credentials"===n.tech_.crossOrigin())&&(e.withCredentials=t),Ye(e,zt(this,function(t,e,i){return t?d.error(t,e):(n.loaded_=!0,void("function"!=typeof window.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],function(t){return"vttjserror"!==t.type?ti(i,n):void d.error("vttjs failed to load, stopping trying to process "+n.src)}):ti(i,n)))}))}var ti=function(t,e){var i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()),n=[];i.oncue=function(t){e.addCue(t)},i.onparsingerror=function(t){n.push(t)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),0<n.length&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach(function(t){return d.error(t)}),window.console&&window.console.groupEnd&&window.console.groupEnd()),i.flush()},ei=function(s){function t(t){var e;if(!(t=void 0===t?{}:t).tech)throw new Error("A tech was not provided.");var t=oe(t,{kind:Be[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=$e[t.mode]||"disabled",n=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(i="hidden"),(e=s.call(this,t)||this).tech_=t.tech,e.cues_=[],e.activeCues_=[],e.preload_=!1!==e.tech_.preloadTextTracks;var r=new Fe(e.cues_),o=new Fe(e.activeCues_),a=!1;e.timeupdateHandler=zt(pe(e),function(){this.tech_.isDisposed()||(this.tech_.isReady_&&(this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1)),this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))});return e.tech_.one("dispose",function(){e.stopTracking()}),"disabled"!==i&&e.startTracking(),Object.defineProperties(pe(e),{default:{get:function(){return n},set:function(){}},mode:{get:function(){return i},set:function(t){$e[t]&&i!==t&&(i=t,this.preload_||"disabled"===i||0!==this.cues.length||Je(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?r:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(a=!1,e.length!==this.activeCues_.length)a=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(a=!0);return this.activeCues_=e,o.setCues_(this.activeCues_),o},set:function(){}}}),t.src?(e.src=t.src,e.preload_||(e.loaded_=!0),(e.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&Je(e.src,pe(e))):e.loaded_=!0,e}fe(t,s);var e=t.prototype;return e.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)},e.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0)},e.addCue=function(t){var e=t;if(window.vttjs&&!(t instanceof window.vttjs.VTTCue)){for(var i in e=new window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in e||(e[i]=t[i]);e.id=t.id,e.originalCue_=t}for(var n=this.tech_.textTracks(),r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.removeCue=function(t){for(var e=this.cues_.length;e--;){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},t}(He);ei.prototype.allowedEvents_={cuechange:"cuechange"};var ii=function(n){function t(t){var e=oe(t=void 0===t?{}:t,{kind:Ue[t.kind]||""}),t=n.call(this,e)||this,i=!1;return Object.defineProperty(pe(t),"enabled",{get:function(){return i},set:function(t){"boolean"==typeof t&&t!==i&&(i=t,this.trigger("enabledchange"))}}),e.enabled&&(t.enabled=e.enabled),t.loaded_=!0,t}return fe(t,n),t}(He),ae=function(n){function t(t){var e=oe(t=void 0===t?{}:t,{kind:je[t.kind]||""}),t=n.call(this,e)||this,i=!1;return Object.defineProperty(pe(t),"selected",{get:function(){return i},set:function(t){"boolean"==typeof t&&t!==i&&(i=t,this.trigger("selectedchange"))}}),e.selected&&(t.selected=e.selected),t}return fe(t,n),t}(He),ce=function(r){function t(t){var e;void 0===t&&(t={});var i=r.call(this)||this,n=new ei(t);return i.kind=n.kind,i.src=n.src,i.srclang=n.language,i.label=n.label,i.default=n.default,Object.defineProperties(pe(i),{readyState:{get:function(){return e}},track:{get:function(){return n}}}),e=0,n.addEventListener("loadeddata",function(){e=2,i.trigger({type:"load",target:pe(i)})}),i}return fe(t,r),t}(Ht);ce.prototype.allowedEvents_={load:"load"},ce.NONE=0,ce.LOADING=1,ce.LOADED=2,ce.ERROR=3;var ni={audio:{ListClass:S,TrackClass:ii,capitalName:"Audio"},video:{ListClass:Ne,TrackClass:ae,capitalName:"Video"},text:{ListClass:x,TrackClass:ei,capitalName:"Text"}};Object.keys(ni).forEach(function(t){ni[t].getterName=t+"Tracks",ni[t].privateName=t+"Tracks_"});var ri={remoteText:{ListClass:x,TrackClass:ei,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Re,TrackClass:ce,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},si=m({},ni,ri);ri.names=Object.keys(ri),ni.names=Object.keys(ni),si.names=[].concat(ri.names).concat(ni.names);var k=void 0!==u?u:"undefined"!=typeof window?window:{},oi="undefined"!=typeof document?document:(oi=k["__GLOBAL_DOCUMENT_CACHE@4"])||(k["__GLOBAL_DOCUMENT_CACHE@4"]={}),N=oi,ai=Object.create||function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return li.prototype=t,new li};function li(){}function ci(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function ui(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}t=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return t?t[3]?e(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?e(t[1],t[2],0,t[4]):e(0,t[1],t[2],t[4]):null}function di(){this.values=ai(null)}function hi(t,e,i,n){var r,s,o=n?t.split(n):[t];for(r in o)"string"==typeof o[r]&&(2===(s=o[r].split(i)).length&&e(s[0],s[1]))}function pi(e,t,o){var i=e;function n(){var t=ui(e);if(null===t)throw new ci(ci.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function r(){e=e.replace(/^\s+/,"")}if(r(),t.startTime=n(),r(),"--\x3e"!==e.substr(0,3))throw new ci(ci.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),r(),t.endTime=n(),r(),function(t,e){var s=new di;hi(t,function(t,e){switch(t){case"region":for(var i=o.length-1;0<=i;i--)if(o[i].id===e){s.set(t,o[i].region);break}break;case"vertical":s.alt(t,e,["rl","lr"]);break;case"line":var n=e.split(","),r=n[0];s.integer(t,r),s.percent(t,r)&&s.set("snapToLines",!1),s.alt(t,r,["auto"]),2===n.length&&s.alt("lineAlign",n[1],["start","center","end"]);break;case"position":n=e.split(","),s.percent(t,n[0]),2===n.length&&s.alt("positionAlign",n[1],["start","center","end"]);break;case"size":s.percent(t,e);break;case"align":s.alt(t,e,["start","center","end","left","right"])}},/:/,/\s/),e.region=s.get("region",null),e.vertical=s.get("vertical","");try{e.line=s.get("line","auto")}catch(t){}e.lineAlign=s.get("lineAlign","start"),e.snapToLines=s.get("snapToLines",!0),e.size=s.get("size",100);try{e.align=s.get("align","center")}catch(t){e.align=s.get("align","middle")}try{e.position=s.get("position","auto")}catch(t){e.position=s.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=s.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(e,t)}((ci.prototype=ai(Error.prototype)).constructor=ci).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},di.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};var fi=N.createElement&&N.createElement("textarea"),mi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},gi={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},yi={v:"title",lang:"lang"},vi={rt:"ruby"};function bi(t,e){for(var i,n,r,s,o,a,l,c,u,d,h=t.document.createElement("div"),p=h,f=[];null!==(i=function(){if(!e)return null;var t=e.match(/^([^<]*)(<[^>]*>?)?/);return t=t[1]||t[2],e=e.substr(t.length),t}());)"<"!==i[0]?p.appendChild(t.document.createTextNode((o=i,fi.innerHTML=o,o=fi.textContent,fi.textContent="",o))):"/"!==i[1]?(s=ui(i.substr(1,i.length-2)))?(n=t.document.createProcessingInstruction("timestamp",s),p.appendChild(n)):(r=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(c=r[1],u=r[3],d=void 0,d=mi[c],(n=d?(d=t.document.createElement(d),(c=yi[c])&&u&&(d[c]=u.trim()),d):null)&&(a=p,vi[(l=n).localName]&&vi[l.localName]!==a.localName||(r[2]&&((s=r[2].split(".")).forEach(function(t){var e=/^bg_/.test(t),t=e?t.slice(3):t;gi.hasOwnProperty(t)&&(t=gi[t],n.style[e?"background-color":"color"]=t)}),n.className=s.join(" ")),f.push(r[1]),p.appendChild(n),p=n))):f.length&&f[f.length-1]===i.substr(2).replace(">","")&&(f.pop(),p=p.parentNode);return h}var _i=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Ti(t){var e=[],i="";if(!t||!t.childNodes)return"ltr";function s(t,e){for(var i=e.childNodes.length-1;0<=i;i--)t.push(e.childNodes[i])}for(s(e,t);i=function t(e){if(!e||!e.length)return null;var i=e.pop(),n=i.textContent||i.innerText;if(n){var r=n.match(/^.*(\n|\r)/);return r?r[e.length=0]:n}return"ruby"===i.tagName?t(e):i.childNodes?(s(e,i),t(e)):void 0}(e);)for(var n=0;n<i.length;n++)if(function(t){for(var e=0;e<_i.length;e++){var i=_i[e];if(t>=i[0]&&t<=i[1])return 1}}(i.charCodeAt(n)))return"rtl";return"ltr"}function wi(){}function Si(t,e,i){wi.call(this),this.cue=e,this.cueDiv=bi(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:Ti(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function xi(t){var e,i,n,r;t.div&&(e=t.div.offsetHeight,i=t.div.offsetWidth,n=t.div.offsetTop,r=(r=t.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects(),t=t.div.getBoundingClientRect(),r=r?Math.max(r[0]&&r[0].height||0,t.height/r.length):0),this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||e,this.bottom=t.bottom||n+(t.height||e),this.width=t.width||i,this.lineHeight=void 0!==r?r:t.lineHeight}function Ci(t,e,a,l){var i,n=new xi(e),r=e.cue,s=function(t){if("number"==typeof t.line&&(t.snapToLines||0<=t.line&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}(r),o=[];if(r.snapToLines){switch(r.vertical){case"":o=["+y","-y"],i="height";break;case"rl":o=["+x","-x"],i="width";break;case"lr":o=["-x","+x"],i="width"}var c=n.lineHeight,u=c*Math.round(s),d=a[i]+c,h=o[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),s<0&&(u+=""===r.vertical?a.height:a.width,o=o.reverse()),n.move(h,u)}else{var p=n.lineHeight/a.height*100;switch(r.lineAlign){case"center":s-=p/2;break;case"end":s-=p}switch(r.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")})}o=["+y","-x","+x","-y"],n=new xi(e)}n=function(t,e){for(var i,n=new xi(t),r=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(a,e[s])||t.within(a)&&t.overlapsAny(l);)t.move(e[s]);if(t.within(a))return t;var o=t.intersectPercentage(a);o<r&&(i=new xi(t),r=o),t=new xi(n)}return i||n}(n,o);e.move(n.toCSSCompatValues(a))}function ki(){}wi.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},wi.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(Si.prototype=ai(wi.prototype)).constructor=Si,xi.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},xi.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},xi.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},xi.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},xi.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},xi.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},xi.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},xi.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i}},ki.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},ki.convertCueToDOMTree=function(t,e){return t&&e?bi(t,e):null};ki.processCues=function(n,r,t){if(!n||!r||!t)return null;for(;t.firstChild;)t.removeChild(t.firstChild);var s=n.document.createElement("div");if(s.style.position="absolute",s.style.left="0",s.style.right="0",s.style.top="0",s.style.bottom="0",s.style.margin="1.5%",t.appendChild(s),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return 1}(r)){var o=[],a=xi.getSimpleBoxPosition(s),l={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var t,e,i=0;i<r.length;i++)e=r[i],t=new Si(n,e,l),s.appendChild(t.div),Ci(0,t,a,o),e.displayState=t.div,o.push(xi.getSimpleBoxPosition(t))}()}else for(var e=0;e<r.length;e++)s.appendChild(r[e].displayState)},(ki.Parser=function(t,e,i){i||(i=e,e={}),e=e||{},this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof ci))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var n=this;function e(){for(var t=n.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var i=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,n.buffer=t.substr(e),i}function i(t){t.match(/X-TIMESTAMP-MAP/)?hi(t,function(t,e){var i;"X-TIMESTAMP-MAP"===t&&(e=e,i=new di,hi(e,function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",ui(e))}},/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")}))},/=/):hi(t,function(t,e){var r;"Region"===t&&(e=e,r=new di,hi(e,function(t,e){switch(t){case"id":r.set(t,e);break;case"width":r.percent(t,e);break;case"lines":r.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var n=new di;if(n.percent("x",i[0]),n.percent("y",i[1]),!n.has("x")||!n.has("y"))break;r.set(t+"X",n.get("x")),r.set(t+"Y",n.get("y"));break;case"scroll":r.alt(t,e,["up"])}},/=/,/\s/),r.has("id")&&((e=new(n.vttjs.VTTRegion||n.window.VTTRegion)).width=r.get("width",100),e.lines=r.get("lines",3),e.regionAnchorX=r.get("regionanchorX",0),e.regionAnchorY=r.get("regionanchorY",100),e.viewportAnchorX=r.get("viewportanchorX",0),e.viewportAnchorY=r.get("viewportanchorY",100),e.scroll=r.get("scroll",""),n.onregion&&n.onregion(e),n.regionList.push({id:r.get("id"),region:e})))},/:/)}t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));try{if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var r,s=(r=e()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new ci(ci.Errors.BadSignature);n.state="HEADER"}for(var o=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:r=e(),n.state){case"HEADER":/:/.test(r)?i(r):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(t){n.cue.align="middle"}if(n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{pi(r,n.cue,n.regionList)}catch(t){n.reportOrThrowError(t),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var a=-1!==r.indexOf("--\x3e");if(!r||a&&(o=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(n.state="ID");continue}}}catch(t){n.reportOrThrowError(t),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),!e.cue&&"HEADER"!==e.state||(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new ci(ci.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var Ei=ki,Ai={"":1,lr:1,rl:1},Ii={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Pi(t){return"string"==typeof t&&(!!Ii[t.toLowerCase()]&&t.toLowerCase())}function Di(t,e,i){this.hasBeenReset=!1;var n="",r=!1,s=t,o=e,a=i,l=null,c="",u=!0,d="auto",h="start",p="auto",f="auto",m=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(t){n=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");s=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");o=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(t){a=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(t){l=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(t){t="string"==typeof(t=t)&&(!!Ai[t.toLowerCase()]&&t.toLowerCase());if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(t){u=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(t){t=Pi(t);t?(h=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");p=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(t){t=Pi(t);t?(f=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");m=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(t){t=Pi(t);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}Di.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Oi=Di,Li={"":!0,up:!0};function Mi(t){return"number"==typeof t&&0<=t&&t<=100}function Ni(){var e=100,i=3,n=0,r=100,s=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!Mi(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return i},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");i=t}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!Mi(t))throw new Error("RegionAnchorX must be between 0 and 100.");r=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!Mi(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Mi(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(t){if(!Mi(t))throw new Error("ViewportAnchorX must be between 0 and 100.");s=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){t="string"==typeof(t=t)&&(!!Li[t.toLowerCase()]&&t.toLowerCase());!1===t?console.warn("Scroll: an invalid or illegal string was specified."):a=t}}})}var Ri=p(function(t){t=t.exports={WebVTT:Ei,VTTCue:Oi,VTTRegion:Ni};ze.vttjs=t,ze.WebVTT=t.WebVTT;var e=t.VTTCue,i=t.VTTRegion,n=ze.VTTCue,r=ze.VTTRegion;t.shim=function(){ze.VTTCue=e,ze.VTTRegion=i},t.restore=function(){ze.VTTCue=n,ze.VTTRegion=r},ze.VTTCue||t.shim()});Ri.WebVTT,Ri.VTTCue,Ri.VTTRegion;var Fi=function(n){function i(e,t){var i;return void 0===t&&(t=function(){}),(e=void 0===e?{}:e).reportTouchActivity=!1,(i=n.call(this,null,e,t)||this).onDurationChange_=function(t){return i.onDurationChange(t)},i.trackProgress_=function(t){return i.trackProgress(t)},i.trackCurrentTime_=function(t){return i.trackCurrentTime(t)},i.stopTrackingCurrentTime_=function(t){return i.stopTrackingCurrentTime(t)},i.disposeSourceHandler_=function(t){return i.disposeSourceHandler(t)},i.queuedHanders_=new Set,i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),si.names.forEach(function(t){t=si[t];e&&e[t.getterName]&&(i[t.privateName]=e[t.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==e.preloadTextTracks,i.autoRemoteTextTracks_=new si.text.ListClass,i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}fe(i,n);var t=i.prototype;return t.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},t.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},t.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},t.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(zt(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),1===(this.bufferedPercent_=t)&&this.stopTrackingProgress()}),500)},t.onDurationChange=function(t){this.duration_=this.duration()},t.buffered=function(){return ye(0,0)},t.bufferedPercent=function(){return ve(this.buffered(),this.duration_)},t.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},t.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},t.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.dispose=function(){this.clearTracks(ni.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},t.clearTracks=function(t){var r=this;(t=[].concat(t)).forEach(function(t){for(var e=r[t+"Tracks"]()||[],i=e.length;i--;){var n=e[i];"text"===t&&r.removeRemoteTextTrack(n),e.removeTrack(n)}})},t.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var i=t[e];this.removeRemoteTextTrack(i)}},t.reset=function(){},t.crossOrigin=function(){},t.setCrossOrigin=function(){},t.error=function(t){return void 0!==t&&(this.error_=new be(t),this.trigger("error")),this.error_},t.played=function(){return this.hasStarted_?ye(0,0):ye()},t.play=function(){},t.setScrubbing=function(){},t.scrubbing=function(){},t.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.initTrackListeners=function(){var r=this;ni.names.forEach(function(t){function e(){r.trigger(t+"trackchange")}var i=ni[t],n=r[i.getterName]();n.addEventListener("removetrack",e),n.addEventListener("addtrack",e),r.on("dispose",function(){n.removeEventListener("removetrack",e),n.removeEventListener("addtrack",e)})})},t.addWebVttScript_=function(){var t,e=this;window.WebVTT||(document.body.contains(this.el())?!this.options_["vtt.js"]&&_(Ri)&&0<Object.keys(Ri).length?this.trigger("vttjsloaded"):((t=document.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),window.WebVTT=!0,this.el().parentNode.appendChild(t)):this.ready(this.addWebVttScript_))},t.emulateTextTracks=function(){function e(t){return n.addTrack(t.track)}function i(t){return n.removeTrack(t.track)}var t=this,n=this.textTracks(),r=this.remoteTextTracks();r.on("addtrack",e),r.on("removetrack",i),this.addWebVttScript_();function s(){o();for(var t=0;t<n.length;t++){var e=n[t];e.removeEventListener("cuechange",o),"showing"===e.mode&&e.addEventListener("cuechange",o)}}var o=function(){return t.trigger("texttrackchange")};s(),n.addEventListener("change",s),n.addEventListener("addtrack",s),n.addEventListener("removetrack",s),this.on("dispose",function(){r.off("addtrack",e),r.off("removetrack",i),n.removeEventListener("change",s),n.removeEventListener("addtrack",s),n.removeEventListener("removetrack",s);for(var t=0;t<n.length;t++)n[t].removeEventListener("cuechange",o)})},t.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,i,n,r){void 0===r&&(r={});var s=t.textTracks();return r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t,r=new si.text.TrackClass(r),s.addTrack(r),r}(this,t,e,i)},t.createRemoteTextTrack=function(t){t=oe(t,{tech:this});return new ri.remoteTextEl.TrackClass(t)},t.addRemoteTextTrack=function(t,e){var i=this,n=this.createRemoteTextTrack(t=void 0===t?{}:t);return!0!==e&&!1!==e&&(d.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==e&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(n.track)}),n},t.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},t.getVideoPlaybackQuality=function(){return{}},t.requestPictureInPicture=function(){var t=this.options_.Promise||window.Promise;if(t)return t.reject()},t.disablePictureInPicture=function(){return!0},t.setDisablePictureInPicture=function(){},t.requestVideoFrameCallback=function(t){var e=this,i=At++;return this.paused()?(this.queuedHanders_.add(i),this.one("playing",function(){e.queuedHanders_.has(i)&&(e.queuedHanders_.delete(i),t())})):this.requestNamedAnimationFrame(i,t),i},t.cancelVideoFrameCallback=function(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)},t.setPoster=function(){},t.playsinline=function(){},t.setPlaysinline=function(){},t.overrideNativeAudioTracks=function(){},t.overrideNativeVideoTracks=function(){},t.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(t,e){return i.canPlayType(t.type)},i.isTech=function(t){return t.prototype instanceof i||t instanceof i||t===i},i.registerTech=function(t,e){if(i.techs_||(i.techs_={}),!i.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=se(t),i.techs_[t]=e,i.techs_[re(t)]=e,"Tech"!==t&&i.defaultTechOrder_.push(t),e},i.getTech=function(t){if(t)return i.techs_&&i.techs_[t]?i.techs_[t]:(t=se(t),window&&window.videojs&&window.videojs[t]?(d.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),window.videojs[t]):void 0)},i}(he);si.names.forEach(function(t){var e=si[t];Fi.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),Fi.prototype.featuresVolumeControl=!0,Fi.prototype.featuresMuteControl=!0,Fi.prototype.featuresFullscreenResize=!1,Fi.prototype.featuresPlaybackRate=!1,Fi.prototype.featuresProgressEvents=!1,Fi.prototype.featuresSourceset=!1,Fi.prototype.featuresTimeupdateEvents=!1,Fi.prototype.featuresNativeTextTracks=!1,Fi.prototype.featuresVideoFrameCallback=!1,Fi.withSourceHandlers=function(r){r.registerSourceHandler=function(t,e){var i=(i=r.sourceHandlers)||(r.sourceHandlers=[]);void 0===e&&(e=i.length),i.splice(e,0,t)},r.canPlayType=function(t){for(var e,i=r.sourceHandlers||[],n=0;n<i.length;n++)if(e=i[n].canPlayType(t))return e;return""},r.selectSourceHandler=function(t,e){for(var i=r.sourceHandlers||[],n=0;n<i.length;n++)if(i[n].canHandleSource(t,e))return i[n];return null},r.canPlaySource=function(t,e){var i=r.selectSourceHandler(t,e);return i?i.canHandleSource(t,e):""};["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(t){var e=r.selectSourceHandler(t,this.options_);e||(r.nativeSourceHandler?e=r.nativeSourceHandler:d.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),e!==r.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=e.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},he.registerComponent("Tech",Fi),Fi.registerTech("Tech",Fi),Fi.defaultTechOrder_=[];var ji={},Ui={},Bi={};function $i(t,e,i){t.setTimeout(function(){return function i(n,t,r,s,o,a){void 0===n&&(n={});void 0===t&&(t=[]);void 0===o&&(o=[]);void 0===a&&(a=!1);var e=t,t=e[0],l=e.slice(1);if("string"==typeof t)i(n,ji[t],r,s,o,a);else if(t){var c=Gi(s,t);if(!c.setSource)return o.push(c),i(n,l,r,s,o,a);c.setSource(v({},n),function(t,e){return t?i(n,l,r,s,o,a):(o.push(c),void i(e,n.type===e.type?l:ji[e.type],r,s,o,a))})}else l.length?i(n,l,r,s,o,a):a?r(n,o):i(n,ji["*"],r,s,o,!0)}(e,ji[e.type],i,t)},1)}function Hi(t,e,i,n){void 0===n&&(n=null);var r="call"+se(i),r=t.reduce(Vi(r),n),n=r===Bi,r=n?null:e[i](r);return function(t,e,i,n){for(var r=t.length-1;0<=r;r--){var s=t[r];s[e]&&s[e](n,i)}}(t,i,r,n),r}var qi={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Wi={setCurrentTime:1,setMuted:1,setVolume:1},zi={play:1,pause:1};function Vi(i){return function(t,e){return t===Bi?Bi:e[i]?e[i](t):t}}function Gi(t,e){var i=Ui[t.id()],n=null;if(null==i)return n=e(t),Ui[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var s=i[r],o=s[0],s=s[1];o===e&&(n=s)}return null===n&&(n=e(t),i.push([e,n])),n}function Xi(t){var e;return t=Array.isArray(t)?(e=[],t.forEach(function(t){t=Xi(t),Array.isArray(t)?e=e.concat(t):b(t)&&e.push(t)}),e):"string"==typeof t&&t.trim()?[Qi({src:t})]:b(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Qi(t)]:[]}var Yi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Ki=function(t){t=qe(t=void 0===t?"":t);return Yi[t.toLowerCase()]||""};function Qi(t){var e;return t.type||(e=Ki(t.src))&&(t.type=e),t}j=function(l){function t(t,e,i){var n=oe({createEl:!1},e),i=l.call(this,t,n,i)||this;if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)t.src(e.playerOptions.sources);else for(var r=0,s=e.playerOptions.techOrder;r<s.length;r++){var o=se(s[r]),a=Fi.getTech(o);if((a=!o?he.getComponent(o):a)&&a.isSupported()){t.loadTech_(o);break}}return i}return fe(t,l),t}(he);he.registerComponent("MediaLoader",j);He=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.options_.controlText&&i.controlText(i.options_.controlText),i.handleMouseOver_=function(t){return i.handleMouseOver(t)},i.handleMouseOut_=function(t){return i.handleMouseOut(t)},i.handleClick_=function(t){return i.handleClick(t)},i.handleKeyDown_=function(t){return i.handleKeyDown(t)},i.emitTapEvents(),i.enable(),i}fe(t,n);var e=t.prototype;return e.createEl=function(t,e,i){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===i&&(i={}),e=v({className:this.buildCSSClass(),tabIndex:0},e),"button"===t&&d.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=v({role:"button"},i),this.tabIndex_=e.tabIndex;i=Y(t,e,i);return i.appendChild(Y("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},e.dispose=function(){this.controlTextEl_=null,n.prototype.dispose.call(this)},e.createControlTextEl=function(t){return this.controlTextEl_=Y("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);this.controlText_=t,K(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||e.setAttribute("title",i)},e.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},e.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},e.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},e.handleLanguagechange=function(){this.controlText(this.controlText_)},e.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},e.handleKeyDown=function(t){de.isEventKey(t,"Space")||de.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},t}(he);he.registerComponent("ClickableComponent",He);S=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.update(),i.update_=function(t){return i.update(t)},t.on("posterchange",i.update_),i}fe(t,n);var e=t.prototype;return e.dispose=function(){this.player().off("posterchange",this.update_),n.prototype.dispose.call(this)},e.createEl=function(){return Y("div",{className:"vjs-poster",tabIndex:-1})},e.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.setSrc=function(t){t=t?'url("'+t+'")':"";this.el_.style.backgroundImage=t},e.handleClick=function(t){var e;this.player_.controls()&&(e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,!this.player_.tech(!0)||(M||D)&&e||this.player_.tech(!0).focus(),this.player_.paused()?Se(this.player_.play()):this.player_.pause())},t}(He);he.registerComponent("PosterImage",S);var Zi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ji(t,e){var i;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function tn(t,e,i){try{t.style[e]=i}catch(t){return}}Ne=function(s){function t(i,t,e){function n(t){return r.updateDisplay(t)}var r=s.call(this,i,t,e)||this;return i.on("loadstart",function(t){return r.toggleDisplay(t)}),i.on("texttrackchange",n),i.on("loadedmetadata",function(t){return r.preselectTrack(t)}),i.ready(zt(pe(r),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",n),i.on("playerresize",n),window.addEventListener("orientationchange",n),i.on("dispose",function(){return window.removeEventListener("orientationchange",n)});for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}})),r}fe(t,s);var e=t.prototype;return e.preselectTrack=function(){for(var t,e,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o=0;o<r.length;o++){var a=r[o];s&&s.enabled&&s.language&&s.language===a.language&&a.kind in n?i=a.kind!==s.kind&&i||a:s&&!s.enabled?e=t=i=null:a.default&&("descriptions"!==a.kind||t?a.kind in n&&!e&&(e=a):t=a)}i?i.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},e.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},e.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)},e.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var i=[],n=0;n<t.length;++n){var r=t[n];"showing"===r.mode&&i.push(r)}this.updateForTrack(i)}else{for(var s=null,o=null,a=t.length;a--;){var l=t[a];"showing"===l.mode&&("descriptions"===l.kind?s=l:o=l)}o?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(o)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},e.updateDisplayState=function(t){for(var e=this.player_.textTrackSettings.getValues(),i=t.activeCues,n=i.length;n--;){var r,s=i[n];s&&(r=s.displayState,e.color&&(r.firstChild.style.color=e.color),e.textOpacity&&tn(r.firstChild,"color",Ji(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(r.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&tn(r.firstChild,"backgroundColor",Ji(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?tn(r,"backgroundColor",Ji(e.windowColor,e.windowOpacity)):r.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===e.edgeStyle?r.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===e.edgeStyle?r.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===e.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),e.fontPercent&&1!==e.fontPercent&&(s=window.parseFloat(r.style.fontSize),r.style.fontSize=s*e.fontPercent+"px",r.style.height="auto",r.style.top="auto"),e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=Zi[e.fontFamily]))}},e.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"==typeof window.WebVTT&&!t.every(function(t){return!t.activeCues})){for(var e=[],i=0;i<t.length;++i)for(var n=t[i],r=0;r<n.activeCues.length;++r)e.push(n.activeCues[r]);window.WebVTT.processCues(window,e,this.el_);for(var s=0;s<t.length;++s){for(var o=t[s],a=0;a<o.activeCues.length;++a){var l=o.activeCues[a].displayState;J(l,"vjs-text-track-cue"),J(l,"vjs-text-track-cue-"+(o.language||s)),o.language&&st(l,"lang",o.language)}this.player_.textTrackSettings&&this.updateDisplayState(o)}}},t}(he);he.registerComponent("TextTrackDisplay",Ne),he.registerComponent("LoadingSpinner",function(i){function t(){return i.apply(this,arguments)||this}return fe(t,i),t.prototype.createEl=function(){var t=this.player_.isAudio(),e=this.localize(t?"Audio Player":"Video Player"),t=Y("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[e])}),e=i.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return e.appendChild(t),e},t}(he));var en=function(e){function t(){return e.apply(this,arguments)||this}fe(t,e);var i=t.prototype;return i.createEl=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i={});i=Y("button",e=v({className:this.buildCSSClass()},e),i=v({type:"button"},i));return i.appendChild(Y("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i},i.addChild=function(t,e){void 0===e&&(e={});var i=this.constructor.name;return d.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),he.prototype.addChild.call(this,t,e)},i.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(t){de.isEventKey(t,"Space")||de.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(He);he.registerComponent("Button",en);x=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.mouseused_=!1,i.on("mousedown",function(t){return i.handleMouseDown(t)}),i}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-big-play-button"},e.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length;return Se(e),void(!this.player_.tech(!0)||(M||D)&&i||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");n?(i=function(){return n.focus()},we(e)?e.then(i,function(){}):this.setTimeout(i,1)):this.player_.tech(!0).focus()},e.handleKeyDown=function(t){this.mouseused_=!1,n.prototype.handleKeyDown.call(this,t)},e.handleMouseDown=function(t){this.mouseused_=!0},t}(en);x.prototype.controlText_="Play Video",he.registerComponent("BigPlayButton",x);Re=function(i){function t(t,e){t=i.call(this,t,e)||this;return t.controlText(e&&e.controlText||t.localize("Close")),t}fe(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-close-button "+i.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e.handleKeyDown=function(t){de.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):i.prototype.handleKeyDown.call(this,t)},t}(en);he.registerComponent("CloseButton",Re);ce=function(n){function t(t,e){var i=n.call(this,t,e=void 0===e?{}:e)||this;return e.replay=void 0===e.replay||e.replay,i.on(t,"play",function(t){return i.handlePlay(t)}),i.on(t,"pause",function(t){return i.handlePause(t)}),e.replay&&i.on(t,"ended",function(t){return i.handleEnded(t)}),i}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.player_.paused()?Se(this.player_.play()):this.player_.pause()},e.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.handleEnded=function(t){var e=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(t){return e.handleSeeked(t)})},t}(en);ce.prototype.controlText_="Play",he.registerComponent("PlayToggle",ce);function nn(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),e=Math.floor(e/3600);return(r=0<(r=isNaN(t)||t===1/0?n=i="-":r)||0<e?r+":":"")+(n=((r||10<=s)&&n<10?"0"+n:n)+":")+(i=i<10?"0"+i:i)}var rn=nn;function sn(t,e){return rn(t,e=void 0===e?t:e)}u=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.on(t,["timeupdate","ended"],function(t){return i.updateContent(t)}),i.updateTextNode_(),i}fe(t,n);var e=t.prototype;return e.createEl=function(){var t=this.buildCSSClass(),e=n.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),i=Y("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"Â "},{role:"presentation"});return e.appendChild(i),this.contentEl_=Y("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),e.appendChild(this.contentEl_),e},e.dispose=function(){this.contentEl_=null,this.textNode_=null,n.prototype.dispose.call(this)},e.updateTextNode_=function(t){var e=this;t=sn(t=void 0===t?0:t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){var t;e.contentEl_&&((t=e.textNode_)&&e.contentEl_.firstChild!==t&&(t=null,d.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),e.textNode_=document.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_)))}))},e.updateContent=function(t){},t}(he);u.prototype.labelText_="Time",u.prototype.controlText_="Time",he.registerComponent("TimeDisplay",u);k=function(t){function e(){return t.apply(this,arguments)||this}fe(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(t){var e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateTextNode_(e)},e}(u);k.prototype.labelText_="Current Time",k.prototype.controlText_="Current Time",he.registerComponent("CurrentTimeDisplay",k);oi=function(n){function t(t,e){var i=n.call(this,t,e)||this,e=function(t){return i.updateContent(t)};return i.on(t,"durationchange",e),i.on(t,"loadstart",e),i.on(t,"loadedmetadata",e),i}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-duration"},e.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},t}(u);oi.prototype.labelText_="Duration",oi.prototype.controlText_="Duration",he.registerComponent("DurationDisplay",oi),he.registerComponent("TimeDivider",function(n){function t(){return n.apply(this,arguments)||this}return fe(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),e=n.prototype.createEl.call(this,"div"),i=n.prototype.createEl.call(this,"span",{textContent:"/"});return e.appendChild(i),t.appendChild(e),t},t}(he));N=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.on(t,"durationchange",function(t){return i.updateContent(t)}),i}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-remaining-time"},e.createEl=function(){var t=n.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(Y("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},e.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},t}(u);N.prototype.labelText_="Remaining Time",N.prototype.controlText_="Remaining Time",he.registerComponent("RemainingTimeDisplay",N);j=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.updateShowing(),i.on(i.player(),"durationchange",function(t){return i.updateShowing(t)}),i}fe(t,n);var e=t.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Y("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Y("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"Â "})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},e.dispose=function(){this.contentEl_=null,n.prototype.dispose.call(this)},e.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},t}(he);he.registerComponent("LiveDisplay",j);S=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(t){return i.updateLiveEdgeStatus(t)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}fe(t,n);var e=t.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Y("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},e.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},e.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},e.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,n.prototype.dispose.call(this)},t}(en);S.prototype.controlText_="Seek to live, currently playing live",he.registerComponent("SeekToLive",S);function on(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))}Ne=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.handleMouseDown_=function(t){return i.handleMouseDown(t)},i.handleMouseUp_=function(t){return i.handleMouseUp(t)},i.handleKeyDown_=function(t){return i.handleKeyDown(t)},i.handleClick_=function(t){return i.handleClick(t)},i.handleMouseMove_=function(t){return i.handleMouseMove(t)},i.update_=function(t){return i.update(t)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}fe(t,n);var e=t.prototype;return e.enabled=function(){return this.enabled_},e.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.disable=function(){var t;this.enabled()&&(t=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},e.createEl=function(t,e,i){return void 0===i&&(i={}),(e=void 0===e?{}:e).className=e.className+" vjs-slider",e=v({tabIndex:0},e),i=v({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),n.prototype.createEl.call(this,t,e,i)},e.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||O||t.preventDefault(),at(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove_),this.on(e,"mouseup",this.handleMouseUp_),this.on(e,"touchmove",this.handleMouseMove_),this.on(e,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},e.handleMouseMove=function(t){},e.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;lt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},e.update=function(){var e=this;if(this.el_&&this.bar){var i=this.getProgress();return i===this.progress_?i:(this.progress_=i,this.requestNamedAnimationFrame("Slider#update",function(){var t=e.vertical()?"height":"width";e.bar.el().style[t]=(100*i).toFixed(2)+"%"}),i)}},e.getProgress=function(){return Number(on(this.getPercent(),0,1).toFixed(4))},e.calculateDistance=function(t){t=dt(this.el_,t);return this.vertical()?t.y:t.x},e.handleKeyDown=function(t){de.isEventKey(t,"Left")||de.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):de.isEventKey(t,"Right")||de.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,t)},e.handleClick=function(t){t.stopPropagation(),t.preventDefault()},e.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(he);he.registerComponent("Slider",Ne);function an(t,e){return on(t/e*100,0,100).toFixed(2)+"%"}x=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.partEls_=[],i.on(t,"progress",function(t){return i.update(t)}),i}fe(t,r);var e=t.prototype;return e.createEl=function(){var t=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),e=Y("span",{className:"vjs-control-text"}),i=Y("span",{textContent:this.localize("Loaded")}),n=document.createTextNode(": ");return this.percentageEl_=Y("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(e),e.appendChild(i),e.appendChild(n),e.appendChild(this.percentageEl_),t},e.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},e.update=function(t){var c=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var t=c.player_.liveTracker,e=c.player_.buffered(),t=t&&t.isLive()?t.seekableEnd():c.player_.duration(),i=c.player_.bufferedEnd(),n=c.partEls_,t=an(i,t);c.percent_!==t&&(c.el_.style.width=t,K(c.percentageEl_,t),c.percent_=t);for(var r=0;r<e.length;r++){var s=e.start(r),o=e.end(r),a=n[r];a||(a=c.el_.appendChild(Y()),n[r]=a),a.dataset.start===s&&a.dataset.end===o||(a.dataset.start=s,a.dataset.end=o,a.style.left=an(s,i),a.style.width=an(o-s,i))}for(var l=n.length;l>e.length;l--)c.el_.removeChild(n[l-1]);n.length=e.length})},t}(he);he.registerComponent("LoadProgressBar",x);Re=function(i){function t(t,e){e=i.call(this,t,e)||this;return e.update=Bt(zt(pe(e),e.update),30),e}fe(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},e.update=function(t,e,i){var n=ut(this.el_),r=ct(this.player_.el()),s=t.width*e;r&&n&&(e=t.left-r.left+s,r=t.width-s+(r.right-t.right),e<(t=n.width/2)?t+=t-e:r<t&&(t=r),t<0?t=0:t>n.width&&(t=n.width),t=Math.round(t),this.el_.style.right="-"+t+"px",this.write(i))},e.write=function(t){K(this.el_,t)},e.updateTime=function(n,r,s,o){var a=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var t,e,i=a.player_.duration();i=a.player_.liveTracker&&a.player_.liveTracker.isLive()?((e=(t=a.player_.liveTracker.liveWindow())-r*t)<1?"":"-")+sn(e,t):sn(s,i),a.update(n,r,i),o&&o()})},t}(he);he.registerComponent("TimeTooltip",Re);ce=function(i){function t(t,e){e=i.call(this,t,e)||this;return e.update=Bt(zt(pe(e),e.update),30),e}fe(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},e.update=function(t,e){var i,n=this.getChild("timeTooltip");n&&(i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n.updateTime(t,e,i))},t}(he);ce.prototype.options_={children:[]},B||E||ce.prototype.options_.children.push("timeTooltip"),he.registerComponent("PlayProgressBar",ce);k=function(i){function t(t,e){e=i.call(this,t,e)||this;return e.update=Bt(zt(pe(e),e.update),30),e}fe(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(t,e){var i=this,n=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,n,function(){i.el_.style.left=t.width*e+"px"})},t}(he);k.prototype.options_={children:["timeTooltip"]},he.registerComponent("MouseTimeDisplay",k);oi=function(s){function t(t,e){e=s.call(this,t,e)||this;return e.setEventHandlers_(),e}fe(t,s);var e=t.prototype;return e.setEventHandlers_=function(){var e=this;this.update_=zt(this,this.update),this.update=Bt(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)},e.toggleVisibility_=function(t){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},e.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},e.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.update=function(t){var n=this;if("hidden"!==document.visibilityState){var r=s.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var t=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),e=n.player_.liveTracker,i=n.player_.duration();e&&e.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===t&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[sn(t,i),sn(i,i)],"{1} of {2}")),n.currentTime_=t,n.duration_=i),n.bar&&n.bar.update(ct(n.el()),n.getProgress())}),r}},e.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},e.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.getPercent=function(){var t,e=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},e.handleMouseDown=function(t){yt(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),s.prototype.handleMouseDown.call(this,t))},e.handleMouseMove=function(t,e){if(void 0===e&&(e=!1),yt(t)){e||this.player_.scrubbing()||this.player_.scrubbing(!0);var i=this.calculateDistance(t),n=this.player_.liveTracker;if(n&&n.isLive()){if(.99<=i)return void n.seekToLiveEdge();var r,e=n.seekableStart(),t=n.liveCurrentTime();if((r=(r=t<=(r=e+i*n.liveWindow())?t:r)<=e?e+.1:r)===1/0)return}else(r=i*this.player_.duration())===this.player_.duration()&&(r-=.1);this.userSeek_(r)}},e.enable=function(){s.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},e.disable=function(){s.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},e.handleMouseUp=function(t){s.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Se(this.player_.play()):this.update_()},e.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},e.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},e.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleKeyDown=function(t){var e,i=this.player_.liveTracker;de.isEventKey(t,"Space")||de.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.handleAction(t)):de.isEventKey(t,"Home")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(0)):de.isEventKey(t,"End")?(t.preventDefault(),t.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration())):/^[0-9]$/.test(de(t))?(t.preventDefault(),t.stopPropagation(),e=10*(de.codes[de(t)]-de.codes[0])/100,i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*e):this.userSeek_(this.player_.duration()*e)):de.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):de.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):s.prototype.handleKeyDown.call(this,t)},e.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),s.prototype.dispose.call(this)},t}(Ne);oi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},B||E||oi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),he.registerComponent("SeekBar",oi);u=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.handleMouseMove=Bt(zt(pe(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=Bt(zt(pe(i),i.handleMouseSeek),30),i.handleMouseUpHandler_=function(t){return i.handleMouseUp(t)},i.handleMouseDownHandler_=function(t){return i.handleMouseDown(t)},i.enable(),i}fe(t,n);var e=t.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.handleMouseMove=function(t){var e,i,n,r,s=this.getChild("seekBar");s&&(e=s.getChild("playProgressBar"),i=s.getChild("mouseTimeDisplay"),(e||i)&&(r=ut(n=s.el()),t=dt(n,t).x,t=on(t,0,1),i&&i.update(r,t),e&&e.update(r,s.getProgress())))},e.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},e.enabled=function(){return this.enabled_},e.disable=function(){var t;this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing()&&(t=this.getChild("seekBar"),this.player_.scrubbing(!1),t.videoWasPlaying&&Se(this.player_.play())))},e.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},e.handleMouseDown=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUpHandler_),this.on(e,"touchend",this.handleMouseUpHandler_)},e.handleMouseUp=function(t){var e=this.getChild("seekBar");e&&e.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},t}(he);u.prototype.options_={children:["seekBar"]},he.registerComponent("ProgressControl",u);N=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.on(t,["enterpictureinpicture","leavepictureinpicture"],function(t){return i.handlePictureInPictureChange(t)}),i.on(t,["disablepictureinpicturechanged","loadedmetadata"],function(t){return i.handlePictureInPictureEnabledChange(t)}),i.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),i.hide()):i.show()}),i.disable(),i}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},e.handlePictureInPictureEnabledChange=function(){document.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},e.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},e.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(en);N.prototype.controlText_="Picture-in-Picture",he.registerComponent("PictureInPictureToggle",N);j=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.on(t,"fullscreenchange",function(t){return i.handleFullscreenChange(t)}),!1===document[t.fsApi_.fullscreenEnabled]&&i.disable(),i}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},e.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(en);j.prototype.controlText_="Fullscreen",he.registerComponent("FullscreenToggle",j);he.registerComponent("VolumeLevel",function(e){function t(){return e.apply(this,arguments)||this}return fe(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(he));S=function(i){function t(t,e){e=i.call(this,t,e)||this;return e.update=Bt(zt(pe(e),e.update),30),e}fe(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},e.update=function(t,e,i,n){if(!i){var r=ct(this.el_),s=ct(this.player_.el()),i=t.width*e;if(!s||!r)return;e=t.left-s.left+i,s=t.width-i+(s.right-t.right),t=r.width/2;e<t?t+=t-e:s<t&&(t=s),t<0?t=0:t>r.width&&(t=r.width),this.el_.style.right="-"+t+"px"}this.write(n+"%")},e.write=function(t){K(this.el_,t)},e.updateVolume=function(t,e,i,n,r){var s=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){s.update(t,e,i,n.toFixed(0)),r&&r()})},t}(he);he.registerComponent("VolumeLevelTooltip",S);x=function(i){function t(t,e){e=i.call(this,t,e)||this;return e.update=Bt(zt(pe(e),e.update),30),e}fe(t,i);var e=t.prototype;return e.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(t,e,i){var n=this,r=100*e;this.getChild("volumeLevelTooltip").updateVolume(t,e,i,r,function(){i?n.el_.style.bottom=t.height*e+"px":n.el_.style.left=t.width*e+"px"})},t}(he);x.prototype.options_={children:["volumeLevelTooltip"]},he.registerComponent("MouseVolumeLevelDisplay",x);Re=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.on("slideractive",function(t){return i.updateLastVolume_(t)}),i.on(t,"volumechange",function(t){return i.updateARIAAttributes(t)}),t.ready(function(){return i.updateARIAAttributes()}),i}fe(t,n);var e=t.prototype;return e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.handleMouseDown=function(t){yt(t)&&n.prototype.handleMouseDown.call(this,t)},e.handleMouseMove=function(t){var e,i,n,r=this.getChild("mouseVolumeLevelDisplay");r&&(e=ct(n=this.el()),i=this.vertical(),n=dt(n,t),n=i?n.y:n.x,n=on(n,0,1),r.update(e,n,i)),yt(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},t}(Ne);Re.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},B||E||Re.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Re.prototype.playerEvent="volumechange",he.registerComponent("VolumeBar",Re);ce=function(s){function t(t,e){var i,n,r;return(e=void 0===e?{}:e).vertical=e.vertical||!1,void 0!==e.volumeBar&&!_(e.volumeBar)||(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical),i=s.call(this,t,e)||this,n=pe(i),(r=t).tech_&&!r.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")}),i.throttledHandleMouseMove=Bt(zt(pe(i),i.handleMouseMove),30),i.handleMouseUpHandler_=function(t){return i.handleMouseUp(t)},i.on("mousedown",function(t){return i.handleMouseDown(t)}),i.on("touchstart",function(t){return i.handleMouseDown(t)}),i.on("mousemove",function(t){return i.handleMouseMove(t)}),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}fe(t,s);var e=t.prototype;return e.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),s.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},e.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUpHandler_),this.on(e,"touchend",this.handleMouseUpHandler_)},e.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},e.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},t}(he);ce.prototype.options_={children:["volumeBar"]},he.registerComponent("VolumeControl",ce);k=function(s){function t(t,e){var i,n,r=s.call(this,t,e)||this;return i=pe(r),(n=t).tech_&&!n.tech_.featuresMuteControl&&i.addClass("vjs-hidden"),i.on(n,"loadstart",function(){n.tech_.featuresMuteControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")}),r.on(t,["loadstart","volumechange"],function(t){return r.update(t)}),r}fe(t,s);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-mute-control "+s.prototype.buildCSSClass.call(this)},e.handleClick=function(t){var e=this.player_.volume(),i=this.player_.lastVolume_();0===e?(this.player_.volume(i<.1?.1:i),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},e.update=function(t){this.updateIcon_(),this.updateControlText_()},e.updateIcon_=function(){var t=this.player_.volume(),e=3;B&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var i=0;i<4;i++)tt(this.el_,"vjs-vol-"+i);J(this.el_,"vjs-vol-"+e)},e.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},t}(en);k.prototype.controlText_="Mute",he.registerComponent("MuteToggle",k);oi=function(n){function t(t,e){var i;return void 0!==(e=void 0===e?{}:e).inline?e.inline=e.inline:e.inline=!0,void 0!==e.volumeControl&&!_(e.volumeControl)||(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),(i=n.call(this,t,e)||this).handleKeyPressHandler_=function(t){return i.handleKeyPress(t)},i.on(t,["loadstart"],function(t){return i.volumePanelState_(t)}),i.on(i.muteToggle,"keyup",function(t){return i.handleKeyPress(t)}),i.on(i.volumeControl,"keyup",function(t){return i.handleVolumeControlKeyUp(t)}),i.on("keydown",function(t){return i.handleKeyPress(t)}),i.on("mouseover",function(t){return i.handleMouseOver(t)}),i.on("mouseout",function(t){return i.handleMouseOut(t)}),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}fe(t,n);var e=t.prototype;return e.sliderActive_=function(){this.addClass("vjs-slider-active")},e.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},e.dispose=function(){this.handleMouseOut(),n.prototype.dispose.call(this)},e.handleVolumeControlKeyUp=function(t){de.isEventKey(t,"Esc")&&this.muteToggle.focus()},e.handleMouseOver=function(t){this.addClass("vjs-hover"),Nt(document,"keyup",this.handleKeyPressHandler_)},e.handleMouseOut=function(t){this.removeClass("vjs-hover"),Rt(document,"keyup",this.handleKeyPressHandler_)},e.handleKeyPress=function(t){de.isEventKey(t,"Esc")&&this.handleMouseOut()},t}(he);oi.prototype.options_={children:["muteToggle","volumeControl"]},he.registerComponent("VolumePanel",oi);var ln=function(n){function t(t,e){var i=n.call(this,t,e)||this;return e&&(i.menuButton_=e.menuButton),i.focusedChild_=-1,i.on("keydown",function(t){return i.handleKeyDown(t)}),i.boundHandleBlur_=function(t){return i.handleBlur(t)},i.boundHandleTapClick_=function(t){return i.handleTapClick(t)},i}fe(t,n);var e=t.prototype;return e.addEventListenerForItem=function(t){t instanceof he&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},e.removeEventListenerForItem=function(t){t instanceof he&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},e.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),n.prototype.removeChild.call(this,t)},e.addItem=function(t){t=this.addChild(t);t&&this.addEventListenerForItem(t)},e.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=Y(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Nt(t,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),t},e.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,n.prototype.dispose.call(this)},e.handleBlur=function(t){var e=t.relatedTarget||document.activeElement;this.children().some(function(t){return t.el()===e})||(t=this.menuButton_)&&t.buttonPressed_&&e!==t.el().firstChild&&t.unpressButton()},e.handleTapClick=function(e){var t;this.menuButton_&&(this.menuButton_.unpressButton(),t=this.children(),!Array.isArray(t)||(t=t.filter(function(t){return t.el()===e.target})[0])&&"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())},e.handleKeyDown=function(t){de.isEventKey(t,"Left")||de.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(de.isEventKey(t,"Right")||de.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},e.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].hasClass("vjs-menu-title")&&e.shift(),0<e.length&&(t<0?t=0:t>=e.length&&(t=e.length-1),e[this.focusedChild_=t].el_.focus())},t}(he);he.registerComponent("Menu",ln);u=function(n){function t(t,e){var i;(i=n.call(this,t,e=void 0===e?{}:e)||this).menuButton_=new en(t,e),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");e=en.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+" "+e,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0;e=function(t){return i.handleClick(t)};return i.handleMenuKeyUp_=function(t){return i.handleMenuKeyUp(t)},i.on(i.menuButton_,"tap",e),i.on(i.menuButton_,"click",e),i.on(i.menuButton_,"keydown",function(t){return i.handleKeyDown(t)}),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),Nt(document,"keyup",i.handleMenuKeyUp_)}),i.on("mouseleave",function(t){return i.handleMouseLeave(t)}),i.on("keydown",function(t){return i.handleSubmenuKeyDown(t)}),i}fe(t,n);var e=t.prototype;return e.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},e.createMenu=function(){var t,e=new ln(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(t=Y("li",{className:"vjs-menu-title",textContent:se(this.options_.title),tabIndex:-1}),t=new he(this.player_,{el:t}),e.addItem(t)),this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e},e.createItems=function(){},e.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+en.prototype.buildCSSClass()+" "+n.prototype.buildCSSClass.call(this)},e.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},e.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},e.dispose=function(){this.handleMouseLeave(),n.prototype.dispose.call(this)},e.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},e.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Rt(document,"keyup",this.handleMenuKeyUp_)},e.focus=function(){this.menuButton_.focus()},e.blur=function(){this.menuButton_.blur()},e.handleKeyDown=function(t){de.isEventKey(t,"Esc")||de.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),de.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(de.isEventKey(t,"Up")||de.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},e.handleMenuKeyUp=function(t){(de.isEventKey(t,"Esc")||de.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},e.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},e.handleSubmenuKeyDown=function(t){(de.isEventKey(t,"Esc")||de.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),de.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},e.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),B&&G()||this.menu.focus())},e.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(he);he.registerComponent("MenuButton",u);N=function(r){function t(t,e){var i=e.tracks,e=r.call(this,t,e)||this;if(e.items.length<=1&&e.hide(),!i)return pe(e);var n=zt(pe(e),e.update);return i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),i.addEventListener("labelchange",n),e.player_.on("ready",n),e.player_.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n),i.removeEventListener("labelchange",n)}),e}return fe(t,r),t}(u);he.registerComponent("TrackButton",N);var cn=["Tab","Esc","Up","Down","Right","Left"],j=function(n){function t(t,e){t=n.call(this,t,e)||this;return t.selectable=e.selectable,t.isSelected_=e.selected||!1,t.multiSelectable=e.multiSelectable,t.selected(t.isSelected_),t.selectable?t.multiSelectable?t.el_.setAttribute("role","menuitemcheckbox"):t.el_.setAttribute("role","menuitemradio"):t.el_.setAttribute("role","menuitem"),t}fe(t,n);var e=t.prototype;return e.createEl=function(t,e,i){this.nonIconControl=!0;i=n.prototype.createEl.call(this,"li",v({className:"vjs-menu-item",tabIndex:-1},e),i);return i.replaceChild(Y("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},e.handleKeyDown=function(e){cn.some(function(t){return de.isEventKey(e,t)})||n.prototype.handleKeyDown.call(this,e)},e.handleClick=function(t){this.selected(!0)},e.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(He);he.registerComponent("MenuItem",j);var un=function(l){function t(t,e){var n,i=e.track,r=t.textTracks();e.label=i.label||i.language||"Unknown",e.selected="showing"===i.mode,(n=l.call(this,t,e)||this).track=i,n.kinds=(e.kinds||[e.kind||n.track.kind]).filter(Boolean);function s(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(pe(n),e)}function o(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleSelectedLanguageChange.apply(pe(n),e)}var a;return t.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",o),n.on("dispose",function(){t.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",o)}),void 0===r.onchange&&n.on(["tap","click"],function(){if("object"!=typeof window.Event)try{a=new window.Event("change")}catch(t){}a||(a=document.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(a)}),n.handleTracksChange(),n}fe(t,l);var e=t.prototype;return e.handleClick=function(t){var e=this.track,i=this.player_.textTracks();if(l.prototype.handleClick.call(this,t),i)for(var n=0;n<i.length;n++){var r=i[n];-1!==this.kinds.indexOf(r.kind)&&(r===e?"showing"!==r.mode&&(r.mode="showing"):"disabled"!==r.mode&&(r.mode="disabled"))}},e.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},e.handleSelectedLanguageChange=function(t){var e;"showing"===this.track.mode&&((e=this.player_.cache_.selectedLanguage)&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}))},e.dispose=function(){this.track=null,l.prototype.dispose.call(this)},t}(j);he.registerComponent("TextTrackMenuItem",un);var dn=function(i){function t(t,e){return e.track={player:t,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,i.call(this,t,e)||this}fe(t,i);var e=t.prototype;return e.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(-1<this.options_.kinds.indexOf(s.kind)&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},e.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(-1<["captions","descriptions","subtitles"].indexOf(s.kind)&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(un);he.registerComponent("OffTextTrackMenuItem",dn);S=function(i){function t(t,e){return(e=void 0===e?{}:e).tracks=t.textTracks(),i.call(this,t,e)||this}return fe(t,i),t.prototype.createItems=function(t,e){var i;void 0===e&&(e=un),this.label_&&(i=this.label_+" off"),(t=void 0===t?[]:t).push(new dn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var s,o=n[r];-1<this.kinds_.indexOf(o.kind)&&((s=new e(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1})).addClass("vjs-"+o.kind+"-menu-item"),t.push(s))}return t},t}(N);he.registerComponent("TextTrackButton",S);var hn=function(s){function t(t,e){var i=e.track,n=e.cue,r=t.currentTime();return e.selectable=!0,e.multiSelectable=!1,e.label=n.text,e.selected=n.startTime<=r&&r<n.endTime,(e=s.call(this,t,e)||this).track=i,e.cue=n,e}return fe(t,s),t.prototype.handleClick=function(t){s.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(j);he.registerComponent("ChaptersTrackMenuItem",hn);x=function(r){function t(t,e,i){var n=r.call(this,t,e,i)||this;return n.selectCurrentItem_=function(){n.items.forEach(function(t){t.selected(n.track_.activeCues[0]===t.cue)})},n}fe(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},e.update=function(t){t&&t.track&&"chapters"!==t.track.kind||((t=this.findChaptersTrack())!==this.track_?(this.setTrack(t),r.prototype.update.call(this)):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&r.prototype.update.call(this))},e.setTrack=function(t){var e;this.track_!==t&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null),this.track_=t,this.track_&&(this.track_.mode="hidden",(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)))},e.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var i=t[e];if(i.kind===this.kind_)return i}},e.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(se(this.kind_))},e.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},e.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],r=new hn(this.player_,{track:this.track_,cue:r});t.push(r)}return t},t}(S);x.prototype.kind_="chapters",x.prototype.controlText_="Chapters",he.registerComponent("ChaptersButton",x);Ne=function(s){function t(t,e,i){var i=s.call(this,t,e,i)||this,n=t.textTracks(),r=zt(pe(i),i.handleTracksChange);return n.addEventListener("change",r),i.on("dispose",function(){n.removeEventListener("change",r)}),i}fe(t,s);var e=t.prototype;return e.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},e.buildCSSClass=function(){return"vjs-descriptions-button "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+s.prototype.buildWrapperCSSClass.call(this)},t}(S);Ne.prototype.kind_="descriptions",Ne.prototype.controlText_="Descriptions",he.registerComponent("DescriptionsButton",Ne);Re=function(n){function t(t,e,i){return n.call(this,t,e,i)||this}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(S);Re.prototype.kind_="subtitles",Re.prototype.controlText_="Subtitles",he.registerComponent("SubtitlesButton",Re);var pn=function(i){function t(t,e){return e.track={player:t,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",(t=i.call(this,t,e)||this).addClass("vjs-texttrack-settings"),t.controlText(", opens "+e.kind+" settings dialog"),t}return fe(t,i),t.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},t}(un);he.registerComponent("CaptionSettingsMenuItem",pn);ce=function(n){function t(t,e,i){return n.call(this,t,e,i)||this}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new pn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t)},t}(S);ce.prototype.kind_="captions",ce.prototype.controlText_="Captions",he.registerComponent("CaptionsButton",ce);var fn=function(n){function t(){return n.apply(this,arguments)||this}return fe(t,n),t.prototype.createEl=function(t,e,i){e=n.prototype.createEl.call(this,t,e,i),i=e.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(i.appendChild(Y("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(Y("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),e},t}(un);he.registerComponent("SubsCapsMenuItem",fn);k=function(i){function t(t,e){return(e=i.call(this,t,e=void 0===e?{}:e)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(e.player_.language_)&&(e.label_="captions"),e.menuButton_.controlText(se(e.label_)),e}fe(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+i.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new pn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=i.prototype.createItems.call(this,t,fn)},t}(S);k.prototype.kinds_=["captions","subtitles"],k.prototype.controlText_="Subtitles",he.registerComponent("SubsCapsButton",k);var mn=function(o){function t(t,e){var n,i=e.track,r=t.audioTracks();e.label=i.label||i.language||"Unknown",e.selected=i.enabled,(n=o.call(this,t,e)||this).track=i,n.addClass("vjs-"+i.kind+"-menu-item");function s(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(pe(n),e)}return r.addEventListener("change",s),n.on("dispose",function(){r.removeEventListener("change",s)}),n}fe(t,o);var e=t.prototype;return e.createEl=function(t,e,i){e=o.prototype.createEl.call(this,t,e,i),i=e.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(i.appendChild(Y("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),i.appendChild(Y("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),e},e.handleClick=function(t){if(o.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];n!==this.track&&(n.enabled=n===this.track)}},e.handleTracksChange=function(t){this.selected(this.track.enabled)},t}(j);he.registerComponent("AudioTrackMenuItem",mn);oi=function(i){function t(t,e){return(e=void 0===e?{}:e).tracks=t.audioTracks(),i.call(this,t,e)||this}fe(t,i);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-audio-button "+i.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-audio-button "+i.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];t.push(new mn(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},t}(N);oi.prototype.controlText_="Audio Track",he.registerComponent("AudioTrackButton",oi);var gn=function(s){function t(t,e){var i,n=e.rate,r=parseFloat(n,10);return e.label=n,e.selected=r===t.playbackRate(),e.selectable=!0,e.multiSelectable=!1,(i=s.call(this,t,e)||this).label=n,i.rate=r,i.on(t,"ratechange",function(t){return i.update(t)}),i}fe(t,s);var e=t.prototype;return e.handleClick=function(t){s.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.update=function(t){this.selected(this.player().playbackRate()===this.rate)},t}(j);gn.prototype.contentElType="button",he.registerComponent("PlaybackRateMenuItem",gn);He=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(t,"loadstart",function(t){return i.updateVisibility(t)}),i.on(t,"ratechange",function(t){return i.updateLabel(t)}),i.on(t,"playbackrateschange",function(t){return i.handlePlaybackRateschange(t)}),i}fe(t,n);var e=t.prototype;return e.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Y("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},e.dispose=function(){this.labelEl_=null,n.prototype.dispose.call(this)},e.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){for(var t=this.playbackRates(),e=[],i=t.length-1;0<=i;i--)e.push(new gn(this.player(),{rate:t[i]+"x"}));return e},e.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.handleClick=function(t){var e=this.player().playbackRate(),i=this.playbackRates(),e=(i.indexOf(e)+1)%i.length;this.player().playbackRate(i[e])},e.handlePlaybackRateschange=function(t){this.update()},e.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},e.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},e.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(u);He.prototype.controlText_="Playback Rate",he.registerComponent("PlaybackRateMenuButton",He);x=function(n){function t(){return n.apply(this,arguments)||this}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},e.createEl=function(t,e,i){return void 0===t&&(t="div"),void 0===i&&(i={}),(e=void 0===e?{}:e).className||(e.className=this.buildCSSClass()),n.prototype.createEl.call(this,t,e,i)},t}(he);he.registerComponent("Spacer",x),he.registerComponent("CustomControlSpacer",function(t){function e(){return t.apply(this,arguments)||this}fe(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"Â "})},e}(x));Ne=function(t){function e(){return t.apply(this,arguments)||this}return fe(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(he);Ne.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&Ne.prototype.options_.children.splice(Ne.prototype.options_.children.length-1,0,"pictureInPictureToggle"),he.registerComponent("ControlBar",Ne);Re=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.on(t,"error",function(t){return i.open(t)}),i}fe(t,n);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},e.content=function(){var t=this.player().error();return t?this.localize(t.message):""},t}(Ae);Re.prototype.options_=m({},Ae.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),he.registerComponent("ErrorDisplay",Re);var yn="vjs-text-track-settings",ce=["#000","Black"],S=["#00F","Blue"],k=["#0FF","Cyan"],N=["#0F0","Green"],oi=["#F0F","Magenta"],j=["#F00","Red"],u=["#FFF","White"],He=["#FF0","Yellow"],x=["1","Opaque"],Ne=["0.5","Semi-Transparent"],Re=["0","Transparent"],vn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ce,u,j,N,S,He,oi,k]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[x,Ne,Re]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[u,ce,j,N,S,He,oi,k]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[x,Ne]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Re,Ne,x]}};function bn(t,e){if((t=e?e(t):t)&&"none"!==t)return t}vn.windowColor.options=vn.backgroundColor.options;x=function(n){function t(t,e){var i;return e.temporary=!1,(i=n.call(this,t,e)||this).updateDisplay=i.updateDisplay.bind(pe(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=Y("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===e.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),y(vn,function(t){i.on(i.$(t.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}fe(t,n);var e=t.prototype;return e.dispose=function(){this.endDialog=null,n.prototype.dispose.call(this)},e.createElSelect_=function(t,e,i){var n=this;void 0===e&&(e=""),void 0===i&&(i="label");var t=vn[t],r=t.id.replace("%s",this.id_),s=[e,r].join(" ").trim();return["<"+i+' id="'+r+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(t.label),"</"+i+">",'<select aria-labelledby="'+s+'">'].concat(t.options.map(function(t){var e=r+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+s+" "+e+'">',n.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},e.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.createElColors_=function(){return Y("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.createElFont_=function(){return Y("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.createElControls_=function(){var t=this.localize("restore all settings to the default values");return Y("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.label=function(){return this.localize("Caption Settings Dialog")},e.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.buildCSSClass=function(){return n.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.getValues=function(){var i,n,t,r=this;return n=function(t,e,i){var n,e=(n=r.$(e.selector),e=e.parser,bn(n.options[n.options.selectedIndex].value,e));return void 0!==e&&(t[i]=e),t},void 0===(t={})&&(t=0),f(i=vn).reduce(function(t,e){return n(t,i[e],e)},t)},e.setValues=function(i){var n=this;y(vn,function(t,e){!function(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(bn(t.options[n].value,i)===e){t.selectedIndex=n;break}}(n.$(t.selector),i[e],t.parser)})},e.setDefaults=function(){var i=this;y(vn,function(t){var e=t.hasOwnProperty("default")?t.default:0;i.$(t.selector).selectedIndex=e})},e.restoreSettings=function(){var t;try{t=JSON.parse(window.localStorage.getItem(yn))}catch(t){d.warn(t)}t&&this.setValues(t)},e.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?window.localStorage.setItem(yn,JSON.stringify(t)):window.localStorage.removeItem(yn)}catch(t){d.warn(t)}}},e.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,t=t&&t.captionsButton;e?e.focus():t&&t.focus()},t}(Ae);he.registerComponent("TextTrackSettings",x);x=function(s){function t(t,e){var i,n=e.ResizeObserver||window.ResizeObserver,r=oe({createEl:!(n=null===e.ResizeObserver?!1:n),reportTouchActivity:!1},e);return(i=s.call(this,t,r)||this).ResizeObserver=e.ResizeObserver||window.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=$t(function(){i.resizeHandler()},100,!1,pe(i)),n?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){var t,e;i.el_&&i.el_.contentWindow&&(t=i.debouncedHandler_,e=i.unloadListener_=function(){Rt(this,"resize",t),Rt(this,"unload",e),e=null},Nt(i.el_.contentWindow,"unload",e),Nt(i.el_.contentWindow,"resize",t))},i.one("load",i.loadListener_)),i}fe(t,s);var e=t.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},e.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},e.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,s.prototype.dispose.call(this)},t}(he);he.registerComponent("ResizeManager",x);var _n={trackingThreshold:20,liveTolerance:15},x=function(n){function t(t,e){var e=oe(_n,e,{createEl:!1}),i=n.call(this,t,e)||this;return i.handleVisibilityChange_=function(t){return i.handleVisibilityChange(t)},i.trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(t){return i.handlePlay(t)},i.handleFirstTimeupdate_=function(t){return i.handleFirstTimeupdate(t)},i.handleSeeked_=function(t){return i.handleSeeked(t)},i.seekToLiveEdge_=function(t){return i.seekToLiveEdge(t)},i.reset_(),i.on(i.player_,"durationchange",function(t){return i.handleDurationchange(t)}),i.on(i.player_,"canplay",function(){return i.toggleTracking()}),M&&"hidden"in document&&"visibilityState"in document&&i.on(document,"visibilitychange",i.handleVisibilityChange_),i}fe(t,n);var e=t.prototype;return e.handleVisibilityChange=function(){this.player_.duration()===1/0&&(document.hidden?this.stopTracking():this.startTracking())},e.trackLive_=function(){var t,e=this.player_.seekable();e&&e.length&&(t=Number(window.performance.now().toFixed(4)),e=-1===this.lastTime_?0:(t-this.lastTime_)/1e3,this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+e,t=this.liveCurrentTime(),e=this.player_.currentTime(),e=this.player_.paused()||this.seekedBehindLive_||Math.abs(t-e)>this.options_.liveTolerance,(e=!this.timeupdateSeen_||t===1/0?!1:e)!==this.behindLiveEdge_&&(this.behindLiveEdge_=e,this.trigger("liveedgechange")))},e.handleDurationchange=function(){this.toggleTracking()},e.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},e.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},e.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},e.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&2<t,this.nextSeekedFromUser_=!1,this.trackLive_()},e.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},e.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},e.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},e.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},e.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],i=t?t.length:0;i--;)e.push(t.end(i));return e.length?e.sort()[e.length-1]:1/0},e.seekableStart=function(){for(var t=this.player_.seekable(),e=[],i=t?t.length:0;i--;)e.push(t.start(i));return e.length?e.sort()[0]:0},e.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},e.isLive=function(){return this.isTracking()},e.atLiveEdge=function(){return!this.behindLiveEdge()},e.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},e.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},e.behindLiveEdge=function(){return this.behindLiveEdge_},e.isTracking=function(){return"number"==typeof this.trackingInterval_},e.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},e.dispose=function(){this.off(document,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),n.prototype.dispose.call(this)},t}(he);he.registerComponent("LiveTracker",x);function Tn(s){var e,t,i,o=s.el();o.resetSourceWatch_||(e={},t=An(s),i=function(r){return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=r.apply(o,e);return Cn(s),n}},["append","appendChild","insertAdjacentHTML"].forEach(function(t){o[t]&&(e[t]=o[t],o[t]=i(e[t]))}),Object.defineProperty(o,"innerHTML",oe(t,{set:i(t.set)})),o.resetSourceWatch_=function(){o.resetSourceWatch_=null,Object.keys(e).forEach(function(t){o[t]=e[t]}),Object.defineProperty(o,"innerHTML",t)},s.one("sourceset",o.resetSourceWatch_))}function wn(i){var n,e,r,s;i.featuresSourceset&&((n=i.el()).resetSourceset_||(e=En([i.el(),window.HTMLMediaElement.prototype,In],"src"),r=n.setAttribute,s=n.load,Object.defineProperty(n,"src",oe(e,{set:function(t){t=e.set.call(n,t);return i.triggerSourceset(n.src),t}})),n.setAttribute=function(t,e){e=r.call(n,t,e);return/src/i.test(t)&&i.triggerSourceset(n.src),e},n.load=function(){var t=s.call(n);return Cn(i)||(i.triggerSourceset(""),Tn(i)),t},n.currentSrc?i.triggerSourceset(n.currentSrc):Cn(i)||Tn(i),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=s,n.setAttribute=r,Object.defineProperty(n,"src",e),n.resetSourceWatch_&&n.resetSourceWatch_()}))}function Sn(e,i,n,t){function r(t){return Object.defineProperty(e,i,{value:t,enumerable:!0,writable:!0})}var s={configurable:!0,enumerable:!0,get:function(){var t=n();return r(t),t}};return(t=void 0===t?!0:t)&&(s.set=r),Object.defineProperty(e,i,s)}var xn,Cn=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],e="";if(!i.length)return!1;for(var r=0;r<i.length;r++){var s=i[r].src;s&&-1===n.indexOf(s)&&n.push(s)}return!!n.length&&(1===n.length&&(e=n[0]),t.triggerSourceset(e),!0)},kn=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=document.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var i=document.createDocumentFragment();e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",window.Element.prototype.appendChild.call(this,i),this.innerHTML}}),En=function(t,e){for(var i={},n=0;n<t.length&&!((i=Object.getOwnPropertyDescriptor(t[n],e))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i},An=function(t){return En([t.el(),window.HTMLMediaElement.prototype,window.Element.prototype,kn],"innerHTML")},In=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Me(window.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return window.Element.prototype.setAttribute.call(this,"src",t),t}}),Pn=function(c){function o(t,e){var i=c.call(this,t,e)||this,e=t.source,n=!1;if(i.featuresVideoFrameCallback=i.featuresVideoFrameCallback&&"VIDEO"===i.el_.tagName,e&&(i.el_.currentSrc!==e.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(e):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var r=i.el_.childNodes,s=r.length,o=[];s--;){var a=r[s];"track"===a.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(a),i.remoteTextTracks().addTrack(a.track),i.textTracks().addTrack(a.track),n||i.el_.hasAttribute("crossorigin")||!We(a.src)||(n=!0)):o.push(a))}for(var l=0;l<o.length;l++)i.el_.removeChild(o[l])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&n&&d.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(F||U||I)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}fe(o,c);var t=o.prototype;return t.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),o.disposeMediaElement(this.el_),this.options_=null,c.prototype.dispose.call(this)},t.setupSourcesetHandling_=function(){wn(this)},t.restoreMetadataTracksInIOSNativePlayer_=function(){function t(){i=[];for(var t=0;t<n.length;t++){var e=n[t];"metadata"===e.kind&&i.push({track:e,storedMode:e.mode})}}var i,n=this.textTracks();t(),n.addEventListener("change",t),this.on("dispose",function(){return n.removeEventListener("change",t)});function r(){for(var t=0;t<i.length;t++){var e=i[t];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}n.removeEventListener("change",r)}this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",t),n.removeEventListener("change",r),n.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",t),n.addEventListener("change",t),n.removeEventListener("change",r)})},t.overrideNative_=function(t,e){var i,n=this;e===this["featuresNative"+t+"Tracks"]&&(this[(i=t.toLowerCase())+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i))},t.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},t.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},t.proxyNativeTracksForType_=function(i){var t,e,n=this,r=ni[i],s=this.el()[r.getterName],o=this[r.getterName]();this["featuresNative"+r.capitalName+"Tracks"]&&s&&s.addEventListener&&(t={change:function(t){var e={type:"change",target:o,currentTarget:o,srcElement:o};o.trigger(e),"text"===i&&n[ri.remoteText.getterName]().trigger(e)},addtrack:function(t){o.addTrack(t.track)},removetrack:function(t){o.removeTrack(t.track)}},e=function(){for(var t=[],e=0;e<o.length;e++){for(var i=!1,n=0;n<s.length;n++)if(s[n]===o[e]){i=!0;break}i||t.push(o[e])}for(;t.length;)o.removeTrack(t.shift())},this[r.getterName+"Listeners_"]=t,Object.keys(t).forEach(function(e){var i=t[e];s.addEventListener(e,i),n.on("dispose",function(t){return s.removeEventListener(e,i)})}),this.on("loadstart",e),this.on("dispose",function(t){return n.off("loadstart",e)}))},t.proxyNativeTracks_=function(){var e=this;ni.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},t.createEl=function(){var t,e=this.options_.tag;e&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(e?(t=e.cloneNode(!0),e.parentNode&&e.parentNode.insertBefore(t,e),o.disposeMediaElement(e),e=t):(e=document.createElement("video"),t=oe({},this.options_.tag&&nt(this.options_.tag)),F&&!0===this.options_.nativeControlsForTouch||delete t.controls,it(e,v(t,{id:this.options_.techId,class:"vjs-tech"}))),e.playerId=this.options_.playerId),void 0!==this.options_.preload&&st(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],n=0;n<i.length;n++){var r=i[n],s=this.options_[r];void 0!==s&&(s?st(e,r,r):ot(e,r),e[r]=s)}return e},t.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),2<=t.readyState&&r.push("loadeddata"),3<=t.readyState&&r.push("canplay"),4<=t.readyState&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},t.setScrubbing=function(t){this.isScrubbing_=t},t.scrubbing=function(){return this.isScrubbing_},t.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&$?this.el_.fastSeek(t):this.el_.currentTime=t}catch(t){d(t,"Video is not ready. (Video.js)")}},t.duration=function(){var e=this;return this.el_.duration===1/0&&E&&O&&0===this.el_.currentTime?(this.on("timeupdate",function t(){0<e.el_.currentTime&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN):this.el_.duration||NaN},t.width=function(){return this.el_.offsetWidth},t.height=function(){return this.el_.offsetHeight},t.proxyWebkitFullscreen_=function(){var t,e,i=this;"webkitDisplayingFullscreen"in this.el_&&(t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},e=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))},this.on("webkitbeginfullscreen",e),this.on("dispose",function(){i.off("webkitbeginfullscreen",e),i.off("webkitendfullscreen",t)}))},t.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=window.navigator&&window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},t.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Se(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},0);else try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},t.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},t.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},t.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):c.prototype.requestVideoFrameCallback.call(this,t)},t.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):c.prototype.cancelVideoFrameCallback.call(this,t)},t.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},t.reset=function(){o.resetMediaElement(this.el_)},t.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.setControls=function(t){this.el_.controls=!!t},t.addTextTrack=function(t,e,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,i):c.prototype.addTextTrack.call(this,t,e,i)},t.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return c.prototype.createRemoteTextTrack.call(this,t);var e=document.createElement("track");return t.kind&&(e.kind=t.kind),t.label&&(e.label=t.label),(t.language||t.srclang)&&(e.srclang=t.language||t.srclang),t.default&&(e.default=t.default),t.id&&(e.id=t.id),t.src&&(e.src=t.src),e},t.addRemoteTextTrack=function(t,e){e=c.prototype.addRemoteTextTrack.call(this,t,e);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},t.removeRemoteTextTrack=function(t){if(c.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),i=e.length;i--;)t!==e[i]&&t!==e[i].track||this.el().removeChild(e[i])},t.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),window.performance&&"function"==typeof window.performance.now?t.creationTime=window.performance.now():window.performance&&window.performance.timing&&"number"==typeof window.performance.timing.navigationStart&&(t.creationTime=window.Date.now()-window.performance.timing.navigationStart),t},o}(Fi);Sn(Pn,"TEST_VID",function(){if(z()){var t=document.createElement("video"),e=document.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}}),Pn.isSupported=function(){try{Pn.TEST_VID.volume=.5}catch(t){return!1}return!(!Pn.TEST_VID||!Pn.TEST_VID.canPlayType)},Pn.canPlayType=function(t){return Pn.TEST_VID.canPlayType(t)},Pn.canPlaySource=function(t,e){return Pn.canPlayType(t.type)},Pn.canControlVolume=function(){try{var t=Pn.TEST_VID.volume;Pn.TEST_VID.volume=t/2+.1;var e=t!==Pn.TEST_VID.volume;return e&&B?(window.setTimeout(function(){Pn&&Pn.prototype&&(Pn.prototype.featuresVolumeControl=t!==Pn.TEST_VID.volume)}),!1):e}catch(t){return!1}},Pn.canMuteVolume=function(){try{var t=Pn.TEST_VID.muted;return Pn.TEST_VID.muted=!t,Pn.TEST_VID.muted?st(Pn.TEST_VID,"muted","muted"):ot(Pn.TEST_VID,"muted"),t!==Pn.TEST_VID.muted}catch(t){return!1}},Pn.canControlPlaybackRate=function(){if(E&&O&&L<58)return!1;try{var t=Pn.TEST_VID.playbackRate;return Pn.TEST_VID.playbackRate=t/2+.1,t!==Pn.TEST_VID.playbackRate}catch(t){return!1}},Pn.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(document.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(document.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Pn.supportsNativeTextTracks=function(){return $||B&&O},Pn.supportsNativeVideoTracks=function(){return!(!Pn.TEST_VID||!Pn.TEST_VID.videoTracks)},Pn.supportsNativeAudioTracks=function(){return!(!Pn.TEST_VID||!Pn.TEST_VID.audioTracks)},Pn.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],i=t[1];Sn(Pn.prototype,e,function(){return Pn[i]()},!0)}),Pn.prototype.featuresVolumeControl=Pn.canControlVolume(),Pn.prototype.movingMediaElementInDOM=!B,Pn.prototype.featuresFullscreenResize=!0,Pn.prototype.featuresProgressEvents=!0,Pn.prototype.featuresTimeupdateEvents=!0,Pn.prototype.featuresVideoFrameCallback=!(!Pn.TEST_VID||!Pn.TEST_VID.requestVideoFrameCallback),Pn.patchCanPlayType=function(){4<=A&&!P&&!O&&(xn=Pn.TEST_VID&&Pn.TEST_VID.constructor.prototype.canPlayType,Pn.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":xn.call(this,t)})},Pn.unpatchCanPlayType=function(){var t=Pn.TEST_VID.constructor.prototype.canPlayType;return xn&&(Pn.TEST_VID.constructor.prototype.canPlayType=xn),t},Pn.patchCanPlayType(),Pn.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Pn.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Pn.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Pn.prototype["set"+se(e)]=function(t){(this.el_[e]=t)?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Pn.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(e){Pn.prototype["set"+se(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(t){Pn.prototype[t]=function(){return this.el_[t]()}}),Fi.withSourceHandlers(Pn),Pn.nativeSourceHandler={},Pn.nativeSourceHandler.canPlayType=function(t){try{return Pn.TEST_VID.canPlayType(t)}catch(t){return""}},Pn.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Pn.nativeSourceHandler.canPlayType(t.type);if(t.src){t=qe(t.src);return Pn.nativeSourceHandler.canPlayType("video/"+t)}return""},Pn.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},Pn.nativeSourceHandler.dispose=function(){},Pn.registerSourceHandler(Pn.nativeSourceHandler),Fi.registerTech("Html5",Pn);var Dn=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],On={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ln=["tiny","xsmall","small","medium","large","xlarge","huge"],Mn={};Ln.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Mn[t]="vjs-layout-"+e});var Nn={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Rn=function(u){function a(t,e,i){var n,r;if(t.id=t.id||e.id||"vjs_video_"+At++,(e=v(a.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){var s=t.closest("[lang]");s&&s.getAttribute&&(e.language=s.getAttribute("lang"))}else for(var o=t;o&&1===o.nodeType;){if(nt(o).hasOwnProperty("lang")){e.language=o.getAttribute("lang");break}o=o.parentNode}if((n=u.call(this,null,e,i)||this).boundDocumentFullscreenChange_=function(t){return n.documentFullscreenChange_(t)},n.boundFullWindowOnEscKey_=function(t){return n.fullWindowOnEscKey(t)},n.boundUpdateStyleEl_=function(t){return n.updateStyleEl_(t)},n.boundApplyInitTime_=function(t){return n.applyInitTime_(t)},n.boundUpdateCurrentBreakpoint_=function(t){return n.updateCurrentBreakpoint_(t)},n.boundHandleTechClick_=function(t){return n.handleTechClick_(t)},n.boundHandleTechDoubleClick_=function(t){return n.handleTechDoubleClick_(t)},n.boundHandleTechTouchStart_=function(t){return n.handleTechTouchStart_(t)},n.boundHandleTechTouchMove_=function(t){return n.handleTechTouchMove_(t)},n.boundHandleTechTouchEnd_=function(t){return n.handleTechTouchEnd_(t)},n.boundHandleTechTap_=function(t){return n.handleTechTap_(t)},n.isFullscreen_=!1,n.log=h(n.id_),n.fsApi_=l,n.isPosterFromTech_=!1,n.queuedCallbacks_=[],n.isReady_=!1,n.hasStarted_=!1,n.userActive_=!1,n.debugEnabled_=!1,n.audioOnlyMode_=!1,n.audioPosterMode_=!1,n.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!n.options_||!n.options_.techOrder||!n.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");n.tag=t,n.tagAttributes=t&&nt(t),n.language(n.options_.language),e.languages?(r={},Object.getOwnPropertyNames(e.languages).forEach(function(t){r[t.toLowerCase()]=e.languages[t]}),n.languages_=r):n.languages_=a.prototype.options_.languages,n.resetCache_(),n.poster_=e.poster||"",n.controls_=!!e.controls,t.controls=!1,t.removeAttribute("controls"),n.changingSrc_=!1,n.playCallbacks_=[],n.playTerminatedQueue_=[],t.hasAttribute("autoplay")?n.autoplay(!0):n.autoplay(n.options_.autoplay),e.plugins&&Object.keys(e.plugins).forEach(function(t){if("function"!=typeof n[t])throw new Error('plugin "'+t+'" does not exist')}),n.scrubbing_=!1,n.el_=n.createEl(),ee(pe(n),{eventBusKey:"el_"}),n.fsApi_.requestFullscreen&&(Nt(document,n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_),n.on(n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_)),n.fluid_&&n.on(["playerreset","resize"],n.boundUpdateStyleEl_);i=oe(n.options_);e.plugins&&Object.keys(e.plugins).forEach(function(t){n[t](e.plugins[t])}),e.debug&&n.debug(!0),n.options_.playerOptions=i,n.middleware_=[],n.playbackRates(e.playbackRates),n.initChildren(),n.isAudio("audio"===t.nodeName.toLowerCase()),n.controls()?n.addClass("vjs-controls-enabled"):n.addClass("vjs-controls-disabled"),n.el_.setAttribute("role","region"),n.isAudio()?n.el_.setAttribute("aria-label",n.localize("Audio Player")):n.el_.setAttribute("aria-label",n.localize("Video Player")),n.isAudio()&&n.addClass("vjs-audio"),n.flexNotSupported_()&&n.addClass("vjs-no-flex"),F&&n.addClass("vjs-touch-enabled"),B||n.addClass("vjs-workinghover"),a.players[n.id_]=pe(n);t="7.20.2".split(".")[0];return n.addClass("vjs-v"+t),n.userActive(!0),n.reportUserActivity(),n.one("play",function(t){return n.listenForUserActivity_(t)}),n.on("stageclick",function(t){return n.handleStageClick_(t)}),n.on("keydown",function(t){return n.handleKeyDown(t)}),n.on("languagechange",function(t){return n.handleLanguagechange(t)}),n.breakpoints(n.options_.breakpoints),n.responsive(n.options_.responsive),n.on("ready",function(){n.audioPosterMode(n.options_.audioPosterMode),n.audioOnlyMode(n.options_.audioOnlyMode)}),n}fe(a,u);var t=a.prototype;return t.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),Rt(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Rt(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),a.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ui[this.id()]=null,si.names.forEach(function(t){t=si[t],t=e[t.getterName]();t&&t.off&&t.off()}),u.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},t.createEl=function(){var e,i=this.tag,t=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),n="video-js"===this.tag.tagName.toLowerCase();t?e=this.el_=i.parentNode:n||(e=this.el_=u.prototype.createEl.call(this,"div"));var r,s,o=nt(i);if(n){for(e=this.el_=i,i=this.tag=document.createElement("video");e.children.length;)i.appendChild(e.firstChild);Z(e,"video-js")||J(e,"video-js"),e.appendChild(i),t=this.playerElIngest_=e,Object.keys(e).forEach(function(t){try{i[t]=e[t]}catch(t){}})}i.setAttribute("tabindex","-1"),o.tabindex="-1",(M||O&&R)&&(i.setAttribute("role","application"),o.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(t){n&&"class"===t||e.setAttribute(t,o[t]),n&&i.setAttribute(t,o[t])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",(i.player=e.player=this).addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=kt("vjs-styles-dimensions"),r=_t(".vjs-styles-defaults"),(s=_t("head")).insertBefore(this.styleEl_,r?r.nextSibling:s.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var a=i.getElementsByTagName("a"),l=0;l<a.length;l++){var c=a.item(l);J(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!t&&i.parentNode.insertBefore(e,i),Q(i,e),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e},t.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):d.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},t.width=function(t){return this.dimension("width",t)},t.height=function(t){return this.dimension("height",t)},t.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e||"auto"===e)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?d.error('Improper value "'+e+'" supplied for for '+t):(this[i]=n,this.updateStyleEl_())},t.fluid=function(t){var e,i=this;if(void 0===t)return!!this.fluid_;this.fluid_=!!t,Zt(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),e=function(){i.on(["playerreset","resize"],i.boundUpdateStyleEl_)},Zt(t=this)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},t.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},t.updateStyleEl_=function(){var t,e,i,n;!0!==window.VIDEOJS_NO_DYNAMIC_STYLE?(n=(i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/i[0],t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/n:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*n,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),Et(this.styleEl_,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+i+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*n+"%;\n      }\n    ")):(e="number"==typeof this.width_?this.width_:this.options_.width,i="number"==typeof this.height_?this.height_:this.options_.height,(n=this.tech_&&this.tech_.el())&&(0<=e&&(n.width=e),0<=i&&(n.height=i)))},t.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_();var n=se(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(Fi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var s=this.autoplay(),o={source:e,autoplay:s="string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay?!1:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};si.names.forEach(function(t){t=si[t];o[t.getterName]=i[t.privateName]}),v(o,this.options_[n]),v(o,this.options_[r]),v(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&0<this.cache_.currentTime&&(o.startTime=this.cache_.currentTime);t=Fi.getTech(t);if(!t)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new t(o),this.tech_.ready(zt(this,this.handleTechReady_),!0),ke(this.textTracksJson_||[],this.tech_),Dn.forEach(function(e){i.on(i.tech_,e,function(t){return i["handleTech"+se(e)+"_"](t)})}),Object.keys(On).forEach(function(e){i.on(i.tech_,e,function(t){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+On[e]+"_"].bind(i),event:t}):i["handleTech"+On[e]+"_"](t)})}),this.on(this.tech_,"loadstart",function(t){return i.handleTechLoadStart_(t)}),this.on(this.tech_,"sourceset",function(t){return i.handleTechSourceset_(t)}),this.on(this.tech_,"waiting",function(t){return i.handleTechWaiting_(t)}),this.on(this.tech_,"ended",function(t){return i.handleTechEnded_(t)}),this.on(this.tech_,"seeking",function(t){return i.handleTechSeeking_(t)}),this.on(this.tech_,"play",function(t){return i.handleTechPlay_(t)}),this.on(this.tech_,"firstplay",function(t){return i.handleTechFirstPlay_(t)}),this.on(this.tech_,"pause",function(t){return i.handleTechPause_(t)}),this.on(this.tech_,"durationchange",function(t){return i.handleTechDurationChange_(t)}),this.on(this.tech_,"fullscreenchange",function(t,e){return i.handleTechFullscreenChange_(t,e)}),this.on(this.tech_,"fullscreenerror",function(t,e){return i.handleTechFullscreenError_(t,e)}),this.on(this.tech_,"enterpictureinpicture",function(t){return i.handleTechEnterPictureInPicture_(t)}),this.on(this.tech_,"leavepictureinpicture",function(t){return i.handleTechLeavePictureInPicture_(t)}),this.on(this.tech_,"error",function(t){return i.handleTechError_(t)}),this.on(this.tech_,"posterchange",function(t){return i.handleTechPosterChange_(t)}),this.on(this.tech_,"textdata",function(t){return i.handleTechTextData_(t)}),this.on(this.tech_,"ratechange",function(t){return i.handleTechRateChange_(t)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||Q(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.unloadTech_=function(){var e=this;si.names.forEach(function(t){t=si[t];e[t.privateName]=e[t.getterName]()}),this.textTracksJson_=Ce(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.tech=function(t){return void 0===t&&d.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},t.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},t.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},t.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},t.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},t.manualAutoplay_=function(t){var n=this;if(this.tech_&&"string"==typeof t){var e,i=function(){var t=n.muted();n.muted(!0);function e(){n.muted(t)}n.playTerminatedQueue_.push(e);var i=n.play();if(we(i))return i.catch(function(t){throw e(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(t||""))})};if("any"!==t||this.muted()?e="muted"!==t||this.muted()?this.play():i():we(e=this.play())&&(e=e.catch(i)),we(e))return e.then(function(){n.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){n.trigger({type:"autoplay-failure",autoplay:t})})}},t.updateSourceCaches_=function(t){var e=t=void 0===t?"":t,i="";"string"!=typeof e&&(e=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!i&&(i=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter(function(t){return t.src===e});if(i.length)return i[0].type;for(var n=t.$$("source"),r=0;r<n.length;r++){var s=n[r];if(s.type&&s.src&&s.src===e)return s.type}return Ki(e)}(this,e)),this.cache_.source=oe({},t,{src:e,type:i});for(var i=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),n=[],r=this.$$("source"),s=[],o=0;o<r.length;o++){var a=nt(r[o]);n.push(a),a.src&&a.src===e&&s.push(a.src)}s.length&&!i.length?this.cache_.sources=n:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},t.handleTechSourceset_=function(t){var e,i,n,r=this;this.changingSrc_||(e=function(t){return r.updateSourceCaches_(t)},i=this.currentSource().src,n=t.src,i&&!/^blob:/.test(i)&&/^blob:/.test(n)&&(this.lastSource_&&(this.lastSource_.tech===n||this.lastSource_.player===i)||(e=function(){})),e(n),t.src||this.tech_.any(["sourceset","loadstart"],function(t){"sourceset"!==t.type&&(t=r.techGet("currentSrc"),r.lastSource_.tech=t,r.updateSourceCaches_(t))})),this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},t.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var i=this.currentTime();this.on("timeupdate",function t(){i!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",t))})},t.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},t.handleTechFirstPlay_=function(){this.options_.starttime&&(d.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.handleTechClick_=function(t){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,t):this.paused()?Se(this.play()):this.pause()))},t.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},t.handleTechTap_=function(){this.userActive(!this.userActive())},t.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},t.handleStageClick_=function(){this.reportUserActivity()},t.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.documentFullscreenChange_=function(t){var e=t.target.player;e&&e!==this||(t=this.el(),!(e=document[this.fsApi_.fullscreenElement]===t)&&t.matches?e=t.matches(":"+this.fsApi_.fullscreen):!e&&t.msMatchesSelector&&(e=t.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(e))},t.handleTechFullscreenChange_=function(t,e){var i=this;e&&(e.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){i.removeClass("vjs-ios-native-fs")})),this.isFullscreen(e.isFullscreen))},t.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},t.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},t.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},t.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},t.handleTechError_=function(){var t=this.tech_.error();this.error(t)},t.handleTechTextData_=function(){var t=1<arguments.length?arguments[1]:null;this.trigger("textdata",t)},t.getCache=function(){return this.cache_},t.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},t.techCall_=function(e,i){this.ready(function(){if(e in Wi)return t=this.middleware_,this.tech_[e](t.reduce(Vi(e),i));if(e in zi)return Hi(this.middleware_,this.tech_,e,i);var t;try{this.tech_&&this.tech_[e](i)}catch(t){throw d(t),t}},!0)},t.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in qi)return t=this.middleware_,i=this.tech_,t.reduceRight(Vi(e),i[e]());if(e in zi)return Hi(this.middleware_,this.tech_,e);var t,i;try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw d("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw d("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw d(t),t}}},t.play=function(){var e=this,t=this.options_.Promise||window.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},t.play_=function(t){var e=this;this.playCallbacks_.push(t=void 0===t?Se:t);t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(t||!$&&!B||this.load());t=this.techGet_("play");null===t?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(t)},t.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(t){t()})},t.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})},t.pause=function(){this.techCall_("pause")},t.paused=function(){return!1!==this.techGet_("paused")},t.played=function(){return this.techGet_("played")||ye(0,0)},t.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},t.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=(t=parseFloat(t))<0?1/0:t)!==this.cache_.duration&&((this.cache_.duration=t)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},t.remainingTime=function(){return this.duration()-this.currentTime()},t.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.buffered=function(){var t;return t=!(t=this.techGet_("buffered"))||!t.length?ye(0,0):t},t.bufferedPercent=function(){return ve(this.buffered(),this.duration())},t.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),t=t.end(t.length-1);return t=e<t?e:t},t.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(0<e&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},t.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},t.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},t.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},t.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.isFullscreen=function(t){if(void 0===t)return this.isFullscreen_;var e=this.isFullscreen_;this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_()},t.requestFullscreen=function(o){var t=this.options_.Promise||window.Promise;if(t){var a=this;return new t(function(t,i){function n(){a.off("fullscreenerror",r),a.off("fullscreenchange",e)}function e(){n(),t()}function r(t,e){n(),i(e)}a.one("fullscreenchange",e),a.one("fullscreenerror",r);var s=a.requestFullscreenHelper_(o);s&&(s.then(n,n),s.then(t,i))})}return this.requestFullscreenHelper_()},t.requestFullscreenHelper_=function(t){var e=this;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(i=t)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](i);return i&&i.then(function(){return e.isFullscreen(!0)},function(){return e.isFullscreen(!1)}),i}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},t.exitFullscreen=function(){var t=this.options_.Promise||window.Promise;if(t){var o=this;return new t(function(t,i){function n(){o.off("fullscreenerror",r),o.off("fullscreenchange",e)}function e(){n(),t()}function r(t,e){n(),i(e)}o.one("fullscreenchange",e),o.one("fullscreenerror",r);var s=o.exitFullscreenHelper_();s&&(s.then(n,n),s.then(t,i))})}return this.exitFullscreenHelper_()},t.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=document[this.fsApi_.exitFullscreen]();return e&&Se(e.then(function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},t.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,Nt(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow="hidden",J(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.fullWindowOnEscKey=function(t){de.isEventKey(t,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},t.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Rt(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow=this.docOrigOverflow,tt(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},t.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},t.requestPictureInPicture=function(){if("pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},t.exitPictureInPicture=function(){if("pictureInPictureEnabled"in document)return document.exitPictureInPicture()},t.handleKeyDown=function(t){var e=this.options_.userActions;e&&e.hotkeys&&(function(t){var e=t.tagName.toLowerCase();if(t.isContentEditable)return!0;if("input"===e)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type);return-1!==["textarea"].indexOf(e)}(this.el_.ownerDocument.activeElement)||("function"==typeof e.hotkeys?e.hotkeys.call(this,t):this.handleHotkeys(t)))},t.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},i=e.fullscreenKey,n=void 0===i?function(t){return de.isEventKey(t,"f")}:i,i=e.muteKey,i=void 0===i?function(t){return de.isEventKey(t,"m")}:i,e=e.playPauseKey,e=void 0===e?function(t){return de.isEventKey(t,"k")||de.isEventKey(t,"Space")}:e;n.call(this,t)?(t.preventDefault(),t.stopPropagation(),n=he.getComponent("FullscreenToggle"),!1!==document[this.fsApi_.fullscreenEnabled]&&n.prototype.handleClick.call(this,t)):i.call(this,t)?(t.preventDefault(),t.stopPropagation(),he.getComponent("MuteToggle").prototype.handleClick.call(this,t)):e.call(this,t)&&(t.preventDefault(),t.stopPropagation(),he.getComponent("PlayToggle").prototype.handleClick.call(this,t))},t.canPlayType=function(t){for(var e,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],s=Fi.getTech(r);if(s=s||he.getComponent(r)){if(s.isSupported()&&(e=s.canPlayType(t)))return e}else d.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.selectSource=function(t){function e(t,i,n){var r;return t.some(function(e){return i.some(function(t){if(r=n(e,t))return!0})}),r}var i,n=this,r=this.options_.techOrder.map(function(t){return[t,Fi.getTech(t)]}).filter(function(t){var e=t[0],t=t[1];return t?t.isSupported():(d.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}},s=this.options_.sourceOrder?e(t,r,(i=s,function(t,e){return i(e,t)})):e(r,t,s);return s||!1},t.handleSrc_=function(t,n){var r=this;if(void 0===t)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var e,i,s=Xi(t);s.length?(this.changingSrc_=!0,n||(this.cache_.sources=s),this.updateSourceCaches_(s[0]),$i(this,s[0],function(t,e){var i;return r.middleware_=e,n||(r.cache_.sources=s),r.updateSourceCaches_(t),r.src_(t)?1<s.length?r.handleSrc_(s.slice(1)):(r.changingSrc_=!1,r.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void r.triggerReady()):(i=r.tech_,void e.forEach(function(t){return t.setTech&&t.setTech(i)}))}),this.options_.retryOnError&&1<s.length&&(e=function(){r.error(null),r.handleSrc_(s.slice(1),!0)},i=function(){r.off("error",e)},this.one("error",e),this.one("playing",i),this.resetRetryOnError_=function(){r.off("error",e),r.off("playing",i)})):this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)},t.src=function(t){return this.handleSrc_(t,!1)},t.src_=function(t){var e,i,n=this,r=this.selectSource([t]);return!r||(e=r.tech,i=this.techName_,se(e)!==se(i)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){n.changingSrc_=!1})):this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1)},t.load=function(){this.techCall_("load")},t.reset=function(){var t=this,e=this.options_.Promise||window.Promise;this.paused()||!e?this.doReset_():Se(this.play().then(function(){return t.doReset_()}))},t.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Zt(this)&&this.trigger("playerreset")},t.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},t.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar||{},e=t.durationDisplay,t=t.remainingTimeDisplay;e&&e.updateContent(),t&&t.updateContent()},t.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},t.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},t.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},t.currentSource=function(){return this.cache_.source||{}},t.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},t.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)||!0===t&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_("string"==typeof t?t:"play"),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},t.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},t.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},t.poster=function(t){if(void 0===t)return this.poster_;(t=t||"")!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},t.handleTechPosterChange_=function(){var t;this.poster_&&!this.options_.techCanOverridePoster||!this.tech_||!this.tech_.poster||(t=this.tech_.poster()||"")!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))},t.controls=function(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.error=function(e){var i=this;if(void 0===e)return this.error_||null;if(s("beforeerror").forEach(function(t){t=t(i,e);b(t)&&!Array.isArray(t)||"string"==typeof t||"number"==typeof t||null===t?e=t:i.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new be(e),this.addClass("vjs-error"),d.error("(CODE:"+this.error_.code+" "+be.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),s("error").forEach(function(t){return t(i,i.error_)})},t.reportUserActivity=function(t){this.userActivity_=!0},t.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.listenForUserActivity_=function(){var e,i,n,r=zt(this,this.reportUserActivity),t=function(t){r(),this.clearInterval(e)};this.on("mousedown",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)}),this.on("mousemove",function(t){t.screenX===i&&t.screenY===n||(i=t.screenX,n=t.screenY,r())}),this.on("mouseup",t),this.on("mouseleave",t);var s,t=this.getChild("controlBar");!t||B||E||(t.on("mouseenter",function(t){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),t.on("mouseleave",function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){var t;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s),(t=this.options_.inactivityTimeout)<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t)))},250)},t.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},t.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},t.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),i=this.getChild("ControlBar"),n=i&&i.currentHeight();t.forEach(function(t){t!==i&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(n),this.trigger("audioonlymodechange")},t.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(t){return t.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},t.audioOnlyMode=function(t){var e=this;if("boolean"!=typeof t||t===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=t;var i=this.options_.Promise||window.Promise;if(i){if(t){var n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),i.all(n).then(function(){return e.enableAudioOnlyUI_()})}return i.resolve().then(function(){return e.disableAudioOnlyUI_()})}t?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},t.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},t.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},t.audioPosterMode=function(t){var e=this;if("boolean"!=typeof t||t===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=t;var i=this.options_.Promise||window.Promise;return i?t?(this.audioOnlyMode()?this.audioOnlyMode(!1):i.resolve()).then(function(){e.enablePosterModeUI_()}):i.resolve().then(function(){e.disablePosterModeUI_()}):t?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},t.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},t.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},t.removeRemoteTextTrack=function(t){var e=(e=(t=void 0===t?{}:t).track)||t;if(this.tech_)return this.tech_.removeRemoteTextTrack(e)},t.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.language=function(t){if(void 0===t)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),Zt(this)&&this.trigger("languagechange"))},t.languages=function(){return oe(a.prototype.options_.languages,this.languages_)},t.toJSON=function(){var t=oe(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];(n=oe(n)).player=void 0,t.tracks[i]=n}return t},t.createModal=function(t,e){var i=this;(e=e||{}).content=t||"";var n=new Ae(this,e);return this.addChild(n),n.on("dispose",function(){i.removeChild(n)}),n.open(),n},t.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),i=0;i<Ln.length;i++){var n=Ln[i];if(e<=this.breakpoints_[n]){if(t===n)return;t&&this.removeClass(Mn[t]),this.addClass(Mn[n]),this.breakpoint_=n;break}}},t.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},t.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=v({},Nn,t),this.updateCurrentBreakpoint_()),v(this.breakpoints_)},t.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?((this.responsive_=t)?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},t.currentBreakpoint=function(){return this.breakpoint_},t.currentBreakpointClass=function(){return Mn[this.breakpoint_]||""},t.loadMedia=function(t,e){var i,n,r,s=this;t&&"object"==typeof t&&(this.reset(),this.cache_.media=oe(t),i=(r=this.cache_.media).artwork,n=r.poster,t=r.src,r=r.textTracks,!i&&n&&(this.cache_.media.artwork=[{src:n,type:Ki(n)}]),t&&this.src(t),n&&this.poster(n),Array.isArray(r)&&r.forEach(function(t){return s.addRemoteTextTrack(t,!1)}),this.ready(e))},t.getMedia=function(){if(this.cache_.media)return oe(this.cache_.media);var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}})};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Ki(e.poster)}]),e},a.getTagSettings=function(t){var e,i={sources:[],tracks:[]},n=nt(t),r=n["data-setup"];if(Z(t,"vjs-fill")&&(n.fill=!0),Z(t,"vjs-fluid")&&(n.fluid=!0),null!==r&&(r=(e=Te(r||"{}"))[0],e=e[1],r&&d.error(r),v(n,e)),v(i,n),t.hasChildNodes())for(var s=t.childNodes,o=0,a=s.length;o<a;o++){var l=s[o],c=l.nodeName.toLowerCase();"source"===c?i.sources.push(nt(l)):"track"===c&&i.tracks.push(nt(l))}return i},t.flexNotSupported_=function(){var t=document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},t.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},t.playbackRates=function(t){if(void 0===t)return this.cache_.playbackRates;Array.isArray(t)&&t.every(function(t){return"number"==typeof t})&&(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},a}(he);si.names.forEach(function(t){var e=si[t];Rn.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Rn.prototype.crossorigin=Rn.prototype.crossOrigin,Rn.players={};x=window.navigator;Rn.prototype.options_={techOrder:Fi.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:x&&(x.languages&&x.languages[0]||x.userLanguage||x.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Rn.prototype[t]=function(){return this.techGet_(t)}}),Dn.forEach(function(t){Rn.prototype["handleTech"+se(t)+"_"]=function(){return this.trigger(t)}}),he.registerComponent("Player",Rn);var Fn=p(function(i){function n(t,e){return i.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}i.exports=n});function jn(t){return Xn.hasOwnProperty(t)}function Un(t){return jn(t)?Xn[t]:void 0}function Bn(t,e){t[Gn]=t[Gn]||{},t[Gn][e]=!0}function $n(t,e,i){i=(i?"before":"")+"pluginsetup",t.trigger(i,e),t.trigger(i+":"+e.name,e)}function Hn(e,i){function n(){$n(this,{name:e,plugin:i,instance:null},!0);var t=i.apply(this,arguments);return Bn(this,e),$n(this,{name:e,plugin:i,instance:t}),t}return Object.keys(i).forEach(function(t){n[t]=i[t]}),n}function qn(r,s){return s.prototype.name=r,function(){$n(this,{name:r,plugin:s,instance:null},!0);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=zn(s,[this].concat(e));return this[r]=function(){return n},$n(this,n.getEventHash()),n}}var Wn=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}},zn=p(function(n){function r(t,e,i){return Wn()?n.exports=r=Reflect.construct:n.exports=r=function(t,e,i){var n=[null];n.push.apply(n,e);n=new(Function.bind.apply(t,n));return i&&Fn(n,i.prototype),n},r.apply(null,arguments)}n.exports=r}),Vn="plugin",Gn="activePlugins_",Xn={},Yn=function(){function i(t){if(this.constructor===i)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),ee(this),delete this.trigger,ne(this,this.constructor.defaultState),Bn(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=i.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(t){return(t=void 0===t?{}:t).name=this.name,t.plugin=this.constructor,t.instance=this,t},t.trigger=function(t,e){return Ft(this.eventBusEl_,t,this.getEventHash(e=void 0===e?{}:e))},t.handleStateChanged=function(t){},t.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Gn][t]=!1,this.player=this.state=null,e[t]=qn(t,Xn[t])},i.isBasic=function(t){t="string"==typeof t?Un(t):t;return"function"==typeof t&&!i.prototype.isPrototypeOf(t.prototype)},i.registerPlugin=function(t,e){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(jn(t))d.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Rn.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof e+".");return Xn[t]=e,t!==Vn&&(i.isBasic(e)?Rn.prototype[t]=Hn(t,e):Rn.prototype[t]=qn(t,e)),e},i.deregisterPlugin=function(t){if(t===Vn)throw new Error("Cannot de-register base plugin.");jn(t)&&(delete Xn[t],delete Rn.prototype[t])},i.getPlugins=function(t){var i;return(t=void 0===t?Object.keys(Xn):t).forEach(function(t){var e=Un(t);e&&((i=i||{})[t]=e)}),i},i.getPluginVersion=function(t){t=Un(t);return t&&t.VERSION||""},i}();Yn.getPlugin=Un,Yn.BASE_PLUGIN_NAME=Vn,Yn.registerPlugin(Vn,Yn),Rn.prototype.usingPlugin=function(t){return!!this[Gn]&&!0===this[Gn][t]},Rn.prototype.hasPlugin=function(t){return!!jn(t)};function Kn(t){return 0===t.indexOf("#")?t.slice(1):t}var Qn=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fn(t,e)};function Zn(t,e,i){if(r=Zn.getPlayer(t))return e&&d.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&r.ready(i),r;var n="string"==typeof t?_t("#"+Kn(t)):t;if(!V(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");n.ownerDocument.defaultView&&n.ownerDocument.body.contains(n)||d.warn("The element supplied is not included in the DOM"),!0===(e=e||{}).restoreEl&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),s("beforesetup").forEach(function(t){t=t(n,oe(e));b(t)&&!Array.isArray(t)?e=oe(e,t):d.error("please return an object in beforesetup hooks")});var r=new(he.getComponent("Player"))(n,e,i);return s("setup").forEach(function(t){return t(r)}),r}Zn.hooks_=i,Zn.hooks=s,Zn.hook=function(t,e){s(t,e)},Zn.hookOnce=function(i,t){s(i,[].concat(t).map(function(e){return function t(){return n(i,t),e.apply(void 0,arguments)}}))},Zn.removeHook=n,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&z()&&((ir=_t(".vjs-styles-defaults"))||(ir=kt("vjs-styles-defaults"),(x=_t("head"))&&x.insertBefore(ir,x.firstChild),Et(ir,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    "))),xt(1,Zn),Zn.VERSION="7.20.2",Zn.options=Rn.prototype.options_,Zn.getPlayers=function(){return Rn.players},Zn.getPlayer=function(t){var e=Rn.players;if("string"==typeof t){var i=Kn(t),n=e[i];if(n)return n;i=_t("#"+i)}else i=t;if(V(i)){t=i,i=t.player,t=t.playerId;if(i||e[t])return i||e[t]}},Zn.getAllPlayers=function(){return Object.keys(Rn.players).map(function(t){return Rn.players[t]}).filter(Boolean)},Zn.players=Rn.players,Zn.getComponent=he.getComponent,Zn.registerComponent=function(t,e){Fi.isTech(e)&&d.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),he.registerComponent.call(he,t,e)},Zn.getTech=Fi.getTech,Zn.registerTech=Fi.registerTech,Zn.use=function(t,e){ji[t]=ji[t]||[],ji[t].push(e)},Object.defineProperty(Zn,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Zn.middleware,"TERMINATOR",{value:Bi,writeable:!1,enumerable:!0}),Zn.browser=H,Zn.TOUCH_ENABLED=F,Zn.extend=function(t,e){var i,n=function(){t.apply(this,arguments)},r={};for(i in"object"==typeof(e=void 0===e?{}:e)?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),r=e):"function"==typeof e&&(n=e),Qn(n,t),t&&(n.super_=t),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},Zn.mergeOptions=oe,Zn.bind=zt,Zn.registerPlugin=Yn.registerPlugin,Zn.deregisterPlugin=Yn.deregisterPlugin,Zn.plugin=function(t,e){return d.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Yn.registerPlugin(t,e)},Zn.getPlugins=Yn.getPlugins,Zn.getPlugin=Yn.getPlugin,Zn.getPluginVersion=Yn.getPluginVersion,Zn.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),Zn.options.languages=oe(Zn.options.languages,((i={})[t]=e,i)),Zn.options.languages[t]},Zn.log=d,Zn.createLogger=h,Zn.createTimeRange=Zn.createTimeRanges=ye,Zn.formatTime=sn,Zn.setFormatTime=function(t){rn=t},Zn.resetFormatTime=function(){rn=nn},Zn.parseUrl=Le,Zn.isCrossOrigin=We,Zn.EventTarget=Ht,Zn.on=Nt,Zn.one=jt,Zn.off=Rt,Zn.trigger=Ft,Zn.xhr=Ye,Zn.TextTrack=ei,Zn.AudioTrack=ii,Zn.VideoTrack=ae,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Zn[t]=function(){return d.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),wt[t].apply(null,arguments)}}),Zn.computedStyle=T,Zn.dom=wt,Zn.url=C,Zn.defineLazyProperty=Sn,Zn.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});function Jn(t,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(t)&&(t=window.location&&window.location.href||"");var i="function"==typeof window.URL,n=/^\/\//.test(t),r=!window.location&&!/\/\//i.test(t);if(i?t=new window.URL(t,window.location||er):/\/\//i.test(t)||(t=tr.buildAbsoluteURL(window.location&&window.location.href||"",t)),i){i=new URL(e,t);return r?i.href.slice(er.length):n?i.href.slice(i.protocol.length):i.href}return tr.buildAbsoluteURL(t,e)}var tr=p(function(t,e){var i,s,n,r,o;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,s=/^([^\/?#]*)([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var n=o.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=o.normalizePath(n.path),o.buildURLFromParts(n)}n=o.parseURL(e);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return i.alwaysNormalize?(n.path=o.normalizePath(n.path),o.buildURLFromParts(n)):e;e=o.parseURL(t);if(!e)throw new Error("Error trying to parse base URL.");!e.netLoc&&e.path&&"/"!==e.path[0]&&(r=s.exec(e.path),e.netLoc=r[1],e.path=r[2]),e.netLoc&&!e.path&&(e.path="/");var r,t={scheme:e.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};return n.netLoc||(t.netLoc=e.netLoc,"/"!==n.path[0]&&(n.path?(r=(r=e.path).substring(0,r.lastIndexOf("/")+1)+n.path,t.path=o.normalizePath(r)):(t.path=e.path,n.params||(t.params=e.params,n.query||(t.query=e.query))))),null===t.path&&(t.path=i.alwaysNormalize?o.normalizePath(n.path):n.path),o.buildURLFromParts(t)},parseURL:function(t){t=i.exec(t);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(n,"");t.length!==(t=t.replace(r,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o}),er="http://example.com",ir=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;e=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(e,1),-1<e},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,o=0;o<s;++o)e[o].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(e){this.on("data",function(t){e.push(t)})},t}(),nr=function(t){return window.atob?window.atob(t):Buffer.from(t,"base64").toString("binary")};function rr(t){for(var e=nr(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function sr(t){var e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),t={};return e[1]&&(t.length=parseInt(e[1],10)),e[2]&&(t.offset=parseInt(e[2],10)),t}function or(t){for(var e,i=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},r=i.length;r--;)""!==i[r]&&((e=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n}function ar(e){var i={};return Object.keys(e).forEach(function(t){i[vr(t)]=e[t]}),i}function lr(t){var e,i,n,r,s=t.serverControl,o=t.targetDuration,a=t.partTargetDuration;s&&(e="#EXT-X-SERVER-CONTROL",i="holdBack",n="partHoldBack",r=o&&3*o,t=a&&2*a,o&&!s.hasOwnProperty(i)&&(s[i]=r,this.trigger("info",{message:e+" defaulting HOLD-BACK to targetDuration * 3 ("+r+")."})),r&&s[i]<r&&(this.trigger("warn",{message:e+" clamping HOLD-BACK ("+s[i]+") to targetDuration * 3 ("+r+")"}),s[i]=r),a&&!s.hasOwnProperty(n)&&(s[n]=3*a,this.trigger("info",{message:e+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+s[n]+")."})),a&&s[n]<t&&(this.trigger("warn",{message:e+" clamping PART-HOLD-BACK ("+s[n]+") to partTargetDuration * 2 ("+t+")."}),s[n]=t))}function cr(t){return _r.audio.test((t=void 0===t?"":t).trim().toLowerCase())}function ur(t){return void 0===t&&(t=""),window.MediaSource&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported(Cr(t))||!1}function dr(t){return(t=void 0===t?"":t).toLowerCase().split(",").every(function(t){t=t.trim();for(var e=0;e<wr.length;e++){var i=wr[e];if(_r["muxer"+i].test(t))return!0}return!1})}function hr(t){return kr.test(t)?"hls":Er.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}function pr(t,e){var i=void 0!==(e=(void 0===e?{}:e).le)&&e;t=Pr(t="bigint"!=typeof t&&"number"!=typeof t||"number"==typeof t&&t!=t?0:t);for(var n=(e=t,Math.ceil(e.toString(2).length/8)),r=new Uint8Array(new ArrayBuffer(n)),s=0;s<n;s++){var o=i?s:Math.abs(s+1-r.length);r[o]=Number(t/Dr[s]&Pr(255)),t<0&&(r[o]=Math.abs(~r[o]),r[o]-=0===s?1:2)}return r}function fr(t,e){if("string"!=typeof(t="string"!=typeof t&&t&&"function"==typeof t.toString?t.toString():t))return new Uint8Array;e||(t=unescape(encodeURIComponent(t)));for(var i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}var mr=function(e){function t(){var t=e.call(this)||this;return t.buffer="",t}return fe(t,e),t.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");-1<e;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},t}(ir),gr=String.fromCharCode(9),yr=function(e){function t(){var t=e.call(this)||this;return t.customParsers=[],t.tagMappers=[],t}fe(t,e);var i=t.prototype;return i.push=function(i){var r,s,o=this;0!==(i=i.trim()).length&&("#"===i[0]?this.tagMappers.reduce(function(t,e){e=e(i);return e===i?t:t.concat([e])},[i]).forEach(function(t){for(var e,i,n=0;n<o.customParsers.length;n++)if(o.customParsers[n].call(o,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),r=/^#EXTM3U/.exec(t))o.trigger("data",{type:"tag",tagType:"m3u"});else{if(r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return s={type:"tag",tagType:"inf"},r[1]&&(s.duration=parseFloat(r[1])),r[2]&&(s.title=r[2]),void o.trigger("data",s);if(r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return s={type:"tag",tagType:"targetduration"},r[1]&&(s.duration=parseInt(r[1],10)),void o.trigger("data",s);if(r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return s={type:"tag",tagType:"version"},r[1]&&(s.version=parseInt(r[1],10)),void o.trigger("data",s);if(r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return s={type:"tag",tagType:"media-sequence"},r[1]&&(s.number=parseInt(r[1],10)),void o.trigger("data",s);if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return s={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(s.number=parseInt(r[1],10)),void o.trigger("data",s);if(r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return s={type:"tag",tagType:"playlist-type"},r[1]&&(s.playlistType=r[1]),void o.trigger("data",s);if(r=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(t))return s=m(sr(r[1]),{type:"tag",tagType:"byterange"}),void o.trigger("data",s);if(r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return s={type:"tag",tagType:"allow-cache"},r[1]&&(s.allowed=!/NO/.test(r[1])),void o.trigger("data",s);if(r=/^#EXT-X-MAP:?(.*)$/.exec(t))return s={type:"tag",tagType:"map"},r[1]&&((e=or(r[1])).URI&&(s.uri=e.URI),e.BYTERANGE&&(s.byterange=sr(e.BYTERANGE))),void o.trigger("data",s);if(r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t))return s={type:"tag",tagType:"stream-inf"},r[1]&&(s.attributes=or(r[1]),s.attributes.RESOLUTION&&(i={},(e=s.attributes.RESOLUTION.split("x"))[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),s.attributes.RESOLUTION=i),s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["PROGRAM-ID"]&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10))),void o.trigger("data",s);if(r=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return s={type:"tag",tagType:"media"},r[1]&&(s.attributes=or(r[1])),void o.trigger("data",s);if(r=/^#EXT-X-ENDLIST/.exec(t))o.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(r=/^#EXT-X-DISCONTINUITY/.exec(t)))return(r=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))?(s={type:"tag",tagType:"program-date-time"},r[1]&&(s.dateTimeString=r[1],s.dateTimeObject=new Date(r[1])),void o.trigger("data",s)):(r=/^#EXT-X-KEY:?(.*)$/.exec(t))?(s={type:"tag",tagType:"key"},r[1]&&(s.attributes=or(r[1]),s.attributes.IV&&("0x"===s.attributes.IV.substring(0,2).toLowerCase()&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV))),void o.trigger("data",s)):(r=/^#EXT-X-START:?(.*)$/.exec(t))?(s={type:"tag",tagType:"start"},r[1]&&(s.attributes=or(r[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),void o.trigger("data",s)):(r=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))?(s={type:"tag",tagType:"cue-out-cont"},r[1]?s.data=r[1]:s.data="",void o.trigger("data",s)):(r=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))?(s={type:"tag",tagType:"cue-out"},r[1]?s.data=r[1]:s.data="",void o.trigger("data",s)):(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))?(s={type:"tag",tagType:"cue-in"},r[1]?s.data=r[1]:s.data="",void o.trigger("data",s)):(r=/^#EXT-X-SKIP:(.*)$/.exec(t))&&r[1]?((s={type:"tag",tagType:"skip"}).attributes=or(r[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(gr)),void o.trigger("data",s)):(r=/^#EXT-X-PART:(.*)$/.exec(t))&&r[1]?((s={type:"tag",tagType:"part"}).attributes=or(r[1]),["DURATION"].forEach(function(t){s.attributes.hasOwnProperty(t)&&(s.attributes[t]=parseFloat(s.attributes[t]))}),["INDEPENDENT","GAP"].forEach(function(t){s.attributes.hasOwnProperty(t)&&(s.attributes[t]=/YES/.test(s.attributes[t]))}),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=sr(s.attributes.BYTERANGE)),void o.trigger("data",s)):(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(t))&&r[1]?((s={type:"tag",tagType:"server-control"}).attributes=or(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(t){s.attributes.hasOwnProperty(t)&&(s.attributes[t]=parseFloat(s.attributes[t]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(t){s.attributes.hasOwnProperty(t)&&(s.attributes[t]=/YES/.test(s.attributes[t]))}),void o.trigger("data",s)):(r=/^#EXT-X-PART-INF:(.*)$/.exec(t))&&r[1]?((s={type:"tag",tagType:"part-inf"}).attributes=or(r[1]),["PART-TARGET"].forEach(function(t){s.attributes.hasOwnProperty(t)&&(s.attributes[t]=parseFloat(s.attributes[t]))}),void o.trigger("data",s)):(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(t))&&r[1]?((s={type:"tag",tagType:"preload-hint"}).attributes=or(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(t){var e;s.attributes.hasOwnProperty(t)&&(s.attributes[t]=parseInt(s.attributes[t],10),e="BYTERANGE-LENGTH"===t?"length":"offset",s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[e]=s.attributes[t],delete s.attributes[t])}),void o.trigger("data",s)):(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(t))&&r[1]?((s={type:"tag",tagType:"rendition-report"}).attributes=or(r[1]),["LAST-MSN","LAST-PART"].forEach(function(t){s.attributes.hasOwnProperty(t)&&(s.attributes[t]=parseInt(s.attributes[t],10))}),void o.trigger("data",s)):void o.trigger("data",{type:"tag",data:t.slice(4)});o.trigger("data",{type:"tag",tagType:"discontinuity"})}}else o.trigger("data",{type:"comment",text:t.slice(1)})}):this.trigger("data",{type:"uri",uri:i}))},i.addParser=function(t){var e=this,i=t.expression,n=t.customType,r=t.dataParser,s=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){if(i.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:n,segment:s}),!0})},i.addTagMapper=function(t){var e=t.expression,i=t.map;this.tagMappers.push(function(t){return e.test(t)?i(t):t})},t}(ir),vr=function(t){return t.toLowerCase().replace(/-(\w)/g,function(t){return t[1].toUpperCase()})},br=function(e){function t(){var t=e.call(this)||this;t.lineStream=new mr,t.parseStream=new yr,t.lineStream.pipe(t.parseStream);var n,r,s=pe(t),a=[],l={},c=!1,u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var h=0,p=0;return t.on("end",function(){l.uri||!l.parts&&!l.preloadHints||(!l.map&&n&&(l.map=n),!l.key&&r&&(l.key=r),l.timeline||"number"!=typeof d||(l.timeline=d),t.manifest.preloadSegment=l)}),t.parseStream.on("data",function(o){var e,i;({tag:function(){({version:function(){o.version&&(this.manifest.version=o.version)},"allow-cache":function(){this.manifest.allowCache=o.allowed,"allowed"in o||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in o&&((l.byterange=t).length=o.length,"offset"in o||(o.offset=h)),"offset"in o&&((l.byterange=t).offset=o.offset),h=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<o.duration&&(l.duration=o.duration),0===o.duration&&(l.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(o.attributes)if("NONE"!==o.attributes.METHOD)if(o.attributes.URI){if("com.apple.streamingkeydelivery"===o.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:o.attributes});if("com.microsoft.playready"===o.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:o.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===o.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(o.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===o.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==o.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):o.attributes.KEYID&&"0x"===o.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:o.attributes.KEYFORMAT,keyId:o.attributes.KEYID.substring(2)},pssh:rr(o.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));o.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:o.attributes.METHOD||"AES-128",uri:o.attributes.URI},void 0!==o.attributes.IV&&(r.iv=o.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(o.number)?this.manifest.mediaSequence=o.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+o.number})},"discontinuity-sequence":function(){isFinite(o.number)?(this.manifest.discontinuitySequence=o.number,d=o.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+o.number})},"playlist-type":function(){/VOD|EVENT/.test(o.playlistType)?this.manifest.playlistType=o.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+o.playlist})},map:function(){n={},o.uri&&(n.uri=o.uri),o.byterange&&(n.byterange=o.byterange),r&&(n.key=r)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||u,o.attributes?(l.attributes||(l.attributes={}),m(l.attributes,o.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){var t;this.manifest.mediaGroups=this.manifest.mediaGroups||u,o.attributes&&o.attributes.TYPE&&o.attributes["GROUP-ID"]&&o.attributes.NAME?((t=this.manifest.mediaGroups[o.attributes.TYPE])[o.attributes["GROUP-ID"]]=t[o.attributes["GROUP-ID"]]||{},e=t[o.attributes["GROUP-ID"]],(i={default:/yes/i.test(o.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(o.attributes.AUTOSELECT),o.attributes.LANGUAGE&&(i.language=o.attributes.LANGUAGE),o.attributes.URI&&(i.uri=o.attributes.URI),o.attributes["INSTREAM-ID"]&&(i.instreamId=o.attributes["INSTREAM-ID"]),o.attributes.CHARACTERISTICS&&(i.characteristics=o.attributes.CHARACTERISTICS),o.attributes.FORCED&&(i.forced=/yes/i.test(o.attributes.FORCED)),e[o.attributes.NAME]=i):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){d+=1,l.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=o.dateTimeString,this.manifest.dateTimeObject=o.dateTimeObject),l.dateTimeString=o.dateTimeString,l.dateTimeObject=o.dateTimeObject},targetduration:function(){!isFinite(o.duration)||o.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+o.duration}):(this.manifest.targetDuration=o.duration,lr.call(this,this.manifest))},start:function(){o.attributes&&!isNaN(o.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:o.attributes["TIME-OFFSET"],precise:o.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){l.cueOut=o.data},"cue-out-cont":function(){l.cueOutCont=o.data},"cue-in":function(){l.cueIn=o.data},skip:function(){this.manifest.skip=ar(o.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",o.attributes,["SKIPPED-SEGMENTS"])},part:function(){var i=this;c=!0;var t=this.manifest.segments.length,e=ar(o.attributes);l.parts=l.parts||[],l.parts.push(e),e.byterange&&(e.byterange.hasOwnProperty("offset")||(e.byterange.offset=p),p=e.byterange.offset+e.byterange.length);var n=l.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+n+" for segment #"+t,o.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(t,e){t.hasOwnProperty("lastPart")||i.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+e+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var t=this.manifest.serverControl=ar(o.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),lr.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,e=ar(o.attributes),i=e.type&&"PART"===e.type;l.preloadHints=l.preloadHints||[],l.preloadHints.push(e),e.byterange&&(e.byterange.hasOwnProperty("offset")||(e.byterange.offset=i?p:0,i&&(p=e.byterange.offset+e.byterange.length)));var n=l.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+n+" for segment #"+t,o.attributes,["TYPE","URI"]),e.type)for(var r=0;r<l.preloadHints.length-1;r++){var s=l.preloadHints[r];s.type&&s.type===e.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+n+" for segment #"+t+" has the same TYPE "+e.type+" as preload hint #"+r})}},"rendition-report":function(){var t=ar(o.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var e=this.manifest.renditionReports.length-1,t=["LAST-MSN","URI"];c&&t.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+e,o.attributes,t)},"part-inf":function(){this.manifest.partInf=ar(o.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",o.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),lr.call(this,this.manifest)}}[o.tagType]||function(){}).call(s)},uri:function(){l.uri=o.uri,a.push(l),!this.manifest.targetDuration||"duration"in l||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),l.duration=this.manifest.targetDuration),r&&(l.key=r),l.timeline=d,n&&(l.map=n),p=0,l={}},comment:function(){},custom:function(){o.segment?(l.custom=l.custom||{},l.custom[o.customType]=o.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[o.customType]=o.data)}})[o.type].call(s)}),t}fe(t,e);var i=t.prototype;return i.warnOnMissingAttributes_=function(t,e,i){var n=[];i.forEach(function(t){e.hasOwnProperty(t)||n.push(t)}),n.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+n.join(", ")})},i.push=function(t){this.lineStream.push(t)},i.end=function(){this.lineStream.push("\n"),this.trigger("end")},i.addParser=function(t){this.parseStream.addParser(t)},i.addTagMapper=function(t){this.parseStream.addTagMapper(t)},t}(ir),_r={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Tr=["video","audio","text"],wr=["Video","Audio","Text"],Sr=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,i){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})},xr=function(t){var t=(t=void 0===t?"":t).split(","),s=[];return t.forEach(function(n){var r;n=n.trim(),Tr.forEach(function(t){var e,i=_r[t].exec(n.toLowerCase());!i||i.length<=1||(r=t,e=n.substring(0,i[1].length),i=n.replace(e,""),s.push({type:e,details:i,mediaType:t}))}),r||s.push({type:n,details:"",mediaType:"unknown"})}),s},Cr=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase().split(",").map(function(t){return Sr(t.trim())}),i="video";1===e.length&&cr(e[0])?i="audio":1===e.length&&(n=e[0],_r.text.test((n=void 0===n?"":n).trim().toLowerCase()))&&(i="application");var n="mp4";return e.every(function(t){return _r.mp4.test(t)})?n="mp4":e.every(function(t){return _r.webm.test(t)})?n="webm":e.every(function(t){return _r.ogg.test(t)})&&(n="ogg"),i+"/"+n+';codecs="'+t+'"'}},kr=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Er=/^application\/dash\+xml/i,Ar=function(t){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},Ir=function(t){return t instanceof Uint8Array?t:(Array.isArray(t)||Ar(t)||t instanceof ArrayBuffer||(t="number"!=typeof t||"number"==typeof t&&t!=t?0:[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},Pr=window.BigInt||Number,Dr=[Pr("0x1"),Pr("0x100"),Pr("0x10000"),Pr("0x1000000"),Pr("0x100000000"),Pr("0x10000000000"),Pr("0x1000000000000"),Pr("0x100000000000000"),Pr("0x10000000000000000")],Or=function(n,t){var e=void 0===t?{}:t,t=e.signed,t=void 0!==t&&t,e=e.le,r=void 0!==e&&e;n=Ir(n);e=r?"reduce":"reduceRight",e=(n[e]||Array.prototype[e]).call(n,function(t,e,i){i=r?i:Math.abs(i+1-n.length);return t+Pr(e)*Dr[i]},Pr(0));return!t||(t=Dr[n.length]/Pr(2)-Pr(1))<(e=Pr(e))&&(e-=t,e-=t,e-=Pr(2)),Number(e)},Lr=function(i,t,e){var n=void 0===e?{}:e,e=n.offset,r=void 0===e?0:e,n=n.mask,s=void 0===n?[]:n;i=Ir(i);n=(t=Ir(t)).every||Array.prototype.every;return t.length&&i.length-r>=t.length&&n.call(t,function(t,e){return t===(s[e]?s[e]&i[r+e]:i[r+e])})};function Mr(t,e){return(e=void 0===e?Object:e)&&"function"==typeof e.freeze?e.freeze(t):t}var Nr=Mr({HTML:"text/html",isHTML:function(t){return t===Nr.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Rr=Mr({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===Rr.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),Fr={freeze:Mr,MIME_TYPE:Nr,NAMESPACE:Rr},jr=Fr.NAMESPACE;function Ur(t){return""!==t}function Br(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function $r(t){if(!t)return[];t=(t=t)?t.split(/[\t\n\f\r ]+/).filter(Ur):[];return Object.keys(t.reduce(Br,{}))}function Hr(t,e){for(var i in t)e[i]=t[i]}function qr(t,e){var i,n=t.prototype;n instanceof e||((i=function(){}).prototype=e.prototype,Hr(n,i=new i),t.prototype=n=i),n.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),n.constructor=t)}var H={},ii=(H.ELEMENT_NODE=1,H.ATTRIBUTE_NODE=2,H.TEXT_NODE=3,H.CDATA_SECTION_NODE=4,H.ENTITY_REFERENCE_NODE=5,H.ENTITY_NODE=6,H.PROCESSING_INSTRUCTION_NODE=7,H.COMMENT_NODE=8,H.DOCUMENT_NODE=9,H.DOCUMENT_TYPE_NODE=10,H.DOCUMENT_FRAGMENT_NODE=11,H.NOTATION_NODE=12,{}),Wr={};ii.INDEX_SIZE_ERR=(Wr[1]="Index size error",1),ii.DOMSTRING_SIZE_ERR=(Wr[2]="DOMString size error",2);ii.HIERARCHY_REQUEST_ERR=(Wr[3]="Hierarchy request error",3);ii.WRONG_DOCUMENT_ERR=(Wr[4]="Wrong document",4),ii.INVALID_CHARACTER_ERR=(Wr[5]="Invalid character",5),ii.NO_DATA_ALLOWED_ERR=(Wr[6]="No data allowed",6),ii.NO_MODIFICATION_ALLOWED_ERR=(Wr[7]="No modification allowed",7);ii.NOT_FOUND_ERR=(Wr[8]="Not found",8);ii.NOT_SUPPORTED_ERR=(Wr[9]="Not supported",9);var zr;ii.INUSE_ATTRIBUTE_ERR=(Wr[10]="Attribute in use",10);function Vr(t,e){var i;return e instanceof Error?i=e:(i=this,Error.call(this,Wr[t]),this.message=Wr[t],Error.captureStackTrace&&Error.captureStackTrace(this,Vr)),i.code=t,e&&(this.message=this.message+": "+e),i}function Gr(){}function Xr(t,e){this._node=t,this._refresh=e,Yr(this)}function Yr(t){var e,i=t._node._inc||t._node.ownerDocument._inc;t._inc!=i&&(e=t._refresh(t._node),ks(t,"length",e.length),Hr(e,t),t._inc=i)}function Kr(){}function Qr(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function Zr(t,e,i,n){n?e[Qr(e,n)]=i:e[e.length++]=i,!t||(e=(i.ownerElement=t).ownerDocument)&&(n&&ss(e,t,n),t=t,i=i,(e=e)&&e._inc++,i.namespaceURI===jr.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value))}function Jr(t,e,i){var n=Qr(e,i);if(!(0<=n))throw Vr(8,new Error(t.tagName+"@"+i));for(var r,s=e.length-1;n<s;)e[n]=e[++n];e.length=s,!t||(r=t.ownerDocument)&&(ss(r,t,i),i.ownerElement=null)}function ts(){}function es(){}function is(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function ns(t,e){if(e(t))return 1;if(t=t.firstChild)do{if(ns(t,e))return 1}while(t=t.nextSibling)}function rs(){}function ss(t,e,i){t&&t._inc++,i.namespaceURI===jr.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function os(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var r=e.firstChild,s=0;r;)r=(n[s++]=r).nextSibling;n.length=s}}}function as(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,os(t.ownerDocument,t),e}function ls(t,e,i){var n=e.parentNode;if(n&&n.removeChild(e),11===e.nodeType){var r=e.firstChild;if(null==r)return e;var s=e.lastChild}else r=s=e;n=i?i.previousSibling:t.lastChild;for(r.previousSibling=n,s.nextSibling=i,n?n.nextSibling=r:t.firstChild=r,null==i?t.lastChild=s:i.previousSibling=s;r.parentNode=t,r!==s&&(r=r.nextSibling););return os(t.ownerDocument||t,t),11==e.nodeType&&(e.firstChild=e.lastChild=null),e}function cs(){this._nsMap={}}function us(){}function ds(){}function hs(){}function ps(){}function fs(){}function ms(){}function gs(){}function ys(){}function vs(){}function bs(){}function _s(){}function Ts(){}function ws(t,e){var i,n=[],r=9==this.nodeType&&this.documentElement||this,s=r.prefix,o=r.namespaceURI;return Cs(this,n,t,e,i=o&&null==s&&null==(s=r.lookupPrefix(o))?[{namespace:o,prefix:null}]:i),n.join("")}function Ss(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(r&&("xml"!==n||r!==jr.XML)&&r!==jr.XMLNS){for(var s=i.length;s--;){var o=i[s];if(o.prefix===n)return o.namespace!==r}return 1}}function xs(t,e,i){t.push(" ",e,'="',i.replace(/[<&"]/g,is),'"')}function Cs(t,e,i,n,r){if(r=r||[],n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case 1:var s=t.attributes,o=s.length,a=t.firstChild,l=t.tagName,c=l;if(!(i=jr.isHTML(t.namespaceURI)||i)&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<s.length;d++)if("xmlns"===s.item(d).name){u=s.item(d).value;break}if(!u)for(var h=r.length-1;0<=h;h--)if(""===(p=r[h]).prefix&&p.namespace===t.namespaceURI){u=p.namespace;break}if(u!==t.namespaceURI)for(var p,h=r.length-1;0<=h;h--)if((p=r[h]).namespace===t.namespaceURI){p.prefix&&(c=p.prefix+":"+l);break}}e.push("<",c);for(var f=0;f<o;f++)"xmlns"==(m=s.item(f)).prefix?r.push({prefix:m.localName,namespace:m.value}):"xmlns"==m.nodeName&&r.push({prefix:"",namespace:m.value});for(var m,g,y,f=0;f<o;f++)Ss(m=s.item(f),0,r)&&(xs(e,(g=m.prefix||"")?"xmlns:"+g:"xmlns",y=m.namespaceURI),r.push({prefix:g,namespace:y})),Cs(m,e,i,n,r);if(l===c&&Ss(t,0,r)&&(xs(e,(g=t.prefix||"")?"xmlns:"+g:"xmlns",y=t.namespaceURI),r.push({prefix:g,namespace:y})),a||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),i&&/^script$/i.test(l))for(;a;)a.data?e.push(a.data):Cs(a,e,i,n,r.slice()),a=a.nextSibling;else for(;a;)Cs(a,e,i,n,r.slice()),a=a.nextSibling;e.push("</",c,">")}else e.push("/>");return;case 9:case 11:for(a=t.firstChild;a;)Cs(a,e,i,n,r.slice()),a=a.nextSibling;return;case 2:return xs(e,t.name,t.value),0;case 3:return e.push(t.data.replace(/[<&]/g,is).replace(/]]>/g,"]]&gt;"));case 4:return e.push("<![CDATA[",t.data,"]]>");case 8:return e.push("\x3c!--",t.data,"--\x3e");case 10:var v=t.publicId,b=t.systemId;return e.push("<!DOCTYPE ",t.name),void(v?(e.push(" PUBLIC ",v),b&&"."!=b&&e.push(" ",b),e.push(">")):b&&"."!=b?e.push(" SYSTEM ",b,">"):((b=t.internalSubset)&&e.push(" [",b,"]"),e.push(">")));case 7:return e.push("<?",t.target," ",t.data,"?>");case 5:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function ks(t,e,i){t[e]=i}ii.INVALID_STATE_ERR=(Wr[11]="Invalid state",11),ii.SYNTAX_ERR=(Wr[12]="Syntax error",12),ii.INVALID_MODIFICATION_ERR=(Wr[13]="Invalid modification",13),ii.NAMESPACE_ERR=(Wr[14]="Invalid namespace",14),ii.INVALID_ACCESS_ERR=(Wr[15]="Invalid access",15),Vr.prototype=Error.prototype,Hr(ii,Vr),Gr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)Cs(this[n],i,t,e);return i.join("")}},Xr.prototype.item=function(t){return Yr(this),this[t]},qr(Xr,Gr),Kr.prototype={length:0,item:Gr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Vr(10);e=this.getNamedItem(t.nodeName);return Zr(this._ownerElement,this,t,e),e},setNamedItemNS:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Vr(10);return e=this.getNamedItemNS(t.namespaceURI,t.localName),Zr(this._ownerElement,this,t,e),e},removeNamedItem:function(t){t=this.getNamedItem(t);return Jr(this._ownerElement,this,t),t},removeNamedItemNS:function(t,e){e=this.getNamedItemNS(t,e);return Jr(this._ownerElement,this,e),e},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}},ts.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var n=new rs;return n.implementation=this,n.childNodes=new Gr,n.doctype=i||null,i&&n.appendChild(i),e&&(e=n.createElementNS(t,e),n.appendChild(e)),n},createDocumentType:function(t,e,i){var n=new ms;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=i||"",n}},es.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return ls(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return as(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,i,n){var r=new i.constructor;for(var s in i){var o=i[s];"object"!=typeof o&&o!=r[s]&&(r[s]=o)}i.childNodes&&(r.childNodes=new Gr);r.ownerDocument=e;switch(r.nodeType){case 1:var a=i.attributes,l=r.attributes=new Kr,c=a.length;l._ownerElement=r;for(var u=0;u<c;u++)r.setAttributeNode(t(e,a.item(u),!0));break;case 2:n=!0}if(n)for(var d=i.firstChild;d;)r.appendChild(t(e,d,n)),d=d.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&3==e.nodeType&&3==t.nodeType?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i)for(var n in i)if(i[n]==t)return n;e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&t in i)return i[t];e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},Hr(H,es),Hr(H,es.prototype),rs.prototype={nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(11!=t.nodeType)return null==this.documentElement&&1==t.nodeType&&(this.documentElement=t),ls(this,t,e),t.ownerDocument=this,t;for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),as(this,t)},importNode:function(t,e){return function t(e,i,n){var r;switch(i.nodeType){case 1:(r=i.cloneNode(!1)).ownerDocument=e;case 11:break;case 2:n=!0}r=r||i.cloneNode(!1);r.ownerDocument=e;r.parentNode=null;if(n)for(var s=i.firstChild;s;)r.appendChild(t(e,s,n)),s=s.nextSibling;return r}(this,t,e)},getElementById:function(e){var i=null;return ns(this.documentElement,function(t){if(1==t.nodeType&&t.getAttribute("id")==e)return i=t,!0}),i},getElementsByClassName:function(o){var a=$r(o);return new Xr(this,function(r){var s=[];return 0<a.length&&ns(r.documentElement,function(t){var e,i,n;t===r||1!==t.nodeType||(e=t.getAttribute("class"))&&((i=o===e)||(e=$r(e),i=a.every((n=e,function(t){return n&&-1!==n.indexOf(t)}))),i&&s.push(t))}),s})},createElement:function(t){var e=new cs;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Gr,(e.attributes=new Kr)._ownerElement=e},createDocumentFragment:function(){var t=new bs;return t.ownerDocument=this,t.childNodes=new Gr,t},createTextNode:function(t){var e=new hs;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new ps;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new fs;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new _s;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new us;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new vs;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new cs,n=e.split(":"),r=i.attributes=new Kr;return i.childNodes=new Gr,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i},createAttributeNS:function(t,e){var i=new us,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}},qr(rs,es),rs.prototype.getElementsByTagName=(cs.prototype={nodeType:1,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){t=this.getAttributeNode(t);return t&&t.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){t=this.ownerDocument.createAttribute(t);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(t){t=this.getAttributeNode(t);t&&this.removeAttributeNode(t)},appendChild:function(t){return 11===t.nodeType?this.insertBefore(t,null):function(t,e){var i=e.parentNode;i&&(n=t.lastChild,i.removeChild(e),n=t.lastChild);var n=t.lastChild;return e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,os(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){e=this.getAttributeNodeNS(t,e);e&&this.removeAttributeNode(e)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){e=this.getAttributeNodeNS(t,e);return e&&e.value||""},setAttributeNS:function(t,e,i){e=this.ownerDocument.createAttributeNS(t,e);e.value=e.nodeValue=""+i,this.setAttributeNode(e)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(n){return new Xr(this,function(e){var i=[];return ns(e,function(t){t===e||1!=t.nodeType||"*"!==n&&t.tagName!=n||i.push(t)}),i})},getElementsByTagNameNS:function(n,r){return new Xr(this,function(e){var i=[];return ns(e,function(t){t===e||1!==t.nodeType||"*"!==n&&t.namespaceURI!==n||"*"!==r&&t.localName!=r||i.push(t)}),i})}}).getElementsByTagName,rs.prototype.getElementsByTagNameNS=cs.prototype.getElementsByTagNameNS,qr(cs,es),us.prototype.nodeType=2,qr(us,es),ds.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Wr[3])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),e=this.data.substring(t+e);this.nodeValue=this.data=i=n+i+e,this.length=i.length}},qr(ds,es),hs.prototype={nodeName:"#text",nodeType:3,splitText:function(t){var e=(i=this.data).substring(t),i=i.substring(0,t);this.data=this.nodeValue=i,this.length=i.length;e=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling),e}},qr(hs,ds),ps.prototype={nodeName:"#comment",nodeType:8},qr(ps,ds),fs.prototype={nodeName:"#cdata-section",nodeType:4},qr(fs,ds),ms.prototype.nodeType=10,qr(ms,es),gs.prototype.nodeType=12,qr(gs,es),ys.prototype.nodeType=6,qr(ys,es),vs.prototype.nodeType=5,qr(vs,es),bs.prototype.nodeName="#document-fragment",bs.prototype.nodeType=11,qr(bs,es),_s.prototype.nodeType=7,qr(_s,es),Ts.prototype.serializeToString=function(t,e,i){return ws.call(t,e,i)},es.prototype.toString=ws;try{Object.defineProperty&&(zr=function t(e){switch(e.nodeType){case 1:case 11:var i=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}},Object.defineProperty(Xr.prototype,"length",{get:function(){return Yr(this),this.$$length}}),Object.defineProperty(es.prototype,"textContent",{get:function(){return zr(this)},set:function(t){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ks=function(t,e,i){t["$$"+e]=i})}catch(t){}var ae={DocumentType:ms,DOMException:Vr,DOMImplementation:ts,Element:cs,Node:es,NodeList:Gr,XMLSerializer:Ts},Es=p(function(t,e){var i=Fr.freeze;e.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"Ã",Aacute:"Ã",Acirc:"Ã",Atilde:"Ã",Auml:"Ã",Aring:"Ã",AElig:"Ã",Ccedil:"Ã",Egrave:"Ã",Eacute:"Ã",Ecirc:"Ã",Euml:"Ã",Igrave:"Ã",Iacute:"Ã",Icirc:"Ã",Iuml:"Ã",ETH:"Ã",Ntilde:"Ã",Ograve:"Ã",Oacute:"Ã",Ocirc:"Ã",Otilde:"Ã",Ouml:"Ã",Oslash:"Ã",Ugrave:"Ã",Uacute:"Ã",Ucirc:"Ã",Uuml:"Ã",Yacute:"Ã",THORN:"Ã",szlig:"Ã",agrave:"Ã ",aacute:"Ã¡",acirc:"Ã¢",atilde:"Ã£",auml:"Ã¤",aring:"Ã¥",aelig:"Ã¦",ccedil:"Ã§",egrave:"Ã¨",eacute:"Ã©",ecirc:"Ãª",euml:"Ã«",igrave:"Ã¬",iacute:"Ã­",icirc:"Ã®",iuml:"Ã¯",eth:"Ã°",ntilde:"Ã±",ograve:"Ã²",oacute:"Ã³",ocirc:"Ã´",otilde:"Ãµ",ouml:"Ã¶",oslash:"Ã¸",ugrave:"Ã¹",uacute:"Ãº",ucirc:"Ã»",uuml:"Ã¼",yacute:"Ã½",thorn:"Ã¾",yuml:"Ã¿",nbsp:"Â ",iexcl:"Â¡",cent:"Â¢",pound:"Â£",curren:"Â¤",yen:"Â¥",brvbar:"Â¦",sect:"Â§",uml:"Â¨",copy:"Â©",ordf:"Âª",laquo:"Â«",not:"Â¬",shy:"Â­Â­",reg:"Â®",macr:"Â¯",deg:"Â°",plusmn:"Â±",sup2:"Â²",sup3:"Â³",acute:"Â´",micro:"Âµ",para:"Â¶",middot:"Â·",cedil:"Â¸",sup1:"Â¹",ordm:"Âº",raquo:"Â»",frac14:"Â¼",frac12:"Â½",frac34:"Â¾",iquest:"Â¿",times:"Ã",divide:"Ã·",forall:"â",part:"â",exist:"â",empty:"â",nabla:"â",isin:"â",notin:"â",ni:"â",prod:"â",sum:"â",minus:"â",lowast:"â",radic:"â",prop:"â",infin:"â",ang:"â ",and:"â§",or:"â¨",cap:"â©",cup:"âª",int:"â«",there4:"â´",sim:"â¼",cong:"â",asymp:"â",ne:"â ",equiv:"â¡",le:"â¤",ge:"â¥",sub:"â",sup:"â",nsub:"â",sube:"â",supe:"â",oplus:"â",otimes:"â",perp:"â¥",sdot:"â",Alpha:"Î",Beta:"Î",Gamma:"Î",Delta:"Î",Epsilon:"Î",Zeta:"Î",Eta:"Î",Theta:"Î",Iota:"Î",Kappa:"Î",Lambda:"Î",Mu:"Î",Nu:"Î",Xi:"Î",Omicron:"Î",Pi:"Î ",Rho:"Î¡",Sigma:"Î£",Tau:"Î¤",Upsilon:"Î¥",Phi:"Î¦",Chi:"Î§",Psi:"Î¨",Omega:"Î©",alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",epsilon:"Îµ",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",lambda:"Î»",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",pi:"Ï",rho:"Ï",sigmaf:"Ï",sigma:"Ï",tau:"Ï",upsilon:"Ï",phi:"Ï",chi:"Ï",psi:"Ï",omega:"Ï",thetasym:"Ï",upsih:"Ï",piv:"Ï",OElig:"Å",oelig:"Å",Scaron:"Å ",scaron:"Å¡",Yuml:"Å¸",fnof:"Æ",circ:"Ë",tilde:"Ë",ensp:"â",emsp:"â",thinsp:"â",zwnj:"â",zwj:"â",lrm:"â",rlm:"â",ndash:"â",mdash:"â",lsquo:"â",rsquo:"â",sbquo:"â",ldquo:"â",rdquo:"â",bdquo:"â",dagger:"â ",Dagger:"â¡",bull:"â¢",hellip:"â¦",permil:"â°",prime:"â²",Prime:"â³",lsaquo:"â¹",rsaquo:"âº",oline:"â¾",euro:"â¬",trade:"â¢",larr:"â",uarr:"â",rarr:"â",darr:"â",harr:"â",crarr:"âµ",lceil:"â",rceil:"â",lfloor:"â",rfloor:"â",loz:"â",spades:"â ",clubs:"â£",hearts:"â¥",diams:"â¦"}),e.entityMap=e.HTML_ENTITIES});Es.XML_ENTITIES,Es.HTML_ENTITIES,Es.entityMap;var As=Fr.NAMESPACE,C=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ir=new RegExp("[\\-\\.0-9"+C.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Is=new RegExp("^"+C.source+ir.source+"*(?::"+C.source+ir.source+"*)?$"),Ps=0,Ds=1,Os=2,Ls=3,Ms=4,Ns=5,Rs=6,Fs=7;function js(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,js)}function Us(){}function Bs(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function $s(t,e,i){for(var n=t.tagName,r=null,s=t.length;s--;){var o=t[s],a=o.qName,l=o.value,a=0<(u=a.indexOf(":"))?(c=o.prefix=a.slice(0,u),d=a.slice(u+1),"xmlns"===c&&d):(c=null,"xmlns"===(d=a)&&"");o.localName=d,!1!==a&&(null==r&&(r={},Hs(i,i={})),i[a]=r[a]=l,o.uri=As.XMLNS,e.startPrefixMapping(a,l))}for(var c,s=t.length;s--;)(c=(o=t[s]).prefix)&&("xml"===c&&(o.uri=As.XML),"xmlns"!==c&&(o.uri=i[c||""]));var u,d=0<(u=n.indexOf(":"))?(c=t.prefix=n.slice(0,u),t.localName=n.slice(u+1)):(c=null,t.localName=n),h=t.uri=i[c||""];if(e.startElement(h,d,n,t),!t.closed)return t.currentNSMap=i,t.localNSMap=r,1;if(e.endElement(h,d,n),r)for(c in r)e.endPrefixMapping(c)}function Hs(t,e){for(var i in t)e[i]=t[i]}function qs(){this.attributeNames={}}(js.prototype=new Error).name=js.name,Us.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),Hs(e,e={}),function(i,t,n,r,s){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?65535<(e=parseInt(e.substr(1).replace("x","0x")))?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):String.fromCharCode(e):(s.error("entity not found:"+t),t)}function e(t){var e;f<t&&(e=i.substring(f,t).replace(/&#?\w+;/g,o),d&&a(f),r.characters(e,0,t-f),f=t)}function a(t,e){for(;c<=t&&(e=u.exec(i));)l=e.index,c=l+e[0].length,d.lineNumber++;d.columnNumber=t-l+1}var l=0,c=0,u=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,h=[{currentNSMap:t}],p={},f=0;for(;;){try{var m,g,y=i.indexOf("<",f);if(y<0)return i.substr(f).match(/^\s*$/)||(m=r.doc,g=m.createTextNode(i.substr(f)),m.appendChild(g),r.currentElement=g);switch(f<y&&e(y),i.charAt(y+1)){case"/":var v=i.indexOf(">",y+3),b=i.substring(y+2,v).replace(/[ \t\n\r]+$/g,""),_=h.pop();v<0?(b=i.substring(y+2).replace(/[\s<].*/,""),s.error("end tag name: "+b+" is not complete:"+_.tagName),v=y+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),s.error("end tag name: "+b+" maybe not complete"),v=y+1+b.length);var T=_.localNSMap,w=_.tagName==b;if(w||_.tagName&&_.tagName.toLowerCase()==b.toLowerCase()){if(r.endElement(_.uri,_.localName,b),T)for(var S in T)r.endPrefixMapping(S);w||s.fatalError("end tag name: "+b+" is not match the current start tagName:"+_.tagName)}else h.push(_);v++;break;case"?":d&&a(y),v=function(t,e,i){var n=t.indexOf("?>",e);if(n){e=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return e?(e[0].length,i.processingInstruction(e[1],e[2]),n+2):-1}return-1}(i,y,r);break;case"!":d&&a(y),v=function(t,e,i,n){{if("-"===t.charAt(e+2)){if("-"!==t.charAt(e+3))return-1;var r=t.indexOf("--\x3e",e+4);return e<r?(i.comment(t,e+4,r-e-4),r+3):(n.error("Unclosed comment"),-1)}if("CDATA["==t.substr(e+3,6)){r=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,r-e-9),i.endCDATA(),r+3}var s=function(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=e,r.exec(t);for(;i=r.exec(t);)if(n.push(i),i[1])return n}(t,e),n=s.length;if(1<n&&/!doctype/i.test(s[0][0])){r=s[1][0],t=!1,e=!1;3<n&&(/^public$/i.test(s[2][0])?(t=s[3][0],e=4<n&&s[4][0]):/^system$/i.test(s[2][0])&&(e=s[3][0]));n=s[n-1];return i.startDTD(r,t,e),i.endDTD(),n.index+n[0].length}}return-1}(i,y,r,s);break;default:d&&a(y);var x=new qs,C=h[h.length-1].currentNSMap,v=function(t,e,n,i,r,s){function o(t,e,i){n.attributeNames.hasOwnProperty(t)&&s.fatalError("Attribute "+t+" redefined"),n.addValue(t,e,i)}var a,l=++e,c=Ps;for(;;){var u=t.charAt(l);switch(u){case"=":if(c===Ds)a=t.slice(e,l),c=Ls;else{if(c!==Os)throw new Error("attribute equal must after attrName");c=Ls}break;case"'":case'"':if(c===Ls||c===Ds){if(c===Ds&&(s.warning('attribute value must after "="'),a=t.slice(e,l)),e=l+1,!(0<(l=t.indexOf(u,e))))throw new Error("attribute value no end '"+u+"' match");d=t.slice(e,l).replace(/&#?\w+;/g,r),o(a,d,e-1),c=Ns}else{if(c!=Ms)throw new Error('attribute value must after "="');d=t.slice(e,l).replace(/&#?\w+;/g,r),o(a,d,e),s.warning('attribute "'+a+'" missed start quot('+u+")!!"),e=l+1,c=Ns}break;case"/":switch(c){case Ps:n.setTagName(t.slice(e,l));case Ns:case Rs:case Fs:c=Fs,n.closed=!0;case Ms:case Ds:case Os:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==Ps&&n.setTagName(t.slice(e,l)),l;case">":switch(c){case Ps:n.setTagName(t.slice(e,l));case Ns:case Rs:case Fs:break;case Ms:case Ds:"/"===(d=t.slice(e,l)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case Os:c===Os&&(d=a),c==Ms?(s.warning('attribute "'+d+'" missed quot(")!'),o(a,d.replace(/&#?\w+;/g,r),e)):(As.isHTML(i[""])&&d.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),o(d,d,e));break;case Ls:throw new Error("attribute value missed!!")}return l;case"Â":u=" ";default:if(u<=" ")switch(c){case Ps:n.setTagName(t.slice(e,l)),c=Rs;break;case Ds:a=t.slice(e,l),c=Os;break;case Ms:var d=t.slice(e,l).replace(/&#?\w+;/g,r);s.warning('attribute "'+d+'" missed quot(")!!'),o(a,d,e);case Ns:c=Rs}else switch(c){case Os:n.tagName,As.isHTML(i[""])&&a.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),o(a,a,e),e=l,c=Ds;break;case Ns:s.warning('attribute space is required"'+a+'"!!');case Rs:c=Ds,e=l;break;case Ls:c=Ms,e=l;break;case Fs:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}(i,y,x,C,o,s),k=x.length;if(!x.closed&&function(t,e,i,n){var r=n[i];null==r&&((r=t.lastIndexOf("</"+i+">"))<e&&(r=t.lastIndexOf("</"+i)),n[i]=r);return r<e}(i,v,x.tagName,p)&&(x.closed=!0,n.nbsp||s.warning("unclosed xml attribute")),d&&k){for(var E=Bs(d,{}),A=0;A<k;A++){var I=x[A];a(I.offset),I.locator=Bs(d,{})}r.locator=E,$s(x,r,C)&&h.push(x),r.locator=d}else $s(x,r,C)&&h.push(x);As.isHTML(x.uri)&&!x.closed?v=function(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var s=t.indexOf("</"+i+">",e),t=t.substring(e+1,s);if(/[&<]/.test(t))return/^script$/i.test(i)||(t=t.replace(/&#?\w+;/g,n)),r.characters(t,0,t.length),s}return e+1}(i,v,x.tagName,o,r):v++}}catch(t){if(t instanceof js)throw t;s.error("element parse error: "+t),v=-1}f<v?f=v:e(Math.max(y,f)+1)}}(t,e,i,n,this.errorHandler),n.endDocument()}},qs.prototype={setTagName:function(t){if(!Is.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!Is.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};var ii={XMLReader:Us,ParseError:js},Ws=ae.DOMImplementation,zs=Fr.NAMESPACE,Vs=ii.ParseError,Gs=ii.XMLReader;function Xs(t){this.options=t||{locator:{}}}function Ys(){this.cdata=!1}function Ks(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function Qs(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function Zs(t,e,i){return"string"==typeof t?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}function Js(t,e){(t.currentElement||t.doc).appendChild(e)}Xs.prototype.parseFromString=function(t,e){var i=this.options,n=new Gs,r=i.domBuilder||new Ys,s=i.errorHandler,o=i.locator,a=i.xmlns||{},l=/\/x?html?$/.test(e),e=l?Es.HTML_ENTITIES:Es.XML_ENTITIES;return o&&r.setDocumentLocator(o),n.errorHandler=function(n,t,r){if(!n){if(t instanceof Ys)return t;n=t}var s={},o=n instanceof Function;function e(e){var i=n[e];!i&&o&&(i=2==n.length?function(t){n(e,t)}:n),s[e]=i?function(t){i("[xmldom "+e+"]\t"+t+Qs(r))}:function(){}}return r=r||{},e("warning"),e("error"),e("fatalError"),s}(s,r,o),n.domBuilder=i.domBuilder||r,l&&(a[""]=zs.HTML),a.xml=a.xml||zs.XML,t&&"string"==typeof t?n.parse(t,a,e):n.errorHandler.error("invalid doc source"),r.doc},Ys.prototype={startDocument:function(){this.doc=(new Ws).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var r=this.doc,s=r.createElementNS(t,i||e),o=n.length;Js(this,s),this.currentElement=s,this.locator&&Ks(this.locator,s);for(var a=0;a<o;a++){var t=n.getURI(a),l=n.getValue(a),i=n.getQName(a),c=r.createAttributeNS(t,i);this.locator&&Ks(n.getLocator(a),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){e=this.doc.createProcessingInstruction(t,e);this.locator&&Ks(this.locator,e),Js(this,e)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){var n;(t=Zs.apply(this,arguments))&&(n=this.cdata?this.doc.createCDATASection(t):this.doc.createTextNode(t),this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&Ks(this.locator,n))},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=Zs.apply(this,arguments);t=this.doc.createComment(t);this.locator&&Ks(this.locator,t),Js(this,t)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;n&&n.createDocumentType&&(i=n.createDocumentType(t,e,i),this.locator&&Ks(this.locator,i),Js(this,i),this.doc.doctype=i)},warning:function(t){console.warn("[xmldom warning]\t"+t,Qs(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,Qs(this.locator))},fatalError:function(t){throw new Vs(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Ys.prototype[t]=function(){return null}});function to(t){return!!t&&"object"==typeof t}function eo(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce(function(e,i){return"object"!=typeof i||Object.keys(i).forEach(function(t){Array.isArray(e[t])&&Array.isArray(i[t])?e[t]=e[t].concat(i[t]):to(e[t])&&to(i[t])?e[t]=eo(e[t],i[t]):e[t]=i[t]}),e},{})}function io(e){return Object.keys(e).map(function(t){return e[t]})}function no(t){return t.reduce(function(t,e){return t.concat(e)},[])}function ro(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}function so(t,e){for(var i=0;i<t.length;i++)if(e(t[i]))return i;return-1}function oo(t){var e=t.baseUrl,i=void 0===(n=t.source)?"":n,n=void 0===(n=t.range)?"":n,t=void 0===(t=t.indexRange)?"":t,i={uri:i,resolvedUri:Jn((void 0===e?"":e)||"",i)};return(n||t)&&(n=(n||t).split("-"),t=window.BigInt?window.BigInt(n[0]):parseInt(n[0],10),n=window.BigInt?window.BigInt(n[1]):parseInt(n[1],10),t<Number.MAX_SAFE_INTEGER&&"bigint"==typeof t&&(t=Number(t)),"bigint"==typeof(n="bigint"==typeof(n=n<Number.MAX_SAFE_INTEGER&&"bigint"==typeof n?Number(n):n)||"bigint"==typeof t?window.BigInt(n)-window.BigInt(t)+window.BigInt(1):n-t+1)&&n<Number.MAX_SAFE_INTEGER&&(n=Number(n)),i.byterange={length:n,offset:t}),i}function ao(t){return t&&"number"!=typeof t&&(t=parseInt(t,10)),isNaN(t)?null:t}function lo(t){var s,e=t.type,i=t.duration,n=t.timescale,r=void 0===n?1:n,o=t.periodDuration,a=t.sourceDuration,t=function(t,e){for(var i=[],n=t;n<e;n++)i.push(n);return i}((n=Ho[e](t)).start,n.end).map((s=t,function(t){var e=s.duration,i=s.timescale,n=s.periodStart,r=s.startNumber;return{number:(void 0===r?1:r)+t,duration:e/(void 0===i?1:i),timeline:n,time:t*e}}));return"static"===e&&(t[e=t.length-1].duration=("number"==typeof o?o:a)-i/r*e),t}function co(t,e,i){for(var n=t.sidx.map||null,r=t.sidx.duration,s=t.timeline||0,o=(o=t.sidx.byterange).offset+o.length,a=e.timescale,l=e.references.filter(function(t){return 1!==t.referenceType}),c=[],u=t.endList?"static":"dynamic",d=t.sidx.timeline,h=d,p=t.mediaSequence||0,f="bigint"==typeof e.firstOffset?window.BigInt(o)+e.firstOffset:o+e.firstOffset,m=0;m<l.length;m++){var g=e.references[m],y=g.referencedSize,v=g.subsegmentDuration,g=void 0,g="bigint"==typeof f?f+window.BigInt(y)-window.BigInt(1):f+y-1,g=qo({baseUrl:i,timescale:a,timeline:s,periodStart:d,presentationTime:h,number:p,duration:v,sourceDuration:r,indexRange:f+"-"+g,type:u})[0];n&&(g.map=n),c.push(g),f+="bigint"==typeof f?window.BigInt(y):y,h+=v/a,p++}return t.segments=c,t}function uo(t){return i=function(t){return t.timeline},io(t.reduce(function(e,t){return t.forEach(function(t){e[i(t)]=t}),e},{})).sort(function(t,e){return t.timeline>e.timeline?1:-1});var i}function ho(t){var r,s,o=[];return r=t,s=function(t,e,i,n){o=o.concat(t.playlists||[])},Wo.forEach(function(t){for(var e in r.mediaGroups[t])for(var i in r.mediaGroups[t][e]){var n=r.mediaGroups[t][e][i];s(n,t,e,i)}}),o}function po(t){var i=t.playlist,t=t.mediaSequence;i.mediaSequence=t,i.segments.forEach(function(t,e){t.number=i.mediaSequence+e})}function fo(t){var r,s,e=t.oldManifest,i=t.newManifest,n=e.playlists.concat(ho(e)),t=i.playlists.concat(ho(i));return i.timelineStarts=uo([e.timelineStarts,i.timelineStarts]),n={oldPlaylists:n,newPlaylists:t,timelineStarts:i.timelineStarts},r=n.oldPlaylists,t=n.newPlaylists,s=n.timelineStarts,t.forEach(function(e){e.discontinuitySequence=so(s,function(t){return t.timeline===e.timeline});var t=function(t,e){for(var i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null}(r,e.attributes.NAME);if(t&&!e.sidx){var i=e.segments[0],n=so(t.segments,function(t){return Math.abs(t.presentationTime-i.presentationTime)<1/60});if(-1===n)return po({playlist:e,mediaSequence:t.mediaSequence+t.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!t.segments.length&&e.timeline>t.timeline||t.segments.length&&e.timeline>t.segments[t.segments.length-1].timeline)&&e.discontinuitySequence--);t.segments[n].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),po({playlist:e,mediaSequence:t.segments[n].number})}}),i}function mo(t){return io(t.reduce(function(t,e){var i,n=e.attributes.id+(e.attributes.lang||"");return t[n]?(e.segments&&(e.segments[0]&&(e.segments[0].discontinuity=!0),(i=t[n].segments).push.apply(i,e.segments)),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):(t[n]=e,t[n].attributes.timelineStarts=[]),t[n].attributes.timelineStarts.push({start:e.attributes.periodStart,timeline:e.attributes.periodStart}),t},{})).map(function(t){var e,n;return t.discontinuityStarts=(e=t.segments||[],n="discontinuity",e.reduce(function(t,e,i){return e[n]&&t.push(i),t},[])),t})}function go(t,e){var i=zo(t.sidx);return(i=i&&e[i]&&e[i].sidx)&&co(t,i,t.sidx.resolvedUri),t}function yo(t,h,p){var f;return void 0===h&&(h={}),void 0===p&&(p=!1),t=t.reduce(function(t,e){var i=e.attributes.role&&e.attributes.role.value||"",n=e.attributes.lang||"",r=e.attributes.label||"main";t[r=n&&!e.attributes.label?e.attributes.lang+(i?" ("+i+")":""):r]||(t[r]={language:n,autoselect:!0,default:"main"===i,playlists:[],uri:""});var s,o,a,l,c,u,d,l=go((o=p,a=(s=e).attributes,l=s.segments,c=s.sidx,u=s.mediaSequence,d=s.discontinuitySequence,n=s.discontinuityStarts,l={attributes:((s={NAME:a.id,BANDWIDTH:a.bandwidth,CODECS:a.codecs})["PROGRAM-ID"]=1,s),uri:"",endList:"static"===a.type,timeline:a.periodStart,resolvedUri:"",targetDuration:a.duration,discontinuitySequence:d,discontinuityStarts:n,timelineStarts:a.timelineStarts,mediaSequence:u,segments:l},a.contentProtection&&(l.contentProtection=a.contentProtection),c&&(l.sidx=c),o&&(l.attributes.AUDIO="audio",l.attributes.SUBTITLES="subs"),l),h);return t[r].playlists.push(l),void 0===f&&"main"===i&&((f=e).default=!0),t},{}),f||(t[Object.keys(t)[0]].default=!0),t}function vo(t){var e=t.attributes,i=t.segments,n=t.sidx,r=t.discontinuityStarts,i={attributes:((t={NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth})["PROGRAM-ID"]=1,t),uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targetDuration:e.duration,discontinuityStarts:r,timelineStarts:e.timelineStarts,segments:i};return e.contentProtection&&(i.contentProtection=e.contentProtection),n&&(i.sidx=n),i}function bo(t){return"video/mp4"===(t=t.attributes).mimeType||"video/webm"===t.mimeType||"video"===t.contentType}function _o(t){return"audio/mp4"===(t=t.attributes).mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType}function To(t){return"text/vtt"===(t=t.attributes).mimeType||"text"===t.contentType}function wo(i){return i?Object.keys(i).reduce(function(t,e){e=i[e];return t.concat(e.playlists)},[]):[]}function So(t,e){for(var i,n,r,s,o,a=t.type,l=t.minimumUpdatePeriod,c=void 0===l?0:l,u=void 0===(l=t.media)?"":l,d=t.sourceDuration,h=void 0===(l=t.timescale)?1:l,p=void 0===(l=t.startNumber)?1:l,f=t.periodStart,m=[],g=-1,y=0;y<e.length;y++){var v=e[y],b=v.d,_=v.r||0,T=v.t||0;g<0&&(g=T),T&&g<T&&(g=T);var w,S=void 0;S=_<0?(w=y+1)===e.length?"dynamic"===a&&0<c&&0<u.indexOf("$Number$")?(i=g,v=o=s=r=n=void 0,n=(T=t).NOW,r=T.clientOffset,s=T.availabilityStartTime,o=T.timescale,v=T.periodStart,T=T.minimumUpdatePeriod,Math.ceil((((n+r)/1e3+(void 0===T?0:T)-(s+(void 0===v?0:v)))*(void 0===o?1:o)-i)/b)):(d*h-g)/b:(e[w].t-g)/b:_+1;for(var x=p+m.length+S,C=p+m.length;C<x;)m.push({number:C,duration:b/h,time:g,timeline:f}),g+=b,C++}return m}function xo(t,e){return t.replace(Go,(r=e,function(t,e,i,n){if("$$"===t)return"$";if(void 0===r[e])return t;t=""+r[e];return"RepresentationID"===e||(n=i?parseInt(n,10):1)<=t.length?t:new Array(n-t.length+1).join("0")+t}));var r}function Co(r,t){var s={RepresentationID:r.id,Bandwidth:r.bandwidth||0},e=void 0===(e=r.initialization)?{sourceURL:"",range:""}:e,o=oo({baseUrl:r.baseUrl,source:xo(e.sourceURL,s),range:e.range});return(e=t,(t=r).duration||e?t.duration?lo(t):So(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]).map(function(t){s.Number=t.number,s.Time=t.time;var e=xo(r.media||"",s),i=r.timescale||1,n=r.presentationTimeOffset||0,i=r.periodStart+(t.time-n)/i;return{uri:e,timeline:t.timeline,duration:t.duration,resolvedUri:Jn(r.baseUrl||"",e),map:o,number:t.number,presentationTime:i}})}function ko(r,t){var e=r.duration,i=void 0===(i=r.segmentUrls)?[]:i,s=r.periodStart;if(!e&&!t||e&&t)throw new Error($o.SEGMENT_TIME_UNSPECIFIED);var n,o=i.map(function(t){return i=t,t=(e=r).baseUrl,e=e.initialization,e=oo({baseUrl:t,source:(e=void 0===e?{}:e).sourceURL,range:e.range}),(i=oo({baseUrl:t,source:i.media,range:i.mediaRange})).map=e,i;var e,i});return e&&(n=lo(r)),(n=t?So(r,t):n).map(function(t,e){if(o[e]){var i=o[e],n=r.timescale||1,e=r.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=s+(t.time-e)/n,i}}).filter(function(t){return t})}function Eo(t){var e,i=t.attributes,n=t.segmentInfo;n.template?(s=Co,e=eo(i,n.template)):n.base?(s=qo,e=eo(i,n.base)):n.list&&(s=ko,e=eo(i,n.list));var r={attributes:i};if(!s)return r;var s,t=s(e,n.segmentTimeline);return e.duration?(s=(i=e).duration,i=i.timescale,e.duration=s/(void 0===i?1:i)):t.length?e.duration=t.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0,r.attributes=e,r.segments=t,n.base&&e.indexRange&&(r.sidx=t[0],r.segments=[]),r}function Ao(t){return t.textContent.trim()}function Io(t){if(!(r=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t)))return 0;var e=(s=r.slice(1))[0],i=s[1],n=s[2],t=s[3],r=s[4],s=s[5];return 31536e3*parseFloat(e||0)+2592e3*parseFloat(i||0)+86400*parseFloat(n||0)+3600*parseFloat(t||0)+60*parseFloat(r||0)+parseFloat(s||0)}function Po(t,i){return i.length?no(t.map(function(e){return i.map(function(t){return Jn(e,Ao(t))})})):t}function Do(t){var e=Yo(t,"SegmentTemplate")[0],i=Yo(t,"SegmentList")[0],n=i&&Yo(i,"SegmentURL").map(function(t){return eo({tag:"SegmentURL"},Qo(t))}),r=Yo(t,"SegmentBase")[0],t=(s=i||e)&&Yo(s,"SegmentTimeline")[0],s=(s=i||r||e)&&Yo(s,"Initialization")[0];(e=e&&Qo(e))&&s?e.initialization=s&&Qo(s):e&&e.initialization&&(e.initialization={sourceURL:e.initialization});var o={template:e,segmentTimeline:t&&Yo(t,"S").map(function(t){return Qo(t)}),list:i&&eo(Qo(i),{segmentUrls:n,initialization:Qo(s)}),base:r&&eo(Qo(r),{initialization:Qo(s)})};return Object.keys(o).forEach(function(t){o[t]||delete o[t]}),o}function Oo(l,c,u){return function(t){var e=Qo(t),i=Po(c,Yo(t,"BaseURL")),n=Yo(t,"Role")[0],n={role:Qo(n)},e=eo(l,e,n),n=Yo(t,"Accessibility")[0],n="urn:scte:dash:cc:cea-608:2015"===(n=Qo(n)).schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(t){var e,i,n;return/^CC\d=/.test(n=t)?(i=(e=t.split("="))[0],n=e[1]):/^CC\d$/.test(t)&&(i=t),{channel:i,language:n}}):"urn:scte:dash:cc:cea-708:2015"===n.schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(t){var e,i,n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};return/=/.test(t)?(e=(i=t.split("="))[0],i=void 0===(i=i[1])?"":i,n.channel=e,n.language=t,i.split(",").forEach(function(t){var e=t.split(":"),t=e[0],e=e[1];"lang"===t?n.language=e:"er"===t?n.easyReader=Number(e):"war"===t?n.aspectRatio=Number(e):"3D"===t&&(n["3D"]=Number(e))})):n.language=t,n.channel&&(n.channel="SERVICE"+n.channel),n}):void 0;n&&(e=eo(e,{captionServices:n}));n=Yo(t,"Label")[0];n&&n.childNodes.length&&(r=n.childNodes[0].nodeValue.trim(),e=eo(e,{label:r}));var r=Yo(t,"ContentProtection").reduce(function(t,e){var i=Qo(e);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());var n=Zo[i.schemeIdUri];return n&&(t[n]={attributes:i},(e=Yo(e,"cenc:pssh")[0])&&(e=Ao(e),t[n].pssh=e&&rr(e))),t},{});Object.keys(r).length&&(e=eo(e,{contentProtection:r}));var s,o,a,r=Do(t),t=Yo(t,"Representation"),r=eo(u,r);return no(t.map((s=e,o=i,a=r,function(t){var e=Yo(t,"BaseURL"),e=Po(o,e),i=eo(s,Qo(t)),n=Do(t);return e.map(function(t){return{segmentInfo:eo(a,n),attributes:eo(i,{baseUrl:t})}})})))}}function Lo(t){return function(t){t=Yo(t,"UTCTiming")[0];if(!t)return null;var e=Qo(t);switch(e.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":e.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":e.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":e.method="DIRECT",e.value=Date.parse(e.value);break;default:throw new Error($o.UNSUPPORTED_UTC_TIMING_SCHEME)}return e}(ta(t))}function Mo(t,e){return void 0===e&&(e=0),(t=Ir(t)).length-e<10||!Lr(t,ra,{offset:e})?e:Mo(t,e+=function(t,e){void 0===e&&(e=0);var i=(t=Ir(t))[e+5],e=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&i)>>4?20+e:10+e}(t,e))}function No(t){return"string"==typeof t?fr(t):t}function Ro(t,e,i){var n;void 0===i&&(i=!1),n=e,e=Array.isArray(n)?n.map(No):[No(n)],t=Ir(t);var r=[];if(!e.length)return r;for(var s=0;s<t.length;){var o=(t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3])>>>0,a=t.subarray(s+4,s+8);if(0==o)break;var l=s+o;if(l>t.length){if(i)break;l=t.length}o=t.subarray(s+8,l);Lr(a,e[0])&&(1===e.length?r.push(o):r.push.apply(r,Ro(o,e.slice(1),i))),s=l}return r}function Fo(t,e,i){if(i>=e.length)return e.length;var n=la(e,i,!1);if(Lr(t.bytes,n.bytes))return i;var r=la(e,i+n.length);return Fo(t,e,i+r.length+r.value+n.length)}function jo(t,e){var i;i=e,e=Array.isArray(i)?i.map(function(t){return ca(t)}):[ca(i)],t=Ir(t);var n=[];if(!e.length)return n;for(var r=0;r<t.length;){var s=la(t,r,!1),o=la(t,r+s.length),a=r+s.length+o.length;127===o.value&&(o.value=Fo(s,t,a),o.value!==t.length&&(o.value-=a));var l=a+o.value>t.length?t.length:a+o.value,l=t.subarray(a,l);Lr(e[0],s.bytes)&&(1===e.length?n.push(l):n=n.concat(jo(l,e.slice(1)))),r+=s.length+o.length+l.length}return n}function Uo(t,e,i,n){void 0===n&&(n=1/0),t=Ir(t),i=[].concat(i);for(var r,s=0,o=0;s<t.length&&(o<n||r);){var a=void 0;if(Lr(t.subarray(s),ua)?a=4:Lr(t.subarray(s),da)&&(a=3),a){if(o++,r)return pa(t.subarray(r,s));var l=void 0;"h264"===e?l=31&t[s+a]:"h265"===e&&(l=t[s+a]>>1&63),-1!==i.indexOf(l)&&(r=s+a),s+=a+("h264"===e?1:2)}else s++}return t.subarray(0,0)}var Bo={__DOMHandler:Ys,DOMParser:Xs,DOMImplementation:ae.DOMImplementation,XMLSerializer:ae.XMLSerializer}.DOMParser,$o={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Ho={static:function(t){var e=t.duration,i=t.timescale,n=void 0===i?1:i,r=t.sourceDuration,i=t.periodDuration,t=ao(t.endNumber),n=e/n;return"number"==typeof t?{start:0,end:t}:"number"==typeof i?{start:0,end:i/n}:{start:0,end:r/n}},dynamic:function(t){var e=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,r=t.timescale,s=void 0===r?1:r,o=t.duration,a=t.periodStart,l=void 0===a?0:a,r=t.minimumUpdatePeriod,a=void 0===r?0:r,r=t.timeShiftBufferDepth,r=void 0===r?1/0:r,t=ao(t.endNumber),i=(e+i)/1e3,l=n+l,a=Math.ceil((i+a-l)*s/o),r=Math.floor((i-l-r)*s/o),o=Math.floor((i-l)*s/o);return{start:Math.max(0,r),end:"number"==typeof t?t:Math.min(a,o)}}},qo=function(t){var e=t.baseUrl,i=t.initialization,n=void 0===i?{}:i,r=t.sourceDuration,s=t.indexRange,o=void 0===s?"":s,a=t.periodStart,l=t.presentationTime,i=t.number,s=void 0===i?0:i,i=t.duration;if(!e)throw new Error($o.NO_BASE_URL);n=oo({baseUrl:e,source:n.sourceURL,range:n.range}),o=oo({baseUrl:e,source:e,indexRange:o});return o.map=n,i?(t=lo(t)).length&&(o.duration=t[0].duration,o.timeline=t[0].timeline):r&&(o.duration=r,o.timeline=a),o.presentationTime=l||a,o.number=s,[o]},Wo=["AUDIO","SUBTITLES"],zo=function(t){return t&&t.uri+"-"+(e=t.byterange,t="bigint"==typeof e.offset||"bigint"==typeof e.length?window.BigInt(e.offset)+window.BigInt(e.length)-window.BigInt(1):e.offset+e.length-1,e.offset+"-"+t);var e},Vo=function(t){var e=t.dashPlaylists,i=t.locations,n=t.sidxMapping,r=void 0===n?{}:n,s=t.previousManifest;if(!e.length)return{};var o=e[0].attributes,a=o.sourceDuration,l=o.type,c=o.suggestedPresentationDelay,u=o.minimumUpdatePeriod,d=mo(e.filter(bo)).map(vo),n=mo(e.filter(_o)),t=mo(e.filter(To)),o=e.map(function(t){return t.attributes.captionServices}).filter(Boolean),a={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((e={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:a,playlists:function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t)t[i]=go(t[i],e);return t}(d,r)};0<=u&&(a.minimumUpdatePeriod=1e3*u),i&&(a.locations=i),"dynamic"===l&&(a.suggestedPresentationDelay=c);var h,p,c=0===a.playlists.length,c=n.length?yo(n,r,c):null,r=t.length?(void 0===(h=r)&&(h={}),t.reduce(function(t,e){var i=e.attributes.lang||"text";return t[i]||(t[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),t[i].playlists.push(go(function(t){var e=t.attributes,i=t.segments,n=t.mediaSequence,r=t.discontinuityStarts,s=t.discontinuitySequence;void 0===i&&(i=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);(t={NAME:e.id,BANDWIDTH:e.bandwidth})["PROGRAM-ID"]=1;return e.codecs&&(t.CODECS=e.codecs),{attributes:t,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:r,discontinuitySequence:s,mediaSequence:n,segments:i}}(e),h)),t},{})):null,t=d.concat(wo(c),wo(r)),d=t.map(function(t){return t.timelineStarts});return a.timelineStarts=uo(d),p=a.timelineStarts,t.forEach(function(e){e.mediaSequence=0,e.discontinuitySequence=so(p,function(t){return t.timeline===e.timeline}),e.segments&&e.segments.forEach(function(t,e){t.number=e})}),c&&(a.mediaGroups.AUDIO.audio=c),r&&(a.mediaGroups.SUBTITLES.subs=r),o.length&&(a.mediaGroups["CLOSED-CAPTIONS"].cc=o.reduce(function(n,t){return t&&t.forEach(function(t){var e=t.channel,i=t.language;n[i]={autoselect:!1,default:!1,instreamId:e,language:i},t.hasOwnProperty("aspectRatio")&&(n[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(n[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(n[i]["3D"]=t["3D"])}),n},{})),s?fo({oldManifest:s,newManifest:a}):a},Go=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Xo=function(t){return t.map(Eo)},Yo=function(t,e){return ro(t.childNodes).filter(function(t){return t.tagName===e})},Ko={mediaPresentationDuration:Io,availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=t)&&(t+="Z"),Date.parse(t)/1e3},minimumUpdatePeriod:Io,suggestedPresentationDelay:Io,type:function(t){return t},timeShiftBufferDepth:Io,start:Io,width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?Io(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},Qo=function(t){return t&&t.attributes?ro(t.attributes).reduce(function(t,e){var i=Ko[e.name]||Ko.DEFAULT;return t[e.name]=i(e.value),t},{}):{}},Zo={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Jo=function(t,e){var i=e=void 0===e?{}:e,n=i.manifestUri,r=void 0===n?"":n,s=i.NOW,e=void 0===s?Date.now():s,n=i.clientOffset,s=void 0===n?0:n,i=Yo(t,"Period");if(!i.length)throw new Error($o.INVALID_NUMBER_OF_PERIOD);var n=Yo(t,"Location"),o=Qo(t),t=Po([r],Yo(t,"BaseURL"));o.type=o.type||"static",o.sourceDuration=o.mediaPresentationDuration||0,o.NOW=e,o.clientOffset=s,n.length&&(o.locations=n.map(Ao));var a,l,c=[];return i.forEach(function(t,e){var i,n=Qo(t),r=c[e-1];n.start=(i={attributes:n,priorPeriodAttributes:r?r.attributes:null,mpdType:o.type},e=i.attributes,r=i.priorPeriodAttributes,i=i.mpdType,"number"==typeof e.start?e.start:r&&"number"==typeof r.start&&"number"==typeof r.duration?r.start+r.duration:r||"static"!==i?null:0),c.push({node:t,attributes:n})}),{locations:o.locations,representationInfo:no(c.map((a=o,l=t,function(t,e){var i=Po(l,Yo(t.node,"BaseURL")),n=eo(a,{periodStart:t.attributes.start});"number"==typeof t.attributes.duration&&(n.periodDuration=t.attributes.duration);var r=Yo(t.node,"AdaptationSet"),t=Do(t.node);return no(r.map(Oo(n,i,t)))})))}},ta=function(t){if(""===t)throw new Error($o.DASH_EMPTY_MANIFEST);var e,i,n=new Bo;try{i=(e=n.parseFromString(t,"application/xml"))&&"MPD"===e.documentElement.tagName?e.documentElement:null}catch(t){}if(!i||0<i.getElementsByTagName("parsererror").length)throw new Error($o.DASH_INVALID_XML);return i},ea=Math.pow(2,32),ia=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return e.getBigUint64?(t=e.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:e.getUint32(0)*ea+e.getUint32(4)},na=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;0===i.version?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=ia(t.subarray(n)),i.firstOffset=ia(t.subarray(n+8)),n+=16);var r=e.getUint16(n+=2);for(n+=2;0<r;n+=12,r--)i.references.push({referenceType:(128&t[n])>>>7,referencedSize:2147483647&e.getUint32(n),subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(128&t[n+8]),sapType:(112&t[n+8])>>>4,sapDeltaTime:268435455&e.getUint32(n+8)});return i},ra=Ir([73,68,51]),sa={EBML:Ir([26,69,223,163]),DocType:Ir([66,130]),Segment:Ir([24,83,128,103]),SegmentInfo:Ir([21,73,169,102]),Tracks:Ir([22,84,174,107]),Track:Ir([174]),TrackNumber:Ir([215]),DefaultDuration:Ir([35,227,131]),TrackEntry:Ir([174]),TrackType:Ir([131]),FlagDefault:Ir([136]),CodecID:Ir([134]),CodecPrivate:Ir([99,162]),VideoTrack:Ir([224]),AudioTrack:Ir([225]),Cluster:Ir([31,67,182,117]),Timestamp:Ir([231]),TimestampScale:Ir([42,215,177]),BlockGroup:Ir([160]),BlockDuration:Ir([155]),Block:Ir([161]),SimpleBlock:Ir([163])},oa=[128,64,32,16,8,4,2,1],aa=function(t){for(var e=1,i=0;i<oa.length&&!(t&oa[i]);i++)e++;return e},la=function(t,e,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var r=aa(t[e]),s=t.subarray(e,e+r);return i&&((s=Array.prototype.slice.call(t,e,e+r))[0]^=oa[r-1]),{length:r,value:Or(s,{signed:n}),bytes:s}},ca=function t(e){return"string"==typeof e?e.match(/.{1,2}/g).map(t):"number"==typeof e?pr(e):e},ua=Ir([0,0,0,1]),da=Ir([0,0,1]),ha=Ir([0,0,3]),pa=function(t){for(var e=[],i=1;i<t.length-2;)Lr(t.subarray(i,i+3),ha)&&(e.push(i+2),i++),i++;if(0===e.length)return t;for(var n=t.length-e.length,r=new Uint8Array(n),s=0,i=0;i<n;s++,i++)s===e[0]&&(s++,e.shift()),r[i]=t[s];return r},fa={webm:Ir([119,101,98,109]),matroska:Ir([109,97,116,114,111,115,107,97]),flac:Ir([102,76,97,67]),ogg:Ir([79,103,103,83]),ac3:Ir([11,119]),riff:Ir([82,73,70,70]),avi:Ir([65,86,73]),wav:Ir([87,65,86,69]),"3gp":Ir([102,116,121,112,51,103]),mp4:Ir([102,116,121,112]),fmp4:Ir([115,116,121,112]),mov:Ir([102,116,121,112,113,116]),moov:Ir([109,111,111,118]),moof:Ir([109,111,111,102])},ma={aac:function(t){var e=Mo(t);return Lr(t,[255,16],{offset:e,mask:[255,22]})},mp3:function(t){var e=Mo(t);return Lr(t,[255,2],{offset:e,mask:[255,6]})},webm:function(t){t=jo(t,[sa.EBML,sa.DocType])[0];return Lr(t,fa.webm)},mkv:function(t){t=jo(t,[sa.EBML,sa.DocType])[0];return Lr(t,fa.matroska)},mp4:function(t){return!ma["3gp"](t)&&!ma.mov(t)&&(!(!Lr(t,fa.mp4,{offset:4})&&!Lr(t,fa.fmp4,{offset:4}))||(!(!Lr(t,fa.moof,{offset:4})&&!Lr(t,fa.moov,{offset:4}))||void 0))},mov:function(t){return Lr(t,fa.mov,{offset:4})},"3gp":function(t){return Lr(t,fa["3gp"],{offset:4})},ac3:function(t){var e=Mo(t);return Lr(t,fa.ac3,{offset:e})},ts:function(t){if(t.length<189&&1<=t.length)return 71===t[0];for(var e=0;e+188<t.length&&e<188;){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:function(t){var e=Mo(t);return Lr(t,fa.flac,{offset:e})},ogg:function(t){return Lr(t,fa.ogg)},avi:function(t){return Lr(t,fa.riff)&&Lr(t,fa.avi,{offset:8})},wav:function(t){return Lr(t,fa.riff)&&Lr(t,fa.wav,{offset:8})},h264:function(t){return Uo(t,"h264",7,3).length},h265:function(t){return Uo(t,"h265",[32,33],3).length}},ga=Object.keys(ma).filter(function(t){return"ts"!==t&&"h264"!==t&&"h265"!==t}).concat(["ts","h264","h265"]);ga.forEach(function(t){var e=ma[t];ma[t]=function(t){return e(Ir(t))}});function ya(t){t=Ir(t);for(var e=0;e<ga.length;e++){var i=ga[e];if(Cl[i](t))return i}return""}function va(t,e,i){return t&&i&&i.responseURL&&e!==i.responseURL?i.responseURL:e}function ba(t,i){return Dl(t,function(t,e){return t-Pl<=i&&i<=e+Pl})}function _a(t,e){return Dl(t,function(t){return e<=t-Il})}function Ta(t){var e=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")}function wa(t){for(var e=[],i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e}function Sa(t){if(t&&t.length&&t.end)return t.end(t.length-1)}function xa(t,e){var i=0;if(!t||!t.length)return i;for(var n=0;n<t.length;n++){var r=t.start(n),s=t.end(n);s<e||(i+=r<e&&e<=s?s-e:s-r)}return i}function Ca(e,t){if(!t.preload)return t.duration;var i=0;return(t.parts||[]).forEach(function(t){i+=t.duration}),(t.preloadHints||[]).forEach(function(t){"PART"===t.type&&(i+=e.partTargetDuration)}),i}function ka(t){return(t.segments||[]).reduce(function(i,n,r){return n.parts?n.parts.forEach(function(t,e){i.push({duration:t.duration,segmentIndex:r,partIndex:e,part:t,segment:n})}):i.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),i},[])}function Ea(t){return(t=t.segments&&t.segments.length&&t.segments[t.segments.length-1])&&t.parts||[]}function Aa(t){var e=t.preloadSegment;if(e){t=e.parts,e=(e.preloadHints||[]).reduce(function(t,e){return t+("PART"===e.type?1:0)},0);return e+=t&&t.length?t.length:0}}function Ia(t){var e=t.defaultDuration,i=t.durationList,n=t.startIndex,r=t.endIndex,s=0;if(r<n&&(n=(t=[r,n])[0],r=t[1]),n<0){for(var o=n;o<Math.min(0,r);o++)s+=e;n=0}for(var a=n;a<r;a++)s+=i[a].duration;return s}function Pa(t,e,i,n){return t&&t.segments?t.endList?Fl(t):null===e?null:(e=Rl(t,t.mediaSequence+t.segments.length,e=e||0),i&&(e-=n="number"==typeof n?n:Ll(null,t)),Math.max(0,e)):null}function Da(t){return t.excludeUntil&&t.excludeUntil>Date.now()}function Oa(t){return t.excludeUntil&&t.excludeUntil===1/0}function La(t){var e=Da(t);return!t.disabled&&!e}function Ma(t,e){return e.attributes&&e.attributes[t]}function Na(t,e){if(1===t.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!La(t)&&(t.attributes.BANDWIDTH||0)<i}).length}function Ra(t,e){return!(!t&&!e||!t&&e||t&&!e)&&(t===e||(!(!t.id||!e.id||t.id!==e.id)||(!(!t.resolvedUri||!e.resolvedUri||t.resolvedUri!==e.resolvedUri)||!(!t.uri||!e.uri||t.uri!==e.uri))))}function Fa(t,e){var i,n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{},r=!1;for(i in n){for(var s in n[i])if(r=e(n[i][s]))break;if(r)break}return!!r}function ja(a,t){a.uri=t;for(var e=0;e<a.playlists.length;e++)a.playlists[e].uri||(a.playlists[e].uri="placeholder-uri-"+e);var i,l=jl(a);Hl(a,function(t,e,i,n){var r="placeholder-uri-"+e+"-"+i+"-"+n;if(!t.playlists||!t.playlists.length){if(l&&"AUDIO"===e&&!t.uri)for(var s=0;s<a.playlists.length;s++){var o=a.playlists[s];if(o.attributes&&o.attributes.AUDIO&&o.attributes.AUDIO===i)return}t.playlists=[m({},t)]}t.playlists.forEach(function(t,e){var i=$l(e,r);t.uri?t.resolvedUri=t.resolvedUri||El(a.uri,t.uri):(t.uri=0===e?r:i,t.resolvedUri=t.uri),t.id=t.id||i,t.attributes=t.attributes||{},a.playlists[t.id]=t,a.playlists[t.uri]=t})}),function(t){for(var e=t.playlists.length;e--;){var i=t.playlists[e];ql({playlist:i,id:$l(e,i.uri)}),i.resolvedUri=El(t.uri,i.uri),t.playlists[i.id]=i,(t.playlists[i.uri]=i).attributes.BANDWIDTH||Bl.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(a),Hl(i=a,function(t){t.uri&&(t.resolvedUri=El(i.uri,t.uri))})}function Ua(t,e){!t.resolvedUri&&t.uri&&(t.resolvedUri=El(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=El(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=El(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=El(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(function(t){t.resolvedUri||(t.resolvedUri=El(e,t.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(function(t){t.resolvedUri||(t.resolvedUri=El(e,t.uri))})}function Ba(t){var e=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(var n=0;n<i.preloadHints.length;n++)if("MAP"===i.preloadHints[n].type)return e;i.duration=t.targetDuration,i.preload=!0,e.push(i)}return e}function $a(t,s,e){void 0===e&&(e=Vl);var i=Wl(t,{}),n=i.playlists[s.id];if(!n)return null;if(e(n,s))return null;s.segments=Ba(s);var o=Wl(n,s);if(o.preloadSegment&&!s.preloadSegment&&delete o.preloadSegment,n.segments){if(s.skip){s.segments=s.segments||[];for(var r=0;r<s.skip.skippedSegments;r++)s.segments.unshift({skipped:!0})}o.segments=function(t,e,i){var n=t.slice(),r=e.slice();i=i||0;for(var s,o=[],a=0;a<r.length;a++){var l=n[a+i],c=r[a];l?(s=l.map||s,o.push(zl(l,c))):(s&&!c.map&&(c.map=s),o.push(c))}return o}(n.segments,s.segments,s.mediaSequence-n.mediaSequence)}o.segments.forEach(function(t){Ua(t,o.resolvedUri)});for(var a=0;a<i.playlists.length;a++)i.playlists[a].id===s.id&&(i.playlists[a]=o);return i.playlists[s.id]=o,i.playlists[s.uri]=o,Hl(t,function(t,e,i,n){if(t.playlists)for(var r=0;r<t.playlists.length;r++)s.id===t.playlists[r].id&&(t.playlists[r]=o)}),i}function Ha(t,e){var i=t.segments||[],n=i[i.length-1],n=(i=n&&n.parts&&n.parts[n.parts.length-1])&&i.duration||n&&n.duration;return e&&n?1e3*n:500*(t.partTargetDuration||t.targetDuration||10)}function qa(t,e,i,n){var r="arraybuffer"===t.responseType?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&"ETIMEDOUT"===e.code&&(t.timedout=!0),n(e=!e&&!t.aborted&&200!==i.statusCode&&206!==i.statusCode&&0!==i.statusCode?new Error("XHR Failed with a response of: "+(t&&(r||t.responseText))):e,t)}function Wa(){function s(t,i){t=Yl({timeout:45e3},t);var e=s.beforeRequest||Zn.Vhs.xhr.beforeRequest;!e||"function"!=typeof e||(e=e(t))&&(t=e);var n=(!0===Zn.Vhs.xhr.original?Xl:Zn.Vhs.xhr)(t,function(t,e){return qa(n,t,e,i)}),r=n.abort;return n.abort=function(){return n.aborted=!0,r.apply(n,arguments)},n.uri=t.uri,n.requestTime=Date.now(),n}return s.original=!0,s}function za(t){var e,i={};return t.byterange&&(i.Range=(e=t.byterange,t=e.offset,e="bigint"==typeof e.offset||"bigint"==typeof e.length?window.BigInt(e.offset)+window.BigInt(e.length)-window.BigInt(1):e.offset+e.length-1,"bytes="+t+"-"+e)),i}function Va(t,e){return t=t.toString(16),"00".substring(0,2-t.length)+t+(e%2?" ":"")}function Ga(t){return 32<=t&&t<126?String.fromCharCode(t):"."}function Xa(i){var n={};return Object.keys(i).forEach(function(t){var e=i[t];Ar(e)?n[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:n[t]=e}),n}function Ya(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")}function Ka(t){return t.resolvedUri}function Qa(t){for(var e=Array.prototype.slice.call(t),i="",n=0;n<e.length/16;n++)i+=e.slice(16*n,16*n+16).map(Va).join("")+" "+e.slice(16*n,16*n+16).map(Ga).join("")+"\n";return i}function Za(t){var e=t.playlist,i=t.time,n=void 0===i?void 0:i;if(!(i=t.callback))throw new Error("getProgramTime: callback must be provided");return e&&void 0!==n?(t=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var i,n=0,r=0;r<e.segments.length&&!(t<=(n=(i=e.segments[r]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));r++);var s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(n<t){if(t>n+s.duration*Kl)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}}(n,e))?"estimate"===t.type?i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:t.estimatedStart}):(e={mediaSeconds:n},(t=function(t,e){if(!e.dateTimeObject)return null;var i=e.videoTimingInfo.transmuxerPrependedSeconds,i=t-(e.videoTimingInfo.transmuxedPresentationStart+i);return new Date(e.dateTimeObject.getTime()+1e3*i)}(n,t.segment))&&(e.programDateTime=t.toISOString()),i(null,e)):i({message:"valid programTime was not found"}):i({message:"getProgramTime: playlist and time must be provided"})}function Ja(t){var e=t.programTime,i=t.playlist,n=t.retryCount,r=void 0===n?2:n,s=t.seekTo,o=t.pauseAfterSeek,a=void 0===o||o,l=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");return void 0!==e&&i&&s?i.endList||l.hasStarted_?function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(i)?(n=function(t,e){var i;try{i=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;if(i<(r=e.segments[0]).dateTimeObject)return null;for(var n=0;n<e.segments.length-1;n++){var r=e.segments[n];if(i<e.segments[n+1].dateTimeObject)break}var s=e.segments[e.segments.length-1],o=s.dateTimeObject,t=s.videoTimingInfo?Ql(s.videoTimingInfo):s.duration+s.duration*Kl;return new Date(o.getTime()+1e3*t)<i?null:{segment:r=o<i?s:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Ul.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"}}(e,i))?(o=n.segment,t=function(t,e){var i;try{n=new Date(t),i=new Date(e)}catch(t){}var n=n.getTime();return(i.getTime()-n)/1e3}(o.dateTimeObject,e),"estimate"===n.type?0===r?c({message:e+" is not buffered yet. Try again"}):(s(n.estimatedStart+t),void l.one("seeked",function(){Ja({programTime:e,playlist:i,retryCount:r-1,seekTo:s,pauseAfterSeek:a,tech:l,callback:c})})):(t=o.start+t,l.one("seeked",function(){return c(null,l.currentTime())}),a&&l.pause(),void s(t))):c({message:e+" was not found in the stream"}):c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri}):c({message:"player must be playing a live stream to start buffering"}):c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"})}function tl(t,e){if(4===t.readyState)return e()}function el(t,e,r){function n(t,e,i,n){return e.abort(),a=!0,r(t,e,i,n)}function i(t,e){if(!a){if(t)return n(t,e,"",o);var i=e.responseText.substring(o&&o.byteLength||0,e.responseText.length);if(o=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if((e=e.filter(function(t){return t&&(t.byteLength||t.length)&&"string"!=typeof t})).length<=1)return Ir(e[0]);var n=e.reduce(function(t,e,i){return t+(e.byteLength||e.length)},0),r=new Uint8Array(n),s=0;return e.forEach(function(t){t=Ir(t),r.set(t,s),s+=t.byteLength}),r}(o,fr(i,!0)),s=s||Mo(o),o.length<10||s&&o.length<s+2)return tl(e,function(){return n(t,e,"",o)});i=ya(o);return"ts"===i&&o.length<188||!i&&o.length<376?tl(e,function(){return n(t,e,"",o)}):n(null,e,i,o)}}var s,o=[],a=!1,l=e({uri:t,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",function(t){return t.total,t.loaded,qa(e,null,{statusCode:e.status},i)})}},function(t,e){return qa(l,t,e,i)});return l}function il(t,e){if(!Vl(t,e))return!1;if(t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx)return!1;if(t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(var i=0;i<t.segments.length;i++){var n=t.segments[i],r=e.segments[i];if(n.uri!==r.uri)return!1;if(n.byterange||r.byterange){n=n.byterange,r=r.byterange;if(n&&!r||!n&&r)return!1;if(n.offset!==r.offset||n.length!==r.length)return!1}}return!0}function nl(t){var e=t.masterXml,i=t.srcUrl,t=function(t,e){void 0===e&&(e={});var i=Jo(ta(t),e),t=Xo(i.representationInfo);return Vo({dashPlaylists:t,locations:i.locations,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest})}(e,{manifestUri:i,clientOffset:t.clientOffset,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest});return ja(t,i),t}function rl(t,e){var i,n={};for(i in t){var r=t[i].sidx;if(r){var s=zo(r);if(!e[s])break;var o=e[s].sidxInfo;Jl(o,r)&&(n[s]=e[s])}}return n}function sl(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t}function ol(e){var i=e.transmuxer,t=e.bytes,n=e.audioAppendStart,r=e.gopsToAlignWith,s=e.remux,o=e.onData,a=e.onTrackInfo,l=e.onAudioTimingInfo,c=e.onVideoTimingInfo,u=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,h=e.onId3,p=e.onCaptions,f=e.onDone,m=e.onEndedTimeline,g=e.onTransmuxerLog,y=e.isEndOfTimeline,v={buffer:[]},b=y;i.onmessage=function(t){i.currentTransmux===e&&("data"===t.data.action&&rc(t,v,o),"trackinfo"===t.data.action&&a(t.data.trackInfo),"gopInfo"===t.data.action&&oc(t,v),"audioTimingInfo"===t.data.action&&l(t.data.audioTimingInfo),"videoTimingInfo"===t.data.action&&c(t.data.videoTimingInfo),"videoSegmentTimingInfo"===t.data.action&&u(t.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===t.data.action&&d(t.data.audioSegmentTimingInfo),"id3Frame"===t.data.action&&h([t.data.id3Frame],t.data.id3Frame.dispatchType),"caption"===t.data.action&&p(t.data.caption),"endedtimeline"===t.data.action&&(b=!1,m()),"log"===t.data.action&&g(t.data.log),"transmuxed"===t.data.type&&(b||(i.onmessage=null,sc({transmuxedData:v,callback:f}),ac(i))))},n&&i.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(r)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==s&&i.postMessage({action:"setRemux",remux:s}),t.byteLength&&(r=t instanceof ArrayBuffer?t:t.buffer,s=t instanceof ArrayBuffer?0:t.byteOffset,i.postMessage({action:"push",data:r,byteOffset:s,byteLength:t.byteLength},[r])),y&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})}function al(t,e){if(!e.currentTransmux)return e.currentTransmux=t,lc(e,t),0;e.transmuxQueue.push(lc.bind(null,e,t))}function ll(t){if(!t.transmuxer.currentTransmux)return t.transmuxer.currentTransmux=t,void ol(t);t.transmuxer.transmuxQueue.push(t)}function cl(i){var n=i.transmuxer,r=i.endAction||i.action,s=i.callback,t=m({},i,{endAction:null,transmuxer:null,callback:null}),e=function t(e){e.data.action===r&&(n.removeEventListener("message",t),e.data.data&&(e.data.data=new Uint8Array(e.data.data,i.byteOffset||0,i.byteLength||e.data.data.byteLength),i.data&&(i.data=e.data.data)),s(e.data))};n.addEventListener("message",e),i.data?(e=i.data instanceof ArrayBuffer,t.byteOffset=e?0:i.data.byteOffset,t.byteLength=i.data.byteLength,e=[e?i.data:i.data.buffer],n.postMessage(t,e)):n.postMessage(t)}function ul(s,o,a){return function(t,e){var i=e.response,t=mc(t,e);if(t)return a(t,s);if(16!==i.byteLength)return a({status:e.status,message:"Invalid HLS key at URL: "+e.uri,code:dc.FAILURE,xhr:e},s);for(var i=new DataView(i),n=new Uint32Array([i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12)]),r=0;r<o.length;r++)o[r].bytes=n;return a(null,s)}}function dl(t){var i=t.segment,e=t.bytes,n=t.trackInfoFn,r=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,a=t.id3Fn,l=t.captionsFn,c=t.isEndOfTimeline,u=t.endedTimelineFn,d=t.dataFn,h=t.doneFn,p=t.onTransmuxerLog,t=i.map&&i.map.tracks||{},f=Boolean(t.audio&&t.video),m=r.bind(null,i,"audio","start"),g=r.bind(null,i,"audio","end"),y=r.bind(null,i,"video","start"),v=r.bind(null,i,"video","end");cl({action:"probeTs",transmuxer:i.transmuxer,data:e,baseStartTime:i.baseStartTime,callback:function(t){i.bytes=e=t.data;t=t.result;t&&(n(i,{hasAudio:t.hasAudio,hasVideo:t.hasVideo,isMuxed:f}),n=null,t.hasAudio&&!f&&m(t.audioStart),t.hasVideo&&y(t.videoStart),y=m=null),ll({bytes:e,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:f,onData:function(t){t.type="combined"===t.type?"video":t.type,d(i,t)},onTrackInfo:function(t){n&&(f&&(t.isMuxed=!0),n(i,t))},onAudioTimingInfo:function(t){m&&void 0!==t.start&&(m(t.start),m=null),g&&void 0!==t.end&&g(t.end)},onVideoTimingInfo:function(t){y&&void 0!==t.start&&(y(t.start),y=null),v&&void 0!==t.end&&v(t.end)},onVideoSegmentTimingInfo:function(t){s(t)},onAudioSegmentTimingInfo:function(t){o(t)},onId3:function(t,e){a(i,t,e)},onCaptions:function(t){l(i,[t])},isEndOfTimeline:c,onEndedTimeline:function(){u()},onTransmuxerLog:p,onDone:function(t){h&&(t.type="combined"===t.type?"video":t.type,h(null,i,t))}})}})}function hl(t){var n,r,s,o,a,l,c,u,d,h,p,f,m,g,y,e,i,v,b=t.xhr,_=t.xhrOptions,T=t.decryptionWorker,w=t.segment,S=t.abortFn,x=t.progressFn,C=t.trackInfoFn,k=t.timingInfoFn,E=t.videoSegmentTimingInfoFn,A=t.audioSegmentTimingInfoFn,I=t.id3Fn,P=t.captionsFn,D=t.isEndOfTimeline,O=t.endedTimelineFn,L=t.dataFn,M=t.doneFn,t=t.onTransmuxerLog,N=[],t=(n=(M={activeXhrs:N,decryptionWorker:T,trackInfoFn:C,timingInfoFn:k,videoSegmentTimingInfoFn:E,audioSegmentTimingInfoFn:A,id3Fn:I,captionsFn:P,isEndOfTimeline:D,endedTimelineFn:O,dataFn:L,doneFn:M,onTransmuxerLog:t}).activeXhrs,r=M.decryptionWorker,s=M.trackInfoFn,o=M.timingInfoFn,a=M.videoSegmentTimingInfoFn,l=M.audioSegmentTimingInfoFn,c=M.id3Fn,u=M.captionsFn,d=M.isEndOfTimeline,h=M.endedTimelineFn,p=M.dataFn,f=M.doneFn,m=M.onTransmuxerLog,g=0,y=!1,function(t,e){if(!y){if(t)return y=!0,hc(n),f(t,e);if((g+=1)===n.length){var i=function(){if(e.encryptedBytes)return bc({decryptionWorker:r,segment:e,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:h,dataFn:p,doneFn:f,onTransmuxerLog:m});yc({segment:e,bytes:e.bytes,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:h,dataFn:p,doneFn:f,onTransmuxerLog:m})};if(e.endOfAllRequests=Date.now(),e.map&&e.map.encryptedBytes&&!e.map.bytes)return vc({decryptionWorker:r,id:e.requestId+"-init",encryptedBytes:e.map.encryptedBytes,key:e.map.key},function(t){e.map.bytes=t,gc(e,function(t){return t?(hc(n),f(t,e)):void i()})});i()}}});w.key&&!w.key.bytes&&(M=[w.key],w.map&&!w.map.bytes&&w.map.key&&w.map.key.resolvedUri===w.key.resolvedUri&&M.push(w.map.key),M=b(Zn.mergeOptions(_,{uri:w.key.resolvedUri,responseType:"arraybuffer"}),ul(w,M,t)),N.push(M)),w.map&&!w.map.bytes&&(!w.map.key||w.key&&w.key.resolvedUri===w.map.key.resolvedUri||(e=b(Zn.mergeOptions(_,{uri:w.map.key.resolvedUri,responseType:"arraybuffer"}),ul(w,[w.map.key],t)),N.push(e)),e=b(Zn.mergeOptions(_,{uri:w.map.resolvedUri,responseType:"arraybuffer",headers:za(w.map)}),(i=(e={segment:w,finishProcessingFn:t}).segment,v=e.finishProcessingFn,function(t,e){t=mc(t,e);if(t)return v(t,i);t=new Uint8Array(e.response);if(i.map.key)return i.map.encryptedBytes=t,v(null,i);i.map.bytes=t,gc(i,function(t){return t?(t.xhr=e,t.status=e.status,v(t,i)):void v(null,i)})})),N.push(e));var R,F,j,U,B,_=Zn.mergeOptions(_,{uri:w.part&&w.part.resolvedUri||w.resolvedUri,responseType:"arraybuffer",headers:za(w)});(_=b(_,(_={segment:w,finishProcessingFn:t,responseType:_.responseType},R=_.segment,F=_.finishProcessingFn,j=_.responseType,function(t,e){t=mc(t,e);if(t)return F(t,R);t="arraybuffer"!==j&&e.responseText?ic(e.responseText.substring(R.lastReachedChar||0)):e.response;return R.stats=pc(e),R.key?R.encryptedBytes=new Uint8Array(t):R.bytes=new Uint8Array(t),F(null,R)}))).addEventListener("progress",(U=(L={segment:w,progressFn:x,trackInfoFn:C,timingInfoFn:k,videoSegmentTimingInfoFn:E,audioSegmentTimingInfoFn:A,id3Fn:I,captionsFn:P,isEndOfTimeline:D,endedTimelineFn:O,dataFn:L}).segment,B=L.progressFn,L.trackInfoFn,L.timingInfoFn,L.videoSegmentTimingInfoFn,L.audioSegmentTimingInfoFn,L.id3Fn,L.captionsFn,L.isEndOfTimeline,L.endedTimelineFn,L.dataFn,function(t){if(!t.target.aborted)return U.stats=Zn.mergeOptions(U.stats,fc(t)),!U.stats.firstBytesReceivedAt&&U.stats.bytesReceived&&(U.stats.firstBytesReceivedAt=Date.now()),B(t,U)})),N.push(_);var $={};return N.forEach(function(t){var e,i;t.addEventListener("loadend",(e=(t={loadendState:$,abortFn:S}).loadendState,i=t.abortFn,function(t){t.target.aborted&&i&&!e.calledAbortFn&&(i(),e.calledAbortFn=!0)}))}),function(){return hc(N)}}function pl(t){var e=0;return t.audio&&e++,t.video&&e++,e}function fl(t,e){return(t=t&&window.getComputedStyle(t))?t[e]:""}function ml(t,e){var i,n;return(i=(i=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:i)||window.Number.MAX_VALUE)-(n=(n=e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:n)||window.Number.MAX_VALUE)}function gl(t,e,i,n,r,s){if(t){var o={bandwidth:e,width:i,height:n,limitRenditionByPlayerDimensions:r},a=t.playlists;Ul.isAudioOnly(t)&&(a=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var l=a.map(function(t){var e=t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,i=t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,n=t.attributes&&t.attributes.BANDWIDTH;return{bandwidth:n||window.Number.MAX_VALUE,width:e,height:i,playlist:t}});kc(l,function(t,e){return t.bandwidth-e.bandwidth});var c=(l=l.filter(function(t){return!Ul.isIncompatible(t.playlist)})).filter(function(t){return Ul.isEnabled(t.playlist)}),t=(c=!c.length?l.filter(function(t){return!Ul.isDisabled(t.playlist)}):c).filter(function(t){return t.bandwidth*ec.BANDWIDTH_VARIANCE<e}),u=t[t.length-1],a=t.filter(function(t){return t.bandwidth===u.bandwidth})[0];if(!1===r){var d=a||c[0]||l[0];if(d&&d.playlist){r=a?"bandwidthBestRep":"sortedPlaylistReps";return c[0]&&(r="enabledPlaylistReps"),xc("choosing "+Cc(d)+" using "+r+" with options",o),d.playlist}return xc("could not choose a playlist with options",o),null}d=t.filter(function(t){return t.width&&t.height});kc(d,function(t,e){return t.width-e.width});var h,p,f,t=d.filter(function(t){return t.width===i&&t.height===n}),u=t[t.length-1],t=t.filter(function(t){return t.bandwidth===u.bandwidth})[0];t||(p=(h=d.filter(function(t){return t.width>i||t.height>n})).filter(function(t){return t.width===h[0].width&&t.height===h[0].height}),u=p[p.length-1],p=p.filter(function(t){return t.bandwidth===u.bandwidth})[0]),s.experimentalLeastPixelDiffSelector&&(m=d.map(function(t){return t.pixelDiff=Math.abs(t.width-i)+Math.abs(t.height-n),t}),kc(m,function(t,e){return t.pixelDiff===e.pixelDiff?e.bandwidth-t.bandwidth:t.pixelDiff-e.pixelDiff}),f=m[0]);var m=f||p||t||a||c[0]||l[0];if(m&&m.playlist){l="sortedPlaylistReps";return f?l="leastPixelDiffRep":p?l="resolutionPlusOneRep":t?l="resolutionBestRep":a?l="bandwidthBestRep":c[0]&&(l="enabledPlaylistReps"),xc("choosing "+Cc(m)+" using "+l+" with options",o),m.playlist}return xc("could not choose a playlist with options",o),null}}function yl(t){var e=t.inbandTextTracks,i=t.metadataArray,r=t.timestampOffset,n=t.videoDuration;if(i){var s=window.WebKitDataCue||window.VTTCue,o=e.metadataTrack_;if(o&&(i.forEach(function(t){var n=t.cueTime+r;!("number"!=typeof n||window.isNaN(n)||n<0)&&n<1/0&&t.frames.forEach(function(t){var e,i=new s(n,n,t.value||t.url||t.data||"");i.frame=t,i.value=t,e=i,Object.defineProperties(e.frame,{id:{get:function(){return Zn.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Zn.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Zn.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}}),o.addCue(i)})}),o.cues&&o.cues.length)){for(var a=o.cues,l=[],c=0;c<a.length;c++)a[c]&&l.push(a[c]);var u=l.reduce(function(t,e){var i=t[e.startTime]||[];return i.push(e),t[e.startTime]=i,t},{}),d=Object.keys(u).sort(function(t,e){return Number(t)-Number(e)});d.forEach(function(t,e){var t=u[t],i=Number(d[e+1])||n;t.forEach(function(t){t.endTime=i})})}}}function vl(t,e,i){var n,r;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime>=t&&r.endTime<=e&&i.removeCue(r)}function bl(t){return"number"==typeof t&&isFinite(t)}function _l(t){var e=t.startOfSegment,i=t.duration,n=t.segment,r=t.part,s=t.playlist,o=s.mediaSequence,a=s.id,l=s.segments,c=t.mediaIndex,u=t.partIndex,d=t.timeline,h=(void 0===l?[]:l).length-1,p="mediaIndex/partIndex increment";return t.getMediaInfoForTime?p="getMediaInfoForTime ("+t.getMediaInfoForTime+")":t.isSyncRequest&&(p="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(p+=" with independent "+t.independent),s="number"==typeof u,l=t.segment.uri?"segment":"pre-segment",t=s?Aa({preloadSegment:n})-1:0,l+" ["+(o+c)+"/"+(o+h)+"]"+(s?" part ["+u+"/"+t+"]":"")+" segment start/end ["+n.start+" => "+n.end+"]"+(s?" part start/end ["+r.start+" => "+r.end+"]":"")+" startOfSegment ["+e+"] duration ["+i+"] timeline ["+d+"] selected by ["+p+"] playlist ["+a+"]"}function Tl(t){return t+"TimingInfo"}function wl(t){var e=t.timelineChangeController,i=t.currentTimeline,n=t.segmentTimeline,r=t.loaderType,t=t.audioDisabled;if(i!==n){if("audio"===r){i=e.lastTimelineChange({type:"main"});return!i||i.to!==n}if("main"===r&&t){e=e.pendingTimelineChange({type:"audio"});return e&&e.to===n?!1:!0}}}function Sl(t){var e=t.segmentDuration,t=t.maxDuration;return!!e&&Math.round(e)>t+Il}function xl(t,e){if("hls"!==e)return null;var n,r,i=(n={audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo},r=0,["video","audio"].forEach(function(t){var e,i=n[t+"TimingInfo"];i&&(t=i.start,i=i.end,"bigint"==typeof t||"bigint"==typeof i?e=window.BigInt(i)-window.BigInt(t):"number"==typeof t&&"number"==typeof i&&(e=i-t),void 0!==e&&r<e&&(r=e))}),r="bigint"==typeof r&&r<Number.MAX_SAFE_INTEGER?Number(r):r);if(!i)return null;var s=t.playlist.targetDuration,o=Sl({segmentDuration:i,maxDuration:2*s}),e=Sl({segmentDuration:i,maxDuration:s}),s="Segment with index "+t.mediaIndex+" from playlist "+t.playlist.id+" has a duration of "+i+" when the reported duration is "+t.duration+" and the target duration is "+s+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return o||e?{severity:o?"warn":"info",message:s}:null}var Cl=ma,kl=9e4,El=Jn,Al=function(t){return Zn.log.debug?Zn.log.debug.bind(Zn,"VHS:",t+" >"):function(){}},Il=1/30,Pl=3*Il,Dl=function(t,e){var i,n=[];if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Zn.createTimeRanges(n)},Ol=Zn.createTimeRange,Ll=function(t,e){if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;t=0<Ea(e).length;return t&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:t&&e.partTargetDuration?3*e.partTargetDuration:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?3*e.targetDuration:0},Ml=function(t,e){var i=0,n=e-t.mediaSequence,r=t.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(void 0!==(r=t.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=Ca(t,r),void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}},Nl=function(t,e){for(var i,n=0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(i=t.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=Ca(t,i),void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},Rl=function(t,e,i){if((e=void 0===e?t.mediaSequence+t.segments.length:e)<t.mediaSequence)return 0;var n=Ml(t,e);if(n.precise)return n.result;e=Nl(t,e);return e.precise?e.result:n.result+i},Fl=function(t,e,i){if(!t)return 0;if("number"!=typeof i&&(i=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return window.Infinity}return Rl(t,e,i)},jl=function(i){if(!i||!i.playlists||!i.playlists.length)return Fa(i,function(t){return t.playlists&&t.playlists.length||t.uri});for(var t=0;t<i.playlists.length;t++){var e=function(t){var e=i.playlists[t],t=e.attributes&&e.attributes.CODECS;return t&&t.split(",").every(cr)||Fa(i,function(t){return Ra(e,t)})?"continue":{v:!1}}(t);if("continue"!==e&&"object"==typeof e)return e.v}return!0},Ul={liveEdgeDelay:Ll,duration:Fl,seekable:function(t,e,i){var n=e||0,i=Pa(t,e,!0,i);return null===i?Ol():Ol(n,i)},getMediaInfoForTime:function(t){for(var e=t.playlist,i=t.currentTime,n=t.startingSegmentIndex,r=t.startingPartIndex,s=t.startTime,o=t.experimentalExactManifestTimings,a=i-s,l=ka(e),c=0,u=0;u<l.length;u++){var d=l[u];if(n===d.segmentIndex&&("number"!=typeof r||"number"!=typeof d.partIndex||r===d.partIndex)){c=u;break}}if(a<0){if(0<c)for(var h=c-1;0<=h;h--){var p=l[h];if(a+=p.duration,o){if(a<0)continue}else if(a+Il<=0)continue;return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:s-Ia({defaultDuration:e.targetDuration,durationList:l,startIndex:c,endIndex:h})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(c<0){for(var f=c;f<0;f++)if((a-=e.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};c=0}for(var m=c;m<l.length;m++){var g=l[m];if(a-=g.duration,o){if(0<a)continue}else if(0<=a-Il)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:s+Ia({defaultDuration:e.targetDuration,durationList:l,startIndex:c,endIndex:m})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},isEnabled:La,isDisabled:function(t){return t.disabled},isBlacklisted:Da,isIncompatible:Oa,playlistEnd:Pa,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},hasAttribute:Ma,estimateSegmentRequestTime:function(t,e,i,n){return Ma("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-8*(n=void 0===n?0:n))/e:NaN},isLowestEnabledRendition:Na,isAudioOnly:jl,playlistMatch:Ra,segmentDurationWithParts:Ca},Bl=Zn.log,$l=function(t,e){return t+"-"+e},Hl=function(r,s){r.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(t){if(r.mediaGroups[t])for(var e in r.mediaGroups[t])for(var i in r.mediaGroups[t][e]){var n=r.mediaGroups[t][e][i];s(n,t,e,i)}})},ql=function(t){var e=t.playlist,i=t.uri,t=t.id;e.id=t,e.playlistErrors_=0,i&&(e.uri=i),e.attributes=e.attributes||{}},Wl=Zn.mergeOptions,zl=function(t,e){if(!t)return e;var i=Wl(t,e);if(t.preloadHints&&!e.preloadHints&&delete i.preloadHints,t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(var n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(i.parts[n]=Wl(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(i.skipped=!1),t.preload&&!e.preload&&(i.preload=!1),i},Vl=function(t,e){return t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment},Gl=function(s){function t(t,e,i){var n;if(void 0===i&&(i={}),n=s.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");n.logger_=Al("PlaylistLoader");var r=i,i=r.withCredentials,i=void 0!==i&&i,r=r.handleManifestRedirects,r=void 0!==r&&r;n.src=t,n.vhs_=e,n.withCredentials=i,n.handleManifestRedirects=r;e=e.options_;return n.customTagParsers=e&&e.customTagParsers||[],n.customTagMappers=e&&e.customTagMappers||[],n.experimentalLLHLS=e&&e.experimentalLLHLS||!1,Zn.browser.IE_VERSION&&(n.experimentalLLHLS=!1),n.state="HAVE_NOTHING",n.handleMediaupdatetimeout_=n.handleMediaupdatetimeout_.bind(pe(n)),n.on("mediaupdatetimeout",n.handleMediaupdatetimeout_),n}fe(t,s);var e=t.prototype;return e.handleMediaupdatetimeout_=function(){var t,e,i=this;"HAVE_METADATA"===this.state&&(t=this.media(),e=El(this.master.uri,t.uri),this.experimentalLLHLS&&(e=function(t,e){if(e.endList||!e.serverControl)return t;var i,n,r,s,o={};return e.serverControl.canBlockReload&&(r=e.preloadSegment,i=e.mediaSequence+e.segments.length,r&&(n=r.parts||[],-1<(r=Aa(e)-1)&&r!=n.length-1&&(o._HLS_part=r),(-1<r||n.length)&&i--),o._HLS_msn=i),e.serverControl&&e.serverControl.canSkipUntil&&(o._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(o).length&&(s=new window.URL(t),["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(t){o.hasOwnProperty(t)&&s.searchParams.set(t,o[t])}),t=s.toString()),t}(e,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:e,withCredentials:this.withCredentials},function(t,e){if(i.request)return t?i.playlistRequestError(i.request,i.media(),"HAVE_METADATA"):void i.haveMetadata({playlistString:i.request.responseText,url:i.media().uri,id:i.media().id})}))},e.playlistRequestError=function(t,e,i){var n=e.uri,e=e.id;this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+n+".",responseText:t.responseText,code:500<=t.status?4:2},this.trigger("error")},e.parseManifest_=function(t){var e=this,i=t.url;return function(t){var e=t.onwarn,i=t.oninfo,n=t.manifestString,r=t.customTagParsers,s=void 0===r?[]:r,r=t.customTagMappers,r=void 0===r?[]:r,t=t.experimentalLLHLS,o=new br;e&&o.on("warn",e),i&&o.on("info",i),s.forEach(function(t){return o.addParser(t)}),r.forEach(function(t){return o.addTagMapper(t)}),o.push(n),o.end();var a=o.manifest;t||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(t){a.hasOwnProperty(t)&&delete a[t]}),a.segments&&a.segments.forEach(function(e){["parts","preloadHints"].forEach(function(t){e.hasOwnProperty(t)&&delete e[t]})})),a.targetDuration||(l=10,a.segments&&a.segments.length&&(l=a.segments.reduce(function(t,e){return Math.max(t,e.duration)},0)),e&&e("manifest has no targetDuration defaulting to "+l),a.targetDuration=l);var l=Ea(a);return l.length&&!a.partTargetDuration&&(l=l.reduce(function(t,e){return Math.max(t,e.duration)},0),e&&(e("manifest has no partTargetDuration defaulting to "+l),Bl.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=l),a}({onwarn:function(t){t=t.message;return e.logger_("m3u8-parser warn for "+i+": "+t)},oninfo:function(t){t=t.message;return e.logger_("m3u8-parser info for "+i+": "+t)},manifestString:t.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},e.haveMetadata=function(t){var e=t.playlistString,i=t.playlistObject,n=t.url,t=t.id;this.request=null,this.state="HAVE_METADATA";e=i||this.parseManifest_({url:n,manifestString:e});e.lastRequest=Date.now(),ql({playlist:e,uri:n,id:t});n=$a(this.master,e);this.targetDuration=e.partTargetDuration||e.targetDuration,this.pendingMedia_=null,n?(this.master=n,this.media_=this.master.playlists[t]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Ha(this.media(),!!n)),this.trigger("loadedplaylist")},e.dispose=function(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),window.clearTimeout(this.finalRenditionTimeout),this.off()},e.stopRequest=function(){var t;this.request&&(t=this.request,this.request=null,t.onreadystatechange=null,t.abort())},e.media=function(i,t){var n=this;if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof i){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}if(window.clearTimeout(this.finalRenditionTimeout),t){var e=(i.partTargetDuration||i.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,i,!1),e)}else{var r=this.state,t=!this.media_||i.id!==this.media_.id,e=this.master.playlists[i.id];if(e&&e.endList||i.endList&&i.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,void(t&&(this.trigger("mediachanging"),"HAVE_MASTER"===r?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Ha(i,!0)),t){if(this.state="SWITCHING_MEDIA",this.request){if(i.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=i,this.request=this.vhs_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},function(t,e){if(n.request){if(i.lastRequest=Date.now(),i.resolvedUri=va(n.handleManifestRedirects,i.resolvedUri,e),t)return n.playlistRequestError(n.request,i,r);n.haveMetadata({playlistString:e.responseText,url:i.uri,id:i.id}),"HAVE_MASTER"===r?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}},e.pause=function(){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},e.load=function(t){var e=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var i=this.media();t?(t=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){e.mediaUpdateTimeout=null,e.load()},t)):this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},e.updateMediaUpdateTimeout_=function(t){var e=this;this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=window.setTimeout(function(){e.mediaUpdateTimeout=null,e.trigger("mediaupdatetimeout"),e.updateMediaUpdateTimeout_(t)},t))},e.start=function(){var i=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){i.setupInitialPlaylist(i.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(t,e){if(i.request){if(i.request=null,t)return i.error={status:e.status,message:"HLS playlist request error at URL: "+i.src+".",responseText:e.responseText,code:2},"HAVE_NOTHING"===i.state&&(i.started=!1),i.trigger("error");i.src=va(i.handleManifestRedirects,i.src,e);e=i.parseManifest_({manifestString:e.responseText,url:i.src});i.setupInitialPlaylist(e)}})},e.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},e.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists)return this.master=t,ja(this.master,this.srcUri()),t.playlists.forEach(function(e){e.segments=Ba(e),e.segments.forEach(function(t){Ua(t,e.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var e,i,n,r=this.srcUri()||window.location.href;this.master=(i=$l(0,e=r),(n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window.location.href,resolvedUri:window.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]}).playlists[i]=n.playlists[0],n.playlists[e]=n.playlists[0],n),this.haveMetadata({playlistObject:t,url:r,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(Zn.EventTarget),Xl=Zn.xhr,Yl=Zn.mergeOptions,H=Object.freeze({__proto__:null,createTransferableMessage:Xa,initSegmentId:Ya,segmentKeyId:Ka,hexDump:Qa,tagDump:function(t){t=t.bytes;return Qa(t)},textRanges:function(t){for(var e,i,n="",r=0;r<t.length;r++)n+=(i=r,(e=t).start(i)+"-"+e.end(i)+" ");return n}}),Kl=.25,Ql=function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds},Zl=Zn.mergeOptions,Jl=function(t,e){return(Boolean(!t.map&&!e.map)||Boolean(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length},tc=function(s){function t(t,e,i,n){var r;void 0===i&&(i={}),(r=s.call(this)||this).masterPlaylistLoader_=n||pe(r),n||(r.isMaster_=!0);n=i,i=n.withCredentials,i=void 0!==i&&i,n=n.handleManifestRedirects,n=void 0!==n&&n;if(r.vhs_=e,r.withCredentials=i,r.handleManifestRedirects=n,!t)throw new Error("A non-empty playlist URL or object is required");return r.on("minimumUpdatePeriod",function(){r.refreshXml_()}),r.on("mediaupdatetimeout",function(){r.refreshMedia_(r.media().id)}),r.state="HAVE_NOTHING",r.loadedPlaylists_={},r.logger_=Al("DashPlaylistLoader"),r.isMaster_?(r.masterPlaylistLoader_.srcUrl=t,r.masterPlaylistLoader_.sidxMapping_={}):r.childPlaylist_=t,r}fe(t,s);var e=t.prototype;return e.requestErrored_=function(t,e,i){return!this.request||(this.request=null,t?(this.error="object"!=typeof t||t instanceof Error?{status:e.status,message:"DASH request error at URL: "+e.uri,response:e.response,code:2}:t,i&&(this.state=i),this.trigger("error"),!0):void 0)},e.addSidxSegments_=function(s,n,r){var o,a,l=this,c=s.sidx&&zo(s.sidx);s.sidx&&c&&!this.masterPlaylistLoader_.sidxMapping_[c]?(o=va(this.handleManifestRedirects,s.sidx.resolvedUri),a=function(t,e){if(!l.requestErrored_(t,e,n)){var i,t=l.masterPlaylistLoader_.sidxMapping_;try{i=na(Ir(e.response).subarray(8))}catch(t){return void l.requestErrored_(t,e,n)}return t[c]={sidxInfo:s.sidx,sidx:i},co(s,i,s.sidx.resolvedUri),r(!0)}},this.request=el(o,this.vhs_.xhr,function(t,e,i,n){if(t)return a(t,e);if(!i||"mp4"!==i)return a({status:e.status,message:"Unsupported "+(i||"unknown")+" container type for sidx segment at URL: "+o,response:"",playlist:s,internal:!0,blacklistDuration:1/0,code:2},e);var r=s.sidx.byterange,i=r.offset,r=r.length;if(n.length>=r+i)return a(t,{response:n.subarray(i,i+r),status:e.status,uri:e.uri});l.request=l.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:za({byterange:s.sidx.byterange})},a)})):this.mediaRequest_=window.setTimeout(function(){return r(!1)},0)},e.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window.clearTimeout(this.minimumUpdatePeriodTimeout_),window.clearTimeout(this.mediaRequest_),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},e.hasPendingRequest=function(){return this.request||this.mediaRequest_},e.stopRequest=function(){var t;this.request&&(t=this.request,this.request=null,t.onreadystatechange=null,t.abort())},e.media=function(e){var i=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var t=!this.media_||e.id!==this.media_.id;if(t&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(t&&(this.trigger("mediachanging"),this.trigger("mediachange")));t&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,function(t){i.haveMetadata({startingState:n,playlist:e})}))},e.haveMetadata=function(t){var e=t.startingState,t=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,this.mediaRequest_=null,this.refreshMedia_(t.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")},e.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(window.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},e.load=function(t){var e=this;window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var i=this.media();t?(t=i?i.targetDuration/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(function(){return e.load()},t)):this.started?i&&!i.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},e.start=function(){var i=this;this.started=!0,this.isMaster_?this.requestMaster_(function(t,e){i.haveMaster_(),i.hasPendingRequest()||i.media_||i.media(i.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=window.setTimeout(function(){return i.haveMaster_()},0)},e.requestMaster_=function(n){var r=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(t,e){if(!r.requestErrored_(t,e)){var i=e.responseText!==r.masterPlaylistLoader_.masterXml_;return r.masterPlaylistLoader_.masterXml_=e.responseText,e.responseHeaders&&e.responseHeaders.date?r.masterLoaded_=Date.parse(e.responseHeaders.date):r.masterLoaded_=Date.now(),r.masterPlaylistLoader_.srcUrl=va(r.handleManifestRedirects,r.masterPlaylistLoader_.srcUrl,e),i?(r.handleMaster_(),void r.syncClientServerClock_(function(){return n(e,i)})):n(e,i)}"HAVE_NOTHING"===r.state&&(r.started=!1)})},e.syncClientServerClock_=function(i){var n=this,r=Lo(this.masterPlaylistLoader_.masterXml_);return null===r?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),i()):"DIRECT"===r.method?(this.masterPlaylistLoader_.clientOffset_=r.value-Date.now(),i()):void(this.request=this.vhs_.xhr({uri:El(this.masterPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},function(t,e){if(n.request){if(t)return n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-Date.now(),i();e="HEAD"===r.method?e.responseHeaders&&e.responseHeaders.date?Date.parse(e.responseHeaders.date):n.masterLoaded_:Date.parse(e.responseText);n.masterPlaylistLoader_.clientOffset_=e-Date.now(),i()}}))},e.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},e.handleMaster_=function(){this.mediaRequest_=null;var t=this.masterPlaylistLoader_.master,e=nl({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(e=function(t,e,i){for(var s=!0,o=Zl(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts}),n=0;n<e.playlists.length;n++){var r,a=e.playlists[n];a.sidx&&(r=zo(a.sidx),i&&i[r]&&i[r].sidx&&co(a,i[r].sidx,a.sidx.resolvedUri));a=$a(o,a,il);a&&(o=a,s=!1)}return Hl(e,function(t,e,i,n){var r;t.playlists&&t.playlists.length&&(r=t.playlists[0].id,(t=$a(o,t.playlists[0],il))&&((o=t).mediaGroups[e][i][n].playlists[0]=o.playlists[r],s=!1))}),(s=e.minimumUpdatePeriod===t.minimumUpdatePeriod&&s)?null:o}(t,e,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=e||t;var i=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return i&&i!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=i),(!t||e&&e.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(e)},e.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(window.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var e=t.master&&t.master.minimumUpdatePeriod;0===e&&(t.media()?e=1e3*t.media().targetDuration:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),"number"!=typeof e||e<=0?e<0&&this.logger_("found invalid minimumUpdatePeriod of "+e+", not setting a timeout"):this.createMUPTimeout_(e)},e.createMUPTimeout_=function(t){var e=this.masterPlaylistLoader_;e.minimumUpdatePeriodTimeout_=window.setTimeout(function(){e.minimumUpdatePeriodTimeout_=null,e.trigger("minimumUpdatePeriod"),e.createMUPTimeout_(t)},t)},e.refreshXml_=function(){var i=this;this.requestMaster_(function(t,e){var r,s;e&&(i.media_&&(i.media_=i.masterPlaylistLoader_.master.playlists[i.media_.id]),i.masterPlaylistLoader_.sidxMapping_=(e=i.masterPlaylistLoader_.master,r=i.masterPlaylistLoader_.sidxMapping_,s=rl(e.playlists,r),Hl(e,function(t,e,i,n){t.playlists&&t.playlists.length&&(t=t.playlists,s=Zl(s,rl(t,r)))}),s),i.addSidxSegments_(i.media(),i.state,function(t){i.refreshMedia_(i.media().id)}))})},e.refreshMedia_=function(t){var e=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var i=this.masterPlaylistLoader_.master.playlists,n=!this.media_||this.media_!==i[t];n?this.media_=i[t]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function t(){e.media().endList||(e.mediaUpdateTimeout=window.setTimeout(function(){e.trigger("mediaupdatetimeout"),t()},Ha(e.media(),Boolean(n))))}(),this.trigger("loadedplaylist")},t}(Zn.EventTarget),ec={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},ic=function(t){for(var e=new Uint8Array(new ArrayBuffer(t.length)),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},C=function(n){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(t){var i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}}(n),e=sl(new Worker(t));e.objURL=t;var i=e.terminate;return e.on=e.addEventListener,e.off=e.removeEventListener,e.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},e}},ir=function(t){return"var browserWorkerPolyFill = "+sl.toString()+";\nbrowserWorkerPolyFill(self);\n"+t},ii=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},nc=C(ir(ii(function(){var t=function(){this.init=function(){var s={};this.on=function(t,e){s[t]||(s[t]=[]),s[t]=s[t].concat(e)},this.off=function(t,e){return!!s[t]&&(e=s[t].indexOf(e),s[t]=s[t].slice(),s[t].splice(e,1),-1<e)},this.trigger=function(t){var e,i,n,r=s[t];if(r)if(2===arguments.length)for(i=r.length,e=0;e<i;++e)r[e].call(this,arguments[1]);else{for(n=[],e=arguments.length,e=1;e<arguments.length;++e)n.push(arguments[e]);for(i=r.length,e=0;e<i;++e)r[e].apply(this,n)}},this.dispose=function(){s={}}}};t.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var l,e,i,n,r,s,o,a,c,u,d,h,p,f,m,g,y,v,b,_,T,w,S,x,C,k,E,A,I,P,D,O,L,M,N,R,F,j,U,B=t,$=Math.pow(2,32),H={getUint64:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return e.getBigUint64?(t=e.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:e.getUint32(0)*$+e.getUint32(4)},MAX_UINT32:$},q=H.MAX_UINT32;!function(){if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var t in T)T.hasOwnProperty(t)&&(T[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);w=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),E={video:C,audio:k},P=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),O=D,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),M=D,A=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),l=function(t){for(var e,i=[],n=0,r=1;r<arguments.length;r++)i.push(arguments[r]);for(r=i.length;r--;)n+=i[r].byteLength;for(e=new Uint8Array(n+8),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(0,e.byteLength),e.set(t,4),r=0,n=8;r<i.length;r++)e.set(i[r],n),n+=i[r].byteLength;return e},e=function(){return l(T.dinf,l(T.dref,P))},i=function(t){return l(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},f=function(t){return l(T.hdlr,E[t])},p=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),l(T.mdhd,e)},h=function(t){return l(T.mdia,p(t),f(t.type),s(t))},r=function(t){return l(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},s=function(t){return l(T.minf,"video"===t.type?l(T.vmhd,A):l(T.smhd,I),e(),g(t))},Xt=function(t,e){for(var i=[],n=e.length;n--;)i[n]=v(e[n]);return l.apply(null,[T.moof,r(t)].concat(i))},o=function(t){for(var e=t.length,i=[];e--;)i[e]=u(t[e]);return l.apply(null,[T.moov,c(4294967295)].concat(i).concat(a(t)))},a=function(t){for(var e=t.length,i=[];e--;)i[e]=b(t[e]);return l.apply(null,[T.mvex].concat(i))},c=function(t){t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(T.mvhd,t)},m=function(t){for(var e,i=t.samples||[],n=new Uint8Array(4+i.length),r=0;r<i.length;r++)e=i[r].flags,n[r+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return l(T.sdtp,n)},g=function(t){return l(T.stbl,y(t),l(T.stts,M),l(T.stsc,O),l(T.stsz,L),l(T.stco,D))},y=function(t){return l(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===t.type?N:R)(t))},N=function(t){for(var e,i,n=t.sps||[],r=t.pps||[],s=[],o=[],a=0;a<n.length;a++)s.push((65280&n[a].byteLength)>>>8),s.push(255&n[a].byteLength),s=s.concat(Array.prototype.slice.call(n[a]));for(a=0;a<r.length;a++)o.push((65280&r[a].byteLength)>>>8),o.push(255&r[a].byteLength),o=o.concat(Array.prototype.slice.call(r[a]));return e=[T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(T.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length],s,[r.length],o))),l(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio&&(i=t.sarRatio[0],t=t.sarRatio[1],e.push(l(T.pasp,new Uint8Array([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t])))),l.apply(null,e)},R=function(t){return l(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),i(t))},d=function(t){t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return l(T.tkhd,t)},v=function(t){var e,i=l(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),n=Math.floor(t.baseMediaDecodeTime/q),r=Math.floor(t.baseMediaDecodeTime%q),n=l(T.tfdt,new Uint8Array([1,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r]));return"audio"===t.type?(e=_(t,92),l(T.traf,i,n,e)):(r=m(t),e=_(t,r.length+92),l(T.traf,i,n,e,r))},u=function(t){return t.duration=t.duration||4294967295,l(T.trak,d(t),h(t))},b=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),l(T.trex,e)},F=function(t,e){var i=0,n=0,r=0,s=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,i|n|r|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},j=function(t,e){var i,n,r,s,o=t.samples||[];for(e+=20+16*o.length,e=F(o,e),(n=new Uint8Array(e.length+16*o.length)).set(e),i=e.length,s=0;s<o.length;s++)r=o[s],n[i++]=(4278190080&r.duration)>>>24,n[i++]=(16711680&r.duration)>>>16,n[i++]=(65280&r.duration)>>>8,n[i++]=255&r.duration,n[i++]=(4278190080&r.size)>>>24,n[i++]=(16711680&r.size)>>>16,n[i++]=(65280&r.size)>>>8,n[i++]=255&r.size,n[i++]=r.flags.isLeading<<2|r.flags.dependsOn,n[i++]=r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,n[i++]=61440&r.flags.degradationPriority,n[i++]=15&r.flags.degradationPriority,n[i++]=(4278190080&r.compositionTimeOffset)>>>24,n[i++]=(16711680&r.compositionTimeOffset)>>>16,n[i++]=(65280&r.compositionTimeOffset)>>>8,n[i++]=255&r.compositionTimeOffset;return l(T.trun,n)},U=function(t,e){var i,n,r,s,o=t.samples||[];for(e+=20+8*o.length,e=F(o,e),(i=new Uint8Array(e.length+8*o.length)).set(e),n=e.length,s=0;s<o.length;s++)r=o[s],i[n++]=(4278190080&r.duration)>>>24,i[n++]=(16711680&r.duration)>>>16,i[n++]=(65280&r.duration)>>>8,i[n++]=255&r.duration,i[n++]=(4278190080&r.size)>>>24,i[n++]=(16711680&r.size)>>>16,i[n++]=(65280&r.size)>>>8,i[n++]=255&r.size;return l(T.trun,i)},_=function(t,e){return("audio"===t.type?U:j)(t,e)};n=function(){return l(T.ftyp,w,S,w,x)};function W(t,e){var i=Y();return i.dataOffset=e,i.compositionTimeOffset=t.pts-t.dts,i.duration=t.duration,i.size=4*t.length,i.size+=t.byteLength,t.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i}var z,V=function(t){return l(T.mdat,t)},G=Xt,X=function(t){var e=n(),i=o(t),t=new Uint8Array(e.byteLength+i.byteLength);return t.set(e),t.set(i,e.byteLength),t},Y=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},K=function(t){var e,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,e=n.byteLength=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(i=t[e]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},Q=function(t){var e,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(i=t[e]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},Z=function(t){var e;return!t[0][0].keyFrame&&1<t.length&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},J=function(t,e){for(var i,n,r,s=e||0,o=[],a=0;a<t.length;a++)for(n=t[a],i=0;i<n.length;i++)r=n[i],s+=(r=W(r,s)).size,o.push(r);return o},tt=function(t){for(var e,i,n,r,s,o=0,a=t.byteLength,l=t.nalCount,c=new Uint8Array(a+4*l),u=new DataView(c.buffer),d=0;d<t.length;d++)for(n=t[d],e=0;e<n.length;e++)for(r=n[e],i=0;i<r.length;i++)s=r[i],u.setUint32(o,s.data.byteLength),c.set(s.data,o+=4),o+=s.data.byteLength;return c},et=[33,16,5,32,164,27],it=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],nt=function(t){for(var e=[];t--;)e.push(0);return e},rt=function(i){return Object.keys(i).reduce(function(t,e){return t[e]=new Uint8Array(i[e].reduce(function(t,e){return t.concat(e)},[])),t},{})},st=function(t){return 9e4*t},ot=function(t,e){return t*e},at=function(t){return t/9e4},lt=function(t,e){return t/e},ct=9e4,ut=st,dt=at,ht=function(t,e){return st(lt(t,e))},pt=function(t,e){return ot(at(t),e)},ft=function(t,e,i){return at(i?t:t-e)},mt=function(t,e,i,n){var r,s,o,a,l,c=0,u=0,d=0;if(e.length&&(r=ht(t.baseMediaDecodeTime,t.samplerate),s=Math.ceil(ct/(t.samplerate/1024)),i&&n&&(c=r-Math.max(i,n),d=(u=Math.floor(c/s))*s),!(u<1||ct/2<d))){for(z||(c={96e3:[et,[227,64],nt(154),[56]],88200:[et,[231],nt(170),[56]],64e3:[et,[248,192],nt(240),[56]],48e3:[et,[255,192],nt(268),[55,148,128],nt(54),[112]],44100:[et,[255,192],nt(268),[55,163,128],nt(84),[112]],32e3:[et,[255,192],nt(268),[55,234],nt(226),[112]],24e3:[et,[255,192],nt(268),[55,255,128],nt(268),[111,112],nt(126),[224]],16e3:[et,[255,192],nt(268),[55,255,128],nt(268),[111,255],nt(269),[223,108],nt(195),[1,192]],12e3:[it,nt(268),[3,127,248],nt(268),[6,255,240],nt(268),[13,255,224],nt(268),[27,253,128],nt(259),[56]],11025:[it,nt(268),[3,127,248],nt(268),[6,255,240],nt(268),[13,255,224],nt(268),[27,255,192],nt(268),[55,175,128],nt(108),[112]],8e3:[it,nt(268),[3,121,16],nt(47),[7]]},z=rt(c)),o=(o=z[t.samplerate])||e[0].data,a=0;a<u;a++)l=e[0],e.splice(0,0,{data:o,dts:l.dts-s,pts:l.pts-s});return t.baseMediaDecodeTime-=Math.floor(pt(d,t.samplerate)),d}},gt=function(t,e,i){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},yt=function(t){for(var e,i=[],n=0;n<t.length;n++)e=t[n],i.push({size:e.data.byteLength,duration:1024});return i},vt=function(t){for(var e,i=0,n=new Uint8Array(function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].data.byteLength;return e}(t)),r=0;r<t.length;r++)e=t[r],n.set(e.data,i),i+=e.data.byteLength;return n},bt=ct,_t=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},Tt=function(t,e){var i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),e=t.timelineStartInfo.baseMediaDecodeTime,e+=i,e=Math.max(0,e),"audio"===t.type&&(e*=t.samplerate/bt,e=Math.floor(e)),e},wt=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},St=function(t){for(var e=0,i={payloadType:-1,payloadSize:0},n=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)n+=255,e++;for(n+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!i.payload&&4===n){if("GA94"===String.fromCharCode(t[e+3],t[e+4],t[e+5],t[e+6])){i.payloadType=n,i.payloadSize=r,i.payload=t.subarray(e,e+r);break}i.payload=void 0}e+=r,r=n=0}return i},xt=function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},Ct=function(t,e){var i,n,r,s,o=[];if(!(64&e[0]))return o;for(n=31&e[0],i=0;i<n;i++)s={type:3&e[2+(r=3*i)],pts:t},4&e[2+r]&&(s.ccData=e[3+r]<<8|e[4+r],o.push(s));return o},kt=function(t){for(var e=t.byteLength,i=[],n=1;n<e-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return t;for(var r=e-i.length,s=new Uint8Array(r),o=0,n=0;n<r;o++,n++)o===i[0]&&(o++,i.shift()),s[n]=t[o];return s},Et=4,At=function t(e){e=e||{},t.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ut(0,0),new Ut(0,1),new Ut(1,0),new Ut(1,1)],this.parse708captions_&&(this.cc708Stream_=new Lt({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(At.prototype=new B).push=function(t){var e,i;if("sei_rbsp"===t.nalUnitType&&(e=St(t.escapedRBSP)).payload&&e.payloadType===Et&&(i=xt(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=Ct(t.pts,i),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},At.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return"flush"===e?t.flush():t.partialFlush()},this)},At.prototype.flushStream=function(t){this.captionPackets_.length&&(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2?this.dispatchCea608Packet(t):this.dispatchCea708Packet(t)},this),this.captionPackets_.length=0),this.flushCCStreams(t)},At.prototype.flush=function(){return this.flushStream("flush")},At.prototype.partialFlush=function(){return this.flushStream("partialFlush")},At.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},At.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},At.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},At.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},At.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)},At.prototype.dispatchCea708Packet=function(t){this.parse708captions_&&this.cc708Stream_.push(t)};function It(t){return 32<=t&&t<=127||160<=t&&t<=255}function Pt(t){this.windowNum=t,this.reset()}var Dt={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600};Pt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Pt.prototype.getText=function(){return this.rows.join("\n")},Pt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Pt.prototype.newLine=function(t){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(t),0<this.rows.length&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Pt.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Pt.prototype.addText=function(t){this.rows[this.rowIdx]+=t},Pt.prototype.backspace=function(){var t;this.isEmpty()||(t=this.rows[this.rowIdx],this.rows[this.rowIdx]=t.substr(0,t.length-1))};function Ot(t,e,i){this.serviceNum=t,this.text="",this.currentWindow=new Pt(-1),this.windows=[],this.stream=i,"string"==typeof e&&this.createTextDecoder(e)}Ot.prototype.init=function(t,e){this.startPts=t;for(var i=0;i<8;i++)this.windows[i]=new Pt(i),"function"==typeof e&&(this.windows[i].beforeRowOverflow=e)},Ot.prototype.setCurrentWindow=function(t){this.currentWindow=this.windows[t]},Ot.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Lt=function t(e){e=e||{},t.prototype.init.call(this);var i,n=this,r=e.captionServices||{},s={};Object.keys(r).forEach(function(t){i=r[t],/^SERVICE/.test(t)&&(s[t]=i.encoding)}),this.serviceEncodings=s,this.current708Packet=null,this.services={},this.push=function(t){(3===t.type||null===n.current708Packet)&&n.new708Packet(),n.add708Bytes(t)}};Lt.prototype=new B,Lt.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Lt.prototype.add708Bytes=function(t){var e=t.ccData,i=e>>>8,e=255&e;this.current708Packet.ptsVals.push(t.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(e)},Lt.prototype.push708Packet=function(){var t,e=this.current708Packet,i=e.data,n=null,r=0,s=i[r++];for(e.seq=s>>6,e.sizeCode=63&s;r<i.length;r++)t=31&(s=i[r++]),7===(n=s>>5)&&0<t&&(n=i[r++]),this.pushServiceBlock(n,r,t),0<t&&(r+=t-1)},Lt.prototype.pushServiceBlock=function(t,e,i){for(var n,r=e,s=this.current708Packet.data,o=(o=this.services[t])||this.initService(t,r);r<e+i&&r<s.length;r++)n=s[r],It(n)?r=this.handleText(r,o):24===n?r=this.multiByteCharacter(r,o):16===n?r=this.extendedCommands(r,o):128<=n&&n<=135?r=this.setCurrentWindow(r,o):152<=n&&n<=159?r=this.defineWindow(r,o):136===n?r=this.clearWindows(r,o):140===n?r=this.deleteWindows(r,o):137===n?r=this.displayWindows(r,o):138===n?r=this.hideWindows(r,o):139===n?r=this.toggleWindows(r,o):151===n?r=this.setWindowAttributes(r,o):144===n?r=this.setPenAttributes(r,o):145===n?r=this.setPenColor(r,o):146===n?r=this.setPenLocation(r,o):143===n?o=this.reset(r,o):8===n?o.currentWindow.backspace():12===n?o.currentWindow.clearText():13===n?o.currentWindow.pendingNewLine=!0:14===n?o.currentWindow.clearText():141===n&&r++},Lt.prototype.extendedCommands=function(t,e){var i=this.current708Packet.data[++t];return t=It(i)?this.handleText(t,e,{isExtended:!0}):t},Lt.prototype.getPts=function(t){return this.current708Packet.ptsVals[Math.floor(t/2)]},Lt.prototype.initService=function(e,t){var i,n="SERVICE"+e,r=this;return n in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[e]=new Ot(e,i,r),this.services[e].init(this.getPts(t),function(t){r.flushDisplayed(t,r.services[e])}),this.services[e]},Lt.prototype.handleText=function(t,e,i){var n,r=i&&i.isExtended,s=i&&i.isMultiByte,o=this.current708Packet.data,a=r?4096:0,l=o[t],i=o[t+1],o=e.currentWindow,c=e.textDecoder_&&!r?(s?(n=[l,i],t++):n=[l],e.textDecoder_.decode(new Uint8Array(n))):(c=Dt[l=a|l]||l,4096&l&&l===c?"":String.fromCharCode(c));return o.pendingNewLine&&!o.isEmpty()&&o.newLine(this.getPts(t)),o.pendingNewLine=!1,o.addText(c),t},Lt.prototype.multiByteCharacter=function(t,e){var i=this.current708Packet.data,n=i[t+1],i=i[t+2];return t=It(n)&&It(i)?this.handleText(++t,e,{isMultiByte:!0}):t},Lt.prototype.setCurrentWindow=function(t,e){var i=this.current708Packet.data[t];return e.setCurrentWindow(7&i),t},Lt.prototype.defineWindow=function(t,e){var i=this.current708Packet.data,n=i[t];e.setCurrentWindow(7&n);e=e.currentWindow,n=i[++t];return e.visible=(32&n)>>5,e.rowLock=(16&n)>>4,e.columnLock=(8&n)>>3,e.priority=7&n,n=i[++t],e.relativePositioning=(128&n)>>7,e.anchorVertical=127&n,n=i[++t],e.anchorHorizontal=n,n=i[++t],e.anchorPoint=(240&n)>>4,e.rowCount=15&n,n=i[++t],e.columnCount=63&n,n=i[++t],e.windowStyle=(56&n)>>3,e.penStyle=7&n,e.virtualRowCount=e.rowCount+1,t},Lt.prototype.setWindowAttributes=function(t,e){var i=this.current708Packet.data,e=(i[t],e.currentWindow.winAttr),n=i[++t];return e.fillOpacity=(192&n)>>6,e.fillRed=(48&n)>>4,e.fillGreen=(12&n)>>2,e.fillBlue=3&n,n=i[++t],e.borderType=(192&n)>>6,e.borderRed=(48&n)>>4,e.borderGreen=(12&n)>>2,e.borderBlue=3&n,n=i[++t],e.borderType+=(128&n)>>5,e.wordWrap=(64&n)>>6,e.printDirection=(48&n)>>4,e.scrollDirection=(12&n)>>2,e.justify=3&n,n=i[++t],e.effectSpeed=(240&n)>>4,e.effectDirection=(12&n)>>2,e.displayEffect=3&n,t},Lt.prototype.flushDisplayed=function(t,e){for(var i=[],n=0;n<8;n++)e.windows[n].visible&&!e.windows[n].isEmpty()&&i.push(e.windows[n].getText());e.endPts=t,e.text=i.join("\n\n"),this.pushCaption(e),e.startPts=t},Lt.prototype.pushCaption=function(t){""!==t.text&&(this.trigger("data",{startPts:t.startPts,endPts:t.endPts,text:t.text,stream:"cc708_"+t.serviceNum}),t.text="",t.startPts=t.endPts)},Lt.prototype.displayWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;r<8;r++)i&1<<r&&(e.windows[r].visible=1);return t},Lt.prototype.hideWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;r<8;r++)i&1<<r&&(e.windows[r].visible=0);return t},Lt.prototype.toggleWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;r<8;r++)i&1<<r&&(e.windows[r].visible^=1);return t},Lt.prototype.clearWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;r<8;r++)i&1<<r&&e.windows[r].clearText();return t},Lt.prototype.deleteWindows=function(t,e){var i=this.current708Packet.data[++t],n=this.getPts(t);this.flushDisplayed(n,e);for(var r=0;r<8;r++)i&1<<r&&e.windows[r].reset();return t},Lt.prototype.setPenAttributes=function(t,e){var i=this.current708Packet.data,e=(i[t],e.currentWindow.penAttr),n=i[++t];return e.textTag=(240&n)>>4,e.offset=(12&n)>>2,e.penSize=3&n,n=i[++t],e.italics=(128&n)>>7,e.underline=(64&n)>>6,e.edgeType=(56&n)>>3,e.fontStyle=7&n,t},Lt.prototype.setPenColor=function(t,e){var i=this.current708Packet.data,e=(i[t],e.currentWindow.penColor),n=i[++t];return e.fgOpacity=(192&n)>>6,e.fgRed=(48&n)>>4,e.fgGreen=(12&n)>>2,e.fgBlue=3&n,n=i[++t],e.bgOpacity=(192&n)>>6,e.bgRed=(48&n)>>4,e.bgGreen=(12&n)>>2,e.bgBlue=3&n,n=i[++t],e.edgeRed=(48&n)>>4,e.edgeGreen=(12&n)>>2,e.edgeBlue=3&n,t},Lt.prototype.setPenLocation=function(t,e){var i,n=this.current708Packet.data,r=(n[t],e.currentWindow.penLoc);return e.currentWindow.pendingNewLine=!0,i=n[++t],r.row=15&i,i=n[++t],r.column=63&i,t},Lt.prototype.reset=function(t,e){var i=this.getPts(t);return this.flushDisplayed(i,e),this.initService(e.serviceNum,t)};function Mt(t){return null===t?"":(t=Rt[t]||t,String.fromCharCode(t))}function Nt(){for(var t=[],e=Ft+1;e--;)t.push("");return t}var Rt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ft=14,jt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ut=function t(e,i){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,r,s=32639&t.ccData;s!==this.lastControlCode_?(4096==(61440&s)?this.lastControlCode_=s:s!==this.PADDING_&&(this.lastControlCode_=null),e=s>>>8,i=255&s,s===this.PADDING_||(s===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":s===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=t.pts):s===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(t.pts)):s===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(t.pts)):s===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(t.pts)):s===this.CARRIAGE_RETURN_?(this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts):s===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):s===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(t.pts),this.displayed_=Nt()):s===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=Nt():s===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Nt()),this.mode_="paintOn",this.startPts_=t.pts):this.isSpecialCharacter(e,i)?(n=Mt((e=(3&e)<<8)|i),this[this.mode_](t.pts,n),this.column_++):this.isExtCharacter(e,i)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),n=Mt((e=(3&e)<<8)|i),this[this.mode_](t.pts,n),this.column_++):this.isMidRowCode(e,i)?(this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&i)&&this.addFormatting(t.pts,["i"]),1==(1&i)&&this.addFormatting(t.pts,["u"])):this.isOffsetControlCode(e,i)?this.column_+=3&i:this.isPAC(e,i)?(r=jt.indexOf(7968&s),"rollUp"===this.mode_&&(r-this.rollUpRows_+1<0&&(r=this.rollUpRows_-1),this.setRollUp(t.pts,r)),r!==this.row_&&(this.clearFormatting(t.pts),this.row_=r),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&s)&&(this.column_=4*((14&s)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(t.pts,["i"])):this.isNormalChar(e)&&(0===i&&(i=null),n=Mt(e),n+=Mt(i),this[this.mode_](t.pts,n),this.column_+=n.length))):this.lastControlCode_=null}};Ut.prototype=new B,Ut.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t,e){try{return t.trim()}catch(t){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+e+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Ut.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Nt(),this.nonDisplayed_=Nt(),this.lastControlCode_=null,this.column_=0,this.row_=Ft,this.rollUpRows_=2,this.formatting_=[]},Ut.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ut.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&48<=e&&e<=63},Ut.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&32<=e&&e<=63},Ut.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&32<=e&&e<=47},Ut.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&33<=e&&e<=35},Ut.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&64<=e&&e<=127},Ut.prototype.isColorPAC=function(t){return 64<=t&&t<=79||96<=t&&t<=127},Ut.prototype.isNormalChar=function(t){return 32<=t&&t<=127},Ut.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=Ft,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Nt(),this.displayed_=Nt()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Ut.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);e=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,e)},Ut.prototype.clearFormatting=function(t){var e;this.formatting_.length&&(e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},""),this.formatting_=[],this[this.mode_](t,e))},Ut.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=i+=e},Ut.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=e},Ut.prototype.shiftRowsUp_=function(){for(var t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<Ft+1;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Ut.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=e};function Bt(t,e){var i=1;for(e<t&&(i=-1);Math.abs(e-t)>Wt;)t+=i*qt;return t}var $t={CaptionStream:At,Cea608Stream:Ut,Cea708Stream:Lt},Ht={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},qt=8589934592,Wt=4294967296,t=function t(e){var i,n;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===n&&(n=t.dts),t.dts=Bt(t.dts,n),t.pts=Bt(t.pts,n),i=t.dts,this.trigger("data",t))},this.flush=function(){n=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};t.prototype=new B;function zt(t,e,i){for(var n="",r=e;r<i;r++)n+="%"+("00"+t[r].toString(16)).slice(-2);return n}function Vt(t,e,i){return decodeURIComponent(zt(t,e,i))}function Gt(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var Xt=t,At=Bt,Yt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Vt(t.data,1,e),t.value=Vt(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Vt(t.data,1,e),t.url=Vt(t.data,e+1,t.data.length);break}},PRIV:function(t){for(var e,i=0;i<t.data.length;i++)if(0===t.data[i]){t.owner=(e=t.data,unescape(zt(e,0,i)));break}t.privateData=t.data.subarray(i+1),t.data=t.privateData}},Kt=function(t){var e,i={descriptor:t&&t.descriptor},l=0,c=[],u=0;if(Kt.prototype.init.call(this),this.dispatchType=Ht.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,i,n,r,s,o,a;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(u=0,c.length=0),0===c.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(c.push(t),u+=t.data.byteLength,1===c.length&&(l=Gt(t.data.subarray(6,10)),l+=10),!(u<l)){for(e={data:new Uint8Array(l),frames:[],pts:c[0].pts,dts:c[0].dts},r=0;r<l;)e.data.set(c[0].data.subarray(0,l-r),r),r+=c[0].data.byteLength,u-=c[0].data.byteLength,c.shift();i=10,64&e.data[5]&&(i+=4,i+=Gt(e.data.subarray(10,14)),l-=Gt(e.data.subarray(16,20)));do{if((n=Gt(e.data.subarray(i+4,i+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."})}while((a={id:String.fromCharCode(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3]),data:e.data.subarray(i+10,i+n+10)}).key=a.id,Yt[a.id]&&(Yt[a.id](a),"com.apple.streaming.transportStreamTimestamp"===a.owner&&(o=(1&(s=a.data)[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2,o*=4,o+=3&s[7],a.timeStamp=o,void 0===e.pts&&void 0===e.dts&&(e.pts=a.timeStamp,e.dts=a.timeStamp),this.trigger("timestamp",a))),e.frames.push(a),i+=10,(i+=n)<l);this.trigger("data",e)}}};Kt.prototype=new B;var Qt,Zt,t=Kt,Xt=Xt,Jt=function(){var r=new Uint8Array(188),s=0;Jt.prototype.init.call(this),this.push=function(t){var e,i=0,n=188;for(s?((e=new Uint8Array(t.byteLength+s)).set(r.subarray(0,s)),e.set(t,s),s=0):e=t;n<e.byteLength;)71!==e[i]||71!==e[n]?(i++,n++):(this.trigger("data",e.subarray(i,n)),i+=188,n+=188);i<e.byteLength&&(r.set(e.subarray(i),0),s=e.byteLength-i)},this.flush=function(){188===s&&71===r[0]&&(this.trigger("data",r),s=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){s=0,this.trigger("reset")}};Jt.prototype=new B,(Qt=function(){var n,r,s,o;Qt.prototype.init.call(this),(o=this).packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(t,e){var i=0;e.payloadUnitStartIndicator&&(i+=t[i]+1),("pat"===e.type?r:s)(t.subarray(i),e)},r=function(t,e){e.section_number=t[7],e.last_section_number=t[8],o.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=o.pmtPid},s=function(t,e){var i,n;if(1&t[5]){for(o.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&t[1])<<8|t[2])-4,n=12+((15&t[10])<<8|t[11]);n<i;){var r=t[n],s=(31&t[n+1])<<8|t[n+2];r===Ht.H264_STREAM_TYPE&&null===o.programMapTable.video?o.programMapTable.video=s:r===Ht.ADTS_STREAM_TYPE&&null===o.programMapTable.audio?o.programMapTable.audio=s:r===Ht.METADATA_STREAM_TYPE&&(o.programMapTable["timed-metadata"][s]=r),n+=5+((15&t[n+3])<<8|t[n+4])}e.programMapTable=o.programMapTable}},this.push=function(t){var e={},i=4;if(e.payloadUnitStartIndicator=!!(64&t[1]),e.pid=31&t[1],e.pid<<=8,e.pid|=t[2],1<(48&t[3])>>>4&&(i+=t[i]+1),0===e.pid)e.type="pat",n(t.subarray(i),e),this.trigger("data",e);else if(e.pid===this.pmtPid)for(e.type="pmt",n(t.subarray(i),e),this.trigger("data",e);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,e]):this.processPes_(t,i,e)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=Ht.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Ht.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}}).prototype=new B,Qt.STREAM_TYPES={h264:27,adts:15},(Zt=function(){function n(t,e,i){var n,r=new Uint8Array(t.size),s={type:e},o=0,a=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,o=0;o<t.data.length;o++)n=t.data[o],r.set(n.data,a),a+=n.data.byteLength;c(r,s),e="video"===e||s.packetLength<=t.size,(i||e)&&(t.size=0,t.data.length=0),e&&l.trigger("data",s)}}var e,l=this,r=!1,s={data:[],size:0},o={data:[],size:0},a={data:[],size:0},c=function(t,e){var i=t[0]<<16|t[1]<<8|t[2];e.data=new Uint8Array,1==i&&(e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!=(4&t[6]),192&(i=t[7])&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&i&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8]))};Zt.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var t,e;switch(i.streamType){case Ht.H264_STREAM_TYPE:t=s,e="video";break;case Ht.ADTS_STREAM_TYPE:t=o,e="audio";break;case Ht.METADATA_STREAM_TYPE:t=a,e="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&n(t,e,!0),t.data.push(i),t.size+=i.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]};null!==(e=i.programMapTable).video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),r=!0,l.trigger("data",t)}})[i.type]()},this.reset=function(){s.size=0,s.data.length=0,o.size=0,o.data.length=0,this.trigger("reset")},this.flushStreams_=function(){n(s,"video"),n(o,"audio"),n(a,"timed-metadata")},this.flush=function(){var t;!r&&e&&(t={type:"metadata",tracks:[]},null!==e.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),l.trigger("data",t)),r=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new B;var te,ee={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Jt,TransportParseStream:Qt,ElementaryStream:Zt,TimestampRolloverStream:Xt,CaptionStream:$t.CaptionStream,Cea608Stream:$t.Cea608Stream,Cea708Stream:$t.Cea708Stream,MetadataStream:t};for(te in Ht)Ht.hasOwnProperty(te)&&(ee[te]=Ht[te]);var ie=ee,ne=ct,re=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],se=function(l){var c,u=0;se.prototype.init.call(this),this.skipWarn_=function(t,e){this.trigger("log",{level:"warn",message:"adts skiping bytes "+t+" to "+e+" in frame "+u+" outside syncword"})},this.push=function(t){var e,i,n,r,s,o,a=0;if(l||(u=0),"audio"===t.type){for(c&&c.length?(n=c,(c=new Uint8Array(n.byteLength+t.data.byteLength)).set(n),c.set(t.data,n.byteLength)):c=t.data;a+7<c.length;)if(255===c[a]&&240==(246&c[a+1])){if("number"==typeof o&&(this.skipWarn_(o,a),o=null),i=2*(1&~c[a+1]),e=(3&c[a+3])<<11|c[a+4]<<3|(224&c[a+5])>>5,s=(r=1024*(1+(3&c[a+6])))*ne/re[(60&c[a+2])>>>2],c.byteLength-a<e)break;this.trigger("data",{pts:t.pts+u*s,dts:t.dts+u*s,sampleCount:r,audioobjecttype:1+(c[a+2]>>>6&3),channelcount:(1&c[a+2])<<2|(192&c[a+3])>>>6,samplerate:re[(60&c[a+2])>>>2],samplingfrequencyindex:(60&c[a+2])>>>2,samplesize:16,data:c.subarray(a+7+i,a+e)}),u++,a+=e}else"number"!=typeof o&&(o=a),a++;"number"==typeof o&&(this.skipWarn_(o,a),o=null),c=c.subarray(a)}},this.flush=function(){u=0,this.trigger("done")},this.reset=function(){c=void 0,this.trigger("reset")},this.endTimeline=function(){c=void 0,this.trigger("endedtimeline")}};se.prototype=new B;var oe,ae,le=se,ce=function(n){var r=n.byteLength,s=0,o=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+o},this.loadWord=function(){var t=n.byteLength-r,e=new Uint8Array(4),i=Math.min(4,r);if(0===i)throw new Error("no bytes available");e.set(n.subarray(t,t+i)),s=new DataView(e.buffer).getUint32(0),o=8*i,r-=i},this.skipBits=function(t){var e;t<o||(t-=o,t-=8*(e=Math.floor(t/8)),r-=e,this.loadWord()),s<<=t,o-=t},this.readBits=function(t){var e=Math.min(o,t),i=s>>>32-e;return 0<(o-=e)?s<<=e:0<r&&this.loadWord(),0<(e=t-e)?i<<e|this.readBits(e):i},this.skipLeadingZeros=function(){for(var t=0;t<o;++t)if(0!=(s&2147483648>>>t))return s<<=t,o-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},ue=function(){var n,r,s=0;ue.prototype.init.call(this),this.push=function(t){for(var e,i=(r=r?((e=new Uint8Array(r.byteLength+t.data.byteLength)).set(r),e.set(t.data,r.byteLength),e):t.data).byteLength;s<i-3;s++)if(1===r[s+2]){n=s+5;break}for(;n<i;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}for(s+3!==n-2&&this.trigger("data",r.subarray(s+3,n-2));1!==r[++n]&&n<i;);s=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}this.trigger("data",r.subarray(s+3,n-2)),s=n-2,n+=3;break;default:n+=3}r=r.subarray(s),n-=s,s=0},this.reset=function(){r=null,s=0,this.trigger("reset")},this.flush=function(){r&&3<r.byteLength&&this.trigger("data",r.subarray(s+3)),r=null,s=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};ue.prototype=new B,ae={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(oe=function(){var i,n,r,s,o,a,m,e=new ue;oe.prototype.init.call(this),(i=this).push=function(t){"video"===t.type&&(n=t.trackId,r=t.pts,s=t.dts,e.push(t))},e.on("data",function(t){var e={trackId:n,pts:r,dts:s,data:t,nalUnitTypeCode:31&t[0]};switch(e.nalUnitTypeCode){case 5:e.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:e.nalUnitType="sei_rbsp",e.escapedRBSP=o(t.subarray(1));break;case 7:e.nalUnitType="seq_parameter_set_rbsp",e.escapedRBSP=o(t.subarray(1)),e.config=a(e.escapedRBSP);break;case 8:e.nalUnitType="pic_parameter_set_rbsp";break;case 9:e.nalUnitType="access_unit_delimiter_rbsp"}i.trigger("data",e)}),e.on("done",function(){i.trigger("done")}),e.on("partialdone",function(){i.trigger("partialdone")}),e.on("reset",function(){i.trigger("reset")}),e.on("endedtimeline",function(){i.trigger("endedtimeline")}),this.flush=function(){e.flush()},this.partialFlush=function(){e.partialFlush()},this.reset=function(){e.reset()},this.endTimeline=function(){e.endTimeline()},m=function(t,e){for(var i=8,n=8,r=0;r<t;r++)i=0===(n=0!==n?(i+e.readExpGolomb()+256)%256:n)?i:n},o=function(t){for(var e=t.byteLength,i=[],n=1;n<e-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return t;for(var r=e-i.length,s=new Uint8Array(r),o=0,n=0;n<r;o++,n++)o===i[0]&&(o++,i.shift()),s[n]=t[o];return s},a=function(t){var e,i,n,r,s,o=0,a=0,l=0,c=0,u=[1,1],d=new ce(t),h=d.readUnsignedByte(),p=d.readUnsignedByte(),f=d.readUnsignedByte();if(d.skipUnsignedExpGolomb(),ae[h]&&(3===(i=d.readUnsignedExpGolomb())&&d.skipBits(1),d.skipUnsignedExpGolomb(),d.skipUnsignedExpGolomb(),d.skipBits(1),d.readBoolean()))for(r=3!==i?8:12,s=0;s<r;s++)d.readBoolean()&&m(s<6?16:64,d);if(d.skipUnsignedExpGolomb(),0===(n=d.readUnsignedExpGolomb()))d.readUnsignedExpGolomb();else if(1===n)for(d.skipBits(1),d.skipExpGolomb(),d.skipExpGolomb(),e=d.readUnsignedExpGolomb(),s=0;s<e;s++)d.skipExpGolomb();if(d.skipUnsignedExpGolomb(),d.skipBits(1),t=d.readUnsignedExpGolomb(),i=d.readUnsignedExpGolomb(),0===(n=d.readBits(1))&&d.skipBits(1),d.skipBits(1),d.readBoolean()&&(o=d.readUnsignedExpGolomb(),a=d.readUnsignedExpGolomb(),l=d.readUnsignedExpGolomb(),c=d.readUnsignedExpGolomb()),d.readBoolean()&&d.readBoolean()){switch(d.readUnsignedByte()){case 1:u=[1,1];break;case 2:u=[12,11];break;case 3:u=[10,11];break;case 4:u=[16,11];break;case 5:u=[40,33];break;case 6:u=[24,11];break;case 7:u=[20,11];break;case 8:u=[32,11];break;case 9:u=[80,33];break;case 10:u=[18,11];break;case 11:u=[15,11];break;case 12:u=[64,33];break;case 13:u=[160,99];break;case 14:u=[4,3];break;case 15:u=[3,2];break;case 16:u=[2,1];break;case 255:u=[d.readUnsignedByte()<<8|d.readUnsignedByte(),d.readUnsignedByte()<<8|d.readUnsignedByte()]}u&&(u[0],u[1])}return{profileIdc:h,levelIdc:f,profileCompatibility:p,width:16*(t+1)-2*o-2*a,height:(2-n)*(i+1)*16-2*l-2*c,sarRatio:u}}}).prototype=new B;function de(t,e){return t.length-e<10||t[e]!=="I".charCodeAt(0)||t[e+1]!=="D".charCodeAt(0)||t[e+2]!=="3".charCodeAt(0)?e:de(t,e+=fe(t,e))}function he(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]}var Xt=oe,pe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],fe=function(t,e){var i=0<=(i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9])?i:0;return(16&t[e+5])>>4?i+20:i+10},me=function(t,e,i){for(var n="",r=e;r<i;r++)n+="%"+("00"+t[r].toString(16)).slice(-2);return n},ge={isLikelyAacData:function(t){var e=de(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},parseId3TagSize:fe,parseAdtsSize:function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3;return 6144&t[e+3]|n|i},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return pe[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,i=10;64&t[5]&&(i+=4,i+=he(t.subarray(10,14)));do{if((e=he(t.subarray(i+4,i+8)))<1)return null;if("PRIV"===String.fromCharCode(t[i],t[i+1],t[i+2],t[i+3]))for(var n=t.subarray(i+10,i+e+10),r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(me(n,0,r)))break;var s=n.subarray(r+1),o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return o*=4,o+=3&s[7]}}while(i+=10,(i+=e)<t.byteLength);return null}},ye=function(){var s=new Uint8Array,o=0;ye.prototype.init.call(this),this.setTimestamp=function(t){o=t},this.push=function(t){var e,i,n=0,r=0;for(s.length?(i=s.length,(s=new Uint8Array(t.byteLength+i)).set(s.subarray(0,i)),s.set(t,i)):s=t;3<=s.length-r;)if(s[r]!=="I".charCodeAt(0)||s[r+1]!=="D".charCodeAt(0)||s[r+2]!=="3".charCodeAt(0))if(255!=(255&s[r])||240!=(240&s[r+1]))r++;else{if(s.length-r<7)break;if(r+(n=ge.parseAdtsSize(s,r))>s.length)break;e={type:"audio",data:s.subarray(r,r+n),pts:o,dts:o},this.trigger("data",e),r+=n}else{if(s.length-r<10)break;if(r+(n=ge.parseId3TagSize(s,r))>s.length)break;e={type:"timed-metadata",data:s.subarray(r,r+n)},this.trigger("data",e),r+=n}t=s.length-r,s=0<t?s.subarray(r):new Uint8Array},this.reset=function(){s=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){s=new Uint8Array,this.trigger("endedtimeline")}};ye.prototype=new B;function ve(t,e){for(var i=Object.keys(e),n=0;n<i.length;n++){var r=i[n];"headOfPipeline"!==r&&e[r].on&&e[r].on("log",Pe.bind(t,r))}}function be(t,e){var i;if(t.length===e.length){for(i=0;i<t.length;i++)if(t[i]!==e[i])return;return 1}}function _e(t,e,i,n,r,s){return{start:{dts:t,pts:t+(i-e)},end:{dts:t+(n-e),pts:t+(r-i)},prependedContentDuration:s,baseMediaDecodeTime:t}}var Te,we,Se,xe=ye,Ce=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ke=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ee=Xt,Ae=ge.isLikelyAacData,Ie=ct,Pe=function(t,e){e.stream=t,this.trigger("log",e)},De=function(s,o){var a=[],l=0,c=0,u=1/0,d=(o=o||{}).firstSequenceNumber||0;De.prototype.init.call(this),this.push=function(e){wt(s,e),s&&Ce.forEach(function(t){s[t]=e[t]}),a.push(e)},this.setEarliestDts=function(t){l=t},this.setVideoBaseMediaDecodeTime=function(t){u=t},this.setAudioAppendStart=function(t){c=t},this.flush=function(){var t,e,i,n,r;0!==a.length&&(t=gt(a,s,l),s.baseMediaDecodeTime=Tt(s,o.keepOriginalTimestamps),r=mt(s,t,c,u),s.samples=yt(t),e=V(vt(t)),a=[],n=G(d,[s]),i=new Uint8Array(n.byteLength+e.byteLength),d++,i.set(n),i.set(e,n.byteLength),_t(s),n=Math.ceil(1024*Ie/s.samplerate),t.length&&(n=t.length*n,this.trigger("segmentTimingInfo",_e(ht(s.baseMediaDecodeTime,s.samplerate),t[0].dts,t[0].pts,t[0].dts+n,t[0].pts+n,r||0)),this.trigger("timingInfo",{start:t[0].pts,end:t[0].pts+n})),this.trigger("data",{track:s,boxes:i})),this.trigger("done","AudioSegmentStream")},this.reset=function(){_t(s),a=[],this.trigger("reset")}};De.prototype=new B,(Te=function(o,s){var e,i,a=[],c=[],l=(s=s||{}).firstSequenceNumber||0;Te.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(t){wt(o,t),"seq_parameter_set_rbsp"!==t.nalUnitType||e||(e=t.config,o.sps=[t.data],ke.forEach(function(t){o[t]=e[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,o.pps=[t.data]),a.push(t)},this.flush=function(){for(var t,e,i,n=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(t=K(a),(e=Q(t))[0][0].keyFrame||((i=this.getGopForFusion_(a[0],o))?(n=i.duration,e.unshift(i),e.byteLength+=i.byteLength,e.nalCount+=i.nalCount,e.pts=i.pts,e.dts=i.dts,e.duration+=i.duration):e=Z(e)),c.length){var r=s.alignGopsAtEnd?this.alignGopsAtEnd_(e):this.alignGopsAtStart_(e);if(!r)return this.gopCache_.unshift({gop:e.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");_t(o),e=r}wt(o,e),o.samples=J(e),t=V(tt(e)),o.baseMediaDecodeTime=Tt(o,s.keepOriginalTimestamps),this.trigger("processedGopsInfo",e.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),i=e[0],r=e[e.length-1],this.trigger("segmentTimingInfo",_e(o.baseMediaDecodeTime,i.dts,i.pts,r.dts+r.duration,r.pts+r.duration,n)),this.trigger("timingInfo",{start:e[0].pts,end:e[e.length-1].pts+e[e.length-1].duration}),this.gopCache_.unshift({gop:e.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),n=G(l,[o]),e=new Uint8Array(n.byteLength+t.byteLength),l++,e.set(n),e.set(t,n.byteLength),this.trigger("data",{track:o,boxes:e}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,c.length=0,this.trigger("reset")},this.resetStream_=function(){_t(o),i=e=void 0},this.getGopForFusion_=function(t){for(var e,i,n,r=1/0,s=0;s<this.gopCache_.length;s++)i=(n=this.gopCache_[s]).gop,o.pps&&be(o.pps[0],n.pps[0])&&o.sps&&be(o.sps[0],n.sps[0])&&(i.dts<o.timelineStartInfo.dts||-1e4<=(i=t.dts-i.dts-i.duration)&&i<=45e3&&(!e||i<r)&&(e=n,r=i));return e?e.gop:null},this.alignGopsAtStart_=function(t){for(var e,i,n,r,s=t.byteLength,o=t.nalCount,a=t.duration,l=e=0;l<c.length&&e<t.length&&(i=c[l],n=t[e],i.pts!==n.pts);)n.pts>i.pts?l++:(e++,s-=n.byteLength,o-=n.nalCount,a-=n.duration);return 0===e?t:e===t.length?null:((r=t.slice(e)).byteLength=s,r.duration=a,r.nalCount=o,r.pts=r[0].pts,r.dts=r[0].dts,r)},this.alignGopsAtEnd_=function(t){for(var e,i,n=c.length-1,r=t.length-1,s=null,o=!1;0<=n&&0<=r;){if(e=c[n],i=t[r],e.pts===i.pts){o=!0;break}e.pts>i.pts?n--:(n===c.length-1&&(s=r),r--)}if(!o&&null===s)return null;if(0===(l=o?r:s))return t;var a=t.slice(l),l=a.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return a.byteLength=l.byteLength,a.duration=l.duration,a.nalCount=l.nalCount,a.pts=a[0].pts,a.dts=a[0].dts,a},this.alignGopsWith=function(t){c=t}}).prototype=new B,((Se=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Se.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}}).prototype=new B).flush=function(t){var e,i,n,r=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,ke.forEach(function(t){s.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,Ce.forEach(function(t){s.info[t]=this.audioTrack[t]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,t=X(this.pendingTracks),s.initSegment=new Uint8Array(t.byteLength),s.initSegment.set(t),s.data=new Uint8Array(this.pendingBytes),n=0;n<this.pendingBoxes.length;n++)s.data.set(this.pendingBoxes[n],r),r+=this.pendingBoxes[n].byteLength;for(n=0;n<this.pendingCaptions.length;n++)(e=this.pendingCaptions[n]).startTime=ft(e.startPts,o,this.keepOriginalTimestamps),e.endTime=ft(e.endPts,o,this.keepOriginalTimestamps),s.captionStreams[e.stream]=!0,s.captions.push(e);for(n=0;n<this.pendingMetadata.length;n++)(i=this.pendingMetadata[n]).cueTime=ft(i.pts,o,this.keepOriginalTimestamps),s.metadata.push(i);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),n=0;n<s.captions.length;n++)e=s.captions[n],this.trigger("caption",e);for(n=0;n<s.metadata.length;n++)i=s.metadata[n],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Se.prototype.setRemux=function(t){this.remuxTracks=t},(we=function(n){var r,s,o=this,i=!0;we.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};(this.transmuxPipeline_=e).type="aac",e.metadataStream=new ie.MetadataStream,e.aacStream=new xe,e.audioTimestampRolloverStream=new ie.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new ie.TimestampRolloverStream("timed-metadata"),e.adtsStream=new le,e.coalesceStream=new Se(n,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type&&"audio"!==t.type||e.audioSegmentStream||(s=s||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new De(s,n),e.audioSegmentStream.on("log",o.getLogTrigger_("audioSegmentStream")),e.audioSegmentStream.on("timingInfo",o.trigger.bind(o,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream),o.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!r}))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done")),ve(this,e)},this.setupTsPipeline=function(){var i={};(this.transmuxPipeline_=i).type="ts",i.metadataStream=new ie.MetadataStream,i.packetStream=new ie.TransportPacketStream,i.parseStream=new ie.TransportParseStream,i.elementaryStream=new ie.ElementaryStream,i.timestampRolloverStream=new ie.TimestampRolloverStream,i.adtsStream=new le,i.h264Stream=new Ee,i.captionStream=new ie.CaptionStream(n),i.coalesceStream=new Se(n,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(t){var e;if("metadata"===t.type){for(e=t.tracks.length;e--;)r||"video"!==t.tracks[e].type?s||"audio"!==t.tracks[e].type||((s=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(r=t.tracks[e]).timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime;r&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new Te(r,n),i.videoSegmentStream.on("log",o.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",function(t){s&&!n.keepOriginalTimestamps&&(s.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-o.baseMediaDecodeTime))}),i.videoSegmentStream.on("processedGopsInfo",o.trigger.bind(o,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",o.trigger.bind(o,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(t){s&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),i.videoSegmentStream.on("timingInfo",o.trigger.bind(o,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),s&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new De(s,n),i.audioSegmentStream.on("log",o.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",o.trigger.bind(o,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",o.trigger.bind(o,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),o.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!r})}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",function(t){t.dispatchType=i.metadataStream.dispatchType,o.trigger("id3Frame",t)}),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),ve(this,i)},this.setBaseMediaDecodeTime=function(t){var e=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=t),s&&(s.timelineStartInfo.dts=void 0,s.timelineStartInfo.pts=void 0,_t(s),e.audioTimestampRolloverStream&&e.audioTimestampRolloverStream.discontinuity()),r&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,_t(r),e.captionStream.reset()),e.timestampRolloverStream&&e.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){s&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(t){var e=this.transmuxPipeline_;n.remux=t,e&&e.coalesceStream&&e.coalesceStream.setRemux(t)},this.alignGopsWith=function(t){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.getLogTrigger_=function(e){var i=this;return function(t){t.stream=e,i.trigger("log",t)}},this.push=function(t){var e;i&&((e=Ae(t))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1),this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new B;function Oe(t){var e=31&t[1];return e<<=8,e|=t[2]}function Le(t){return!!(64&t[1])}function Me(t){var e=0;return 1<(48&t[3])>>>4&&(e+=t[4]+1),e}function Ne(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}var Re=we,t=function(t){return t>>>0},Xt=function(t){return("00"+t.toString(16)).slice(-2)},Fe=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},je=t,Ue=function t(e,i){var n,r,s,o=[];if(!i.length)return null;for(n=0;n<e.byteLength;)r=je(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),s=Fe(e.subarray(n+4,n+8)),r=1<r?n+r:e.byteLength,s===i[0]&&(1===i.length?o.push(e.subarray(n+8,r)):(s=t(e.subarray(n+8,r),i.slice(1))).length&&(o=o.concat(s))),n=r;return o},Be=t,$e=H.getUint64,He=function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4))};return 1===e.version?e.baseMediaDecodeTime=$e(t.subarray(4)):e.baseMediaDecodeTime=Be(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),e},qe=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},We=function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&i.flags[2],s=4&i.flags[2],o=1&i.flags[1],a=2&i.flags[1],l=4&i.flags[1],c=8&i.flags[1],u=n.getUint32(4),d=8;for(r&&(i.dataOffset=n.getInt32(d),d+=4),s&&u&&(e={flags:qe(t.subarray(d,d+4))},d+=4,o&&(e.duration=n.getUint32(d),d+=4),a&&(e.size=n.getUint32(d),d+=4),c&&(1===i.version?e.compositionTimeOffset=n.getInt32(d):e.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(e),u--);u--;)e={},o&&(e.duration=n.getUint32(d),d+=4),a&&(e.size=n.getUint32(d),d+=4),l&&(e.flags=qe(t.subarray(d,d+4)),d+=4),c&&(1===i.version?e.compositionTimeOffset=n.getInt32(d):e.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(e);return i},ze=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4)},n=1&i.flags[2],r=2&i.flags[2],s=8&i.flags[2],o=16&i.flags[2],a=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0],t=8;return n&&(t+=4,i.baseDataOffset=e.getUint32(12),t+=4),r&&(i.sampleDescriptionIndex=e.getUint32(t),t+=4),s&&(i.defaultSampleDuration=e.getUint32(t),t+=4),o&&(i.defaultSampleSize=e.getUint32(t),t+=4),a&&(i.defaultSampleFlags=e.getUint32(t)),l&&(i.durationIsEmpty=!0),!n&&c&&(i.baseDataOffsetIsMoof=!0),i},B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},B="undefined"!=typeof window?window:void 0!==B?B:"undefined"!=typeof self?self:{},Ve=B,Ge=kt,Xe=$t.CaptionStream,Ye=function(t,u){var i=Ue(t,["moof","traf"]),t=Ue(t,["mdat"]),d={},n=[];return t.forEach(function(t,e){e=i[e];n.push({mdat:t,traf:e})}),n.forEach(function(t){var e,i,n,r,s,o=t.mdat,a=t.traf,l=Ue(a,["tfhd"]),c=ze(l[0]),t=c.trackId,l=Ue(a,["tfdt"]),l=0<l.length?He(l[0]).baseMediaDecodeTime:0,a=Ue(a,["trun"]);u===t&&0<a.length&&(e=l,i=c.defaultSampleDuration||0,n=c.defaultSampleSize||0,r=c.trackId,s=[],a.forEach(function(t){t=We(t).samples;t.forEach(function(t){void 0===t.duration&&(t.duration=i),void 0===t.size&&(t.size=n),t.trackId=r,t.dts=e,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),"bigint"==typeof e?(t.pts=e+Ve.BigInt(t.compositionTimeOffset),e+=Ve.BigInt(t.duration)):(t.pts=e+t.compositionTimeOffset,e+=t.duration)}),s=s.concat(t)}),o=function(t,e,i){for(var n,r,s=new DataView(t.buffer,t.byteOffset,t.byteLength),o={logs:[],seiNals:[]},a=0;a+4<t.length;a+=n)if(n=s.getUint32(a),a+=4,!(n<=0))switch(31&t[a]){case 6:var l=t.subarray(a+1,a+1+n),c=function(t,e){for(var i=t,n=0;n<e.length;n++){var r=e[n];if(i<r.size)return r;i-=r.size}return null}(a,e),l={nalUnitType:"sei_rbsp",size:n,data:l,escapedRBSP:Ge(l),trackId:i};if(c)l.pts=c.pts,l.dts=c.dts,r=c;else{if(!r){o.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+a+" for trackId "+i+". See mux.js#223."});break}l.pts=r.pts,l.dts=r.dts}o.seiNals.push(l)}return o}(o,s,t),d[t]||(d[t]={seiNals:[],logs:[]}),d[t].seiNals=d[t].seiNals.concat(o.seiNals),d[t].logs=d[t].logs.concat(o.logs))}),d},Ke=function(){var e,r,s,o,a,i,n=!1;this.isInitialized=function(){return n},this.init=function(t){e=new Xe,n=!0,i=!!t&&t.isPartial,e.on("data",function(t){t.startTime=t.startPts/o,t.endTime=t.endPts/o,a.captions.push(t),a.captionStreams[t.stream]=!0}),e.on("log",function(t){a.logs.push(t)})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length)&&(s!==t[0]||o!==e[s])},this.parse=function(t,e,i){if(!this.isInitialized())return null;if(!e||!i)return null;if(this.isNewInit(e,i))s=e[0],o=i[s];else if(null===s||!o)return r.push(t),null;for(;0<r.length;){var n=r.shift();this.parse(n,e,i)}return(t=function(t,e,i){if(null===e)return null;e=Ye(t,e)[e]||{};return{seiNals:e.seiNals,logs:e.logs,timescale:i}}(t,s,o))&&t.logs&&(a.logs=a.logs.concat(t.logs)),null!==t&&t.seiNals?(this.pushNals(t.seiNals),this.flushStream(),a):a.logs.length?{logs:a.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;i?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={},a.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){r=[],o=s=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Qe=t,Ze=Xt,Je=H.getUint64,kt=function(t){return Ue(t,["moov","trak"]).reduce(function(t,e){var i,n,r=Ue(e,["tkhd"])[0];return r?(i=r[0],r=Qe(r[n=0===i?12:20]<<24|r[1+n]<<16|r[2+n]<<8|r[3+n]),(e=Ue(e,["mdia","mdhd"])[0])?(i=e[0],t[r]=Qe(e[n=0===i?12:20]<<24|e[1+n]<<16|e[2+n]<<8|e[3+n]),t):null):null},{})},$t=function(s,t){t=Ue(t,["moof","traf"]).reduce(function(t,e){var i,n=Ue(e,["tfhd"])[0],r=Qe(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),n=s[r]||9e4,r=Ue(e,["tfdt"])[0],e=new DataView(r.buffer,r.byteOffset,r.byteLength),e=1===r[0]?Je(r.subarray(4,12)):e.getUint32(4);return"bigint"==typeof e?i=e/Ve.BigInt(n):"number"!=typeof e||isNaN(e)||(i=e/n),t=(i=i<Number.MAX_SAFE_INTEGER?Number(i):i)<t?i:t},1/0);return"bigint"==typeof t||isFinite(t)?t:0},t=function(t,e){var i,n=Ue(e,["moof","traf"]),r=0,s=0;n&&n.length&&(i=Ue(n[0],["tfhd"])[0],e=Ue(n[0],["trun"])[0],n=Ue(n[0],["tfdt"])[0],i&&(o=ze(i).trackId),n&&(r=He(n).baseMediaDecodeTime),!e||(e=We(e)).samples&&e.samples.length&&(s=e.samples[0].compositionTimeOffset||0));var o=t[o]||9e4;"bigint"==typeof r&&(s=Ve.BigInt(s),o=Ve.BigInt(o));o=(r+s)/o;return o="bigint"==typeof o&&o<Number.MAX_SAFE_INTEGER?Number(o):o},Xt=function(t){var t=Ue(t,["moov","trak"]),n=[];return t.forEach(function(t){var e=Ue(t,["mdia","hdlr"]),i=Ue(t,["tkhd"]);e.forEach(function(t,e){t=Fe(t.subarray(8,12)),e=i[e];"vide"===t&&(e=0===(e=new DataView(e.buffer,e.byteOffset,e.byteLength)).getUint8(0)?e.getUint32(12):e.getUint32(20),n.push(e))})}),n},ti=function(t){var e=0===t[0]?12:20;return Qe(t[e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])},H=function(t){var t=Ue(t,["moov","trak"]),o=[];return t.forEach(function(t){var e={},i=Ue(t,["tkhd"])[0];i&&(i=(n=new DataView(i.buffer,i.byteOffset,i.byteLength)).getUint8(0),e.id=0===i?n.getUint32(12):n.getUint32(20));var n=Ue(t,["mdia","hdlr"])[0];n&&(s=Fe(n.subarray(8,12)),e.type="vide"===s?"video":"soun"===s?"audio":s);var r,s=Ue(t,["mdia","minf","stbl","stsd"])[0];s&&(s=s.subarray(8),e.codec=Fe(s.subarray(4,8)),(s=Ue(s,[e.codec])[0])&&(/^[asm]vc[1-9]$/i.test(e.codec)?(r=s.subarray(78),"avcC"===Fe(r.subarray(4,8))&&11<r.length?(e.codec+=".",e.codec+=Ze(r[9]),e.codec+=Ze(r[10]),e.codec+=Ze(r[11])):e.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(e.codec)?(r=s.subarray(28),"esds"===Fe(r.subarray(4,8))&&20<r.length&&0!==r[19]?(e.codec+="."+Ze(r[19]),e.codec+="."+Ze(r[20]>>>2&63).replace(/^0/,"")):e.codec="mp4a.40.2"):e.codec=e.codec.toLowerCase()));t=Ue(t,["mdia","mdhd"])[0];t&&(e.timescale=ti(t)),o.push(e)}),o},ei=$t,ii=H,H={parseType:function(t,e){t=Oe(t);return 0===t?"pat":t===e?"pmt":e?"pes":null},parsePat:function(t){var e=Le(t),i=4+Me(t);return e&&(i+=t[i]+1),(31&t[i+10])<<8|t[i+11]},parsePmt:function(t){var e={},i=Le(t),n=4+Me(t);if(i&&(n+=t[n]+1),1&t[n+5]){for(var r=3+((15&t[n+1])<<8|t[n+2])-4,s=12+((15&t[n+10])<<8|t[n+11]);s<r;){var o=n+s;e[(31&t[o+1])<<8|t[o+2]]=t[o],s+=5+((15&t[o+3])<<8|t[o+4])}return e}},parsePayloadUnitStartIndicator:Le,parsePesType:function(t,e){switch(e[Oe(t)]){case Ht.H264_STREAM_TYPE:return"video";case Ht.ADTS_STREAM_TYPE:return"audio";case Ht.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Le(t))return null;var e=4+Me(t);if(e>=t.byteLength)return null;var i=null,n=t[e+7];return 192&n&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+Me(t),i=t.subarray(e),n=0,r=0,s=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===Ne(31&i[r+3])&&(s=!0);1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Ne(31&i[r+3])&&(s=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,s=i&&3<i.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===Ne(31&i[r+3])?!0:s}},ni=At,ri={};ri.ts=H,ri.aac=ge;var si=ct,oi=function(t,e){for(var i,n=0,r=188;r<t.byteLength;)if(71!==t[n]||71!==t[r])n++,r++;else{switch(i=t.subarray(n,r),ri.ts.parseType(i,e.pid)){case"pat":e.pid=ri.ts.parsePat(i);break;case"pmt":var s=ri.ts.parsePmt(i);e.table=e.table||{},Object.keys(s).forEach(function(t){e.table[t]=s[t]})}n+=188,r+=188}},ai=function(t,e,i){for(var n,r,s,o,a=0,l=188,c=!1;l<=t.byteLength;)if(71!==t[a]||71!==t[l]&&l!==t.byteLength)a++,l++;else{if(n=t.subarray(a,l),"pes"===ri.ts.parseType(n,e.pid)&&(r=ri.ts.parsePesType(n,e.table),s=ri.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(o=ri.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),c=!0)),c)break;a+=188,l+=188}for(a=(l=t.byteLength)-188,c=!1;0<=a;)if(71!==t[a]||71!==t[l]&&l!==t.byteLength)a--,l--;else{if(n=t.subarray(a,l),"pes"===ri.ts.parseType(n,e.pid)&&(r=ri.ts.parsePesType(n,e.table),s=ri.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&s&&(o=ri.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),c=!0)),c)break;a-=188,l-=188}},li=function(t,e,i){for(var n,r,s,o,a,l,c,u,d=0,h=188,p=!1,f={data:[],size:0};h<t.byteLength;)if(71!==t[d]||71!==t[h])d++,h++;else{if(n=t.subarray(d,h),"pes"===ri.ts.parseType(n,e.pid))if(r=ri.ts.parsePesType(n,e.table),s=ri.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(s&&!p&&(o=ri.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),p=!0),!i.firstKeyFrame)){if(s&&0!==f.size){for(a=new Uint8Array(f.size),l=0;f.data.length;)c=f.data.shift(),a.set(c,l),l+=c.byteLength;ri.ts.videoPacketContainsKeyFrame(a)&&((u=ri.ts.parsePesTime(a))?(i.firstKeyFrame=u,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")),f.size=0}f.data.push(n),f.size+=n.byteLength}if(p&&i.firstKeyFrame)break;d+=188,h+=188}for(d=(h=t.byteLength)-188,p=!1;0<=d;)if(71!==t[d]||71!==t[h])d--,h--;else{if(n=t.subarray(d,h),"pes"===ri.ts.parseType(n,e.pid)&&(r=ri.ts.parsePesType(n,e.table),s=ri.ts.parsePayloadUnitStartIndicator(n),"video"===r&&s&&(o=ri.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),p=!0)),p)break;d-=188,h-=188}},ci=function(t,e){var i,n,r=(ri.aac.isLikelyAacData(t)?function(t){for(var e,i=!1,n=0,r=null,s=null,o=0,a=0;3<=t.length-a;){switch(ri.aac.parseType(t,a)){case"timed-metadata":if(t.length-a<10){i=!0;break}if((o=ri.aac.parseId3TagSize(t,a))>t.length){i=!0;break}null===s&&(e=t.subarray(a,a+o),s=ri.aac.parseAacTimestamp(e)),a+=o;break;case"audio":if(t.length-a<7){i=!0;break}if((o=ri.aac.parseAdtsSize(t,a))>t.length){i=!0;break}null===r&&(e=t.subarray(a,a+o),r=ri.aac.parseSampleRate(e)),n++,a+=o;break;default:a++}if(i)return null}if(null===r||null===s)return null;var l=si/r;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*n*l,pts:s+1024*n*l}]}}:function(t){var e,i={pid:null,table:null},n={};for(e in oi(t,i),i.table)if(i.table.hasOwnProperty(e))switch(i.table[e]){case Ht.H264_STREAM_TYPE:n.video=[],li(t,i,n),0===n.video.length&&delete n.video;break;case Ht.ADTS_STREAM_TYPE:n.audio=[],ai(t,i,n),0===n.audio.length&&delete n.audio}return n})(t);return r&&(r.audio||r.video)?(t=e,(e=r).audio&&e.audio.length&&(void 0!==(i=t)&&!isNaN(i)||(i=e.audio[0].dts),e.audio.forEach(function(t){t.dts=ni(t.dts,i),t.pts=ni(t.pts,i),t.dtsTime=t.dts/si,t.ptsTime=t.pts/si})),e.video&&e.video.length&&(void 0!==(n=t)&&!isNaN(n)||(n=e.video[0].dts),e.video.forEach(function(t){t.dts=ni(t.dts,n),t.pts=ni(t.pts,n),t.dtsTime=t.dts/si,t.ptsTime=t.pts/si}),e.firstKeyFrame&&((e=e.firstKeyFrame).dts=ni(e.dts,n),e.pts=ni(e.pts,n),e.dtsTime=e.dts/si,e.ptsTime=e.pts/si)),r):null},ui=function(){function t(t,e){this.options=e||{},this.self=t,this.init()}var e=t.prototype;return e.init=function(){var i,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Re(this.options),i=this.self,(t=this.transmuxer).on("data",function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};e=t.data;t.data=e.buffer,i.postMessage({action:"data",segment:t,byteOffset:e.byteOffset,byteLength:e.byteLength},[t.data])}),t.on("done",function(t){i.postMessage({action:"done"})}),t.on("gopInfo",function(t){i.postMessage({action:"gopInfo",gopInfo:t})}),t.on("videoSegmentTimingInfo",function(t){var e={start:{decode:dt(t.start.dts),presentation:dt(t.start.pts)},end:{decode:dt(t.end.dts),presentation:dt(t.end.pts)},baseMediaDecodeTime:dt(t.baseMediaDecodeTime)};t.prependedContentDuration&&(e.prependedContentDuration=dt(t.prependedContentDuration)),i.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}),t.on("audioSegmentTimingInfo",function(t){var e={start:{decode:dt(t.start.dts),presentation:dt(t.start.pts)},end:{decode:dt(t.end.dts),presentation:dt(t.end.pts)},baseMediaDecodeTime:dt(t.baseMediaDecodeTime)};t.prependedContentDuration&&(e.prependedContentDuration=dt(t.prependedContentDuration)),i.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:e})}),t.on("id3Frame",function(t){i.postMessage({action:"id3Frame",id3Frame:t})}),t.on("caption",function(t){i.postMessage({action:"caption",caption:t})}),t.on("trackinfo",function(t){i.postMessage({action:"trackinfo",trackInfo:t})}),t.on("audioTimingInfo",function(t){i.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:dt(t.start),end:dt(t.end)}})}),t.on("videoTimingInfo",function(t){i.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:dt(t.start),end:dt(t.end)}})}),t.on("log",function(t){i.postMessage({action:"log",log:t})})},e.pushMp4Captions=function(t){this.captionParser||(this.captionParser=new Ke,this.captionParser.init());var e=new Uint8Array(t.data,t.byteOffset,t.byteLength),t=this.captionParser.parse(e,t.trackIds,t.timescales);this.self.postMessage({action:"mp4Captions",captions:t&&t.captions||[],logs:t&&t.logs||[],data:e.buffer},[e.buffer])},e.probeMp4StartTime=function(t){var e=t.timescales,t=t.data,e=ei(e,t);this.self.postMessage({action:"probeMp4StartTime",startTime:e,data:t},[t.buffer])},e.probeMp4Tracks=function(t){var e=t.data,t=ii(e);this.self.postMessage({action:"probeMp4Tracks",tracks:t,data:e},[e.buffer])},e.probeTs=function(t){var e=t.data,i=t.baseStartTime,t="number"!=typeof i||isNaN(i)?void 0:i*ct,i=ci(e,t),t=null;i&&((t={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1}).hasVideo&&(t.videoStart=i.video[0].ptsTime),t.hasAudio&&(t.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:t,data:e},[e.buffer])},e.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},e.push=function(t){t=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(t)},e.reset=function(){this.transmuxer.reset()},e.setTimestampOffset=function(t){t=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ut(t)))},e.setAudioAppendStart=function(t){this.transmuxer.setAudioAppendStart(Math.ceil(ut(t.appendStart)))},e.setRemux=function(t){this.transmuxer.setRemux(t.remux)},e.flush=function(t){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},e.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},e.alignGopsWith=function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())},t}();self.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new ui(self,t.data.options):(this.messageHandlers||(this.messageHandlers=new ui(self)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}))),rc=function(t,e,i){var n=t.data.segment,r=n.type,s=n.initSegment,o=n.captions,a=n.captionStreams,l=n.metadata,c=n.videoFrameDtsTime,n=n.videoFramePtsTime;e.buffer.push({captions:o,captionStreams:a,metadata:l});t=t.data.segment.boxes||{data:t.data.segment.data},s={type:r,data:new Uint8Array(t.data,t.data.byteOffset,t.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};void 0!==c&&(s.videoFrameDtsTime=c),void 0!==n&&(s.videoFramePtsTime=n),i(s)},sc=function(t){var e=t.transmuxedData,t=t.callback;e.buffer=[],t(e)},oc=function(t,e){e.gopInfo=t.data.gopInfo},ac=function(t){t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),"function"==typeof t.currentTransmux?t.currentTransmux():ol(t.currentTransmux))},lc=function(t,e){t.postMessage({action:e}),ac(t)},cc=function(t){al("reset",t)},uc=function(t){var e=new nc;e.currentTransmux=null,e.transmuxQueue=[];var i=e.terminate;return e.terminate=function(){return e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)},e.postMessage({action:"init",options:t}),e},dc={FAILURE:2,TIMEOUT:-101,ABORTED:-102},hc=function(t){t.forEach(function(t){t.abort()})},pc=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},fc=function(t){var e=t.target,e={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return e.bytesReceived=t.loaded,e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3),e},mc=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:dc.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:dc.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:dc.FAILURE,xhr:e}:"arraybuffer"===e.responseType&&0===e.response.byteLength?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:dc.FAILURE,xhr:e}:null},gc=function(i,n){var t=ya(i.map.bytes);if("mp4"!==t){var e=i.map.resolvedUri||i.map.uri;return n({internal:!0,message:"Found unsupported "+(t||"unknown")+" container for initialization segment at URL: "+e,code:dc.FAILURE})}cl({action:"probeMp4Tracks",data:i.map.bytes,transmuxer:i.transmuxer,callback:function(t){var e=t.tracks,t=t.data;return i.map.bytes=t,e.forEach(function(t){i.map.tracks=i.map.tracks||{},i.map.tracks[t.type]||"number"==typeof(i.map.tracks[t.type]=t).id&&t.timescale&&(i.map.timescales=i.map.timescales||{},i.map.timescales[t.id]=t.timescale)}),n(null)}})},yc=function(t){var i=t.segment,n=t.bytes,e=t.trackInfoFn,r=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,a=t.id3Fn,l=t.captionsFn,c=t.isEndOfTimeline,u=t.endedTimelineFn,d=t.dataFn,h=t.doneFn,p=t.onTransmuxerLog,f=new Uint8Array(n);if(0<Ro(f,["moof"]).length){i.isFmp4=!0;var m=i.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),e(i,g);var y=function(t){d(i,{data:f,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),t&&t.length&&l(i,t),h(null,i,{})};cl({action:"probeMp4StartTime",timescales:i.map.timescales,data:f,transmuxer:i.transmuxer,callback:function(t){var e=t.data,t=t.startTime;n=e.buffer,i.bytes=f=e,g.hasAudio&&!g.isMuxed&&r(i,"audio","start",t),g.hasVideo&&r(i,"video","start",t),m.video&&e.byteLength&&i.transmuxer?cl({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:f,timescales:i.map.timescales,trackIds:[m.video.id],callback:function(t){n=t.data.buffer,i.bytes=f=t.data,t.logs.forEach(function(t){p(Zn.mergeOptions(t,{stream:"mp4CaptionParser"}))}),y(t.captions)}}):y()}})}else if(i.transmuxer){if(void 0===i.container&&(i.container=ya(f)),"ts"!==i.container&&"aac"!==i.container)return e(i,{hasAudio:!1,hasVideo:!1}),void h(null,i,{});dl({segment:i,bytes:n,trackInfoFn:e,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:d,doneFn:h,onTransmuxerLog:p})}else h(null,i,{})},vc=function(t,i){var n=t.id,e=t.key,r=t.encryptedBytes,s=t.decryptionWorker,t=function t(e){e.data.source===n&&(s.removeEventListener("message",t),e=e.data.decrypted,i(new Uint8Array(e.bytes,e.byteOffset,e.byteLength)))};s.addEventListener("message",t),t=e.bytes.slice?e.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.bytes)),s.postMessage(Xa({source:n,encrypted:r,key:t,iv:e.iv}),[r.buffer,t.buffer])},bc=function(t){var e=t.decryptionWorker,i=t.segment,n=t.trackInfoFn,r=t.timingInfoFn,s=t.videoSegmentTimingInfoFn,o=t.audioSegmentTimingInfoFn,a=t.id3Fn,l=t.captionsFn,c=t.isEndOfTimeline,u=t.endedTimelineFn,d=t.dataFn,h=t.doneFn,p=t.onTransmuxerLog;vc({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:e},function(t){i.bytes=t,yc({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:a,captionsFn:l,isEndOfTimeline:c,endedTimelineFn:u,dataFn:d,doneFn:h,onTransmuxerLog:p})})},_c=Al("CodecUtils"),Tc=function(t,e){e=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&e.AUDIO&&t.mediaGroups.AUDIO[e.AUDIO]},wc=function(t){var n={};return t.forEach(function(t){var e=t.mediaType,i=t.type,t=t.details;n[e]=n[e]||[],n[e].push(Sr(""+i+t))}),Object.keys(n).forEach(function(t){return 1<n[t].length?(_c("multiple "+t+" codecs found as attributes: "+n[t].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(n[t]=null)):void(n[t]=n[t][0])}),n},Sc=function(t,e){var i,n=e.attributes||{},r=wc(function(t){t=t.attributes||{};if(t.CODECS)return xr(t.CODECS)}(e)||[]);return Tc(t,e)&&!r.audio&&!function(t,e){if(!Tc(t,e))return!0;var i,e=e.attributes||{},n=t.mediaGroups.AUDIO[e.AUDIO];for(i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1}(t,e)&&(i=wc(function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var i,n=t.mediaGroups.AUDIO[e];if(!n)return null;for(i in n){var r=n[i];if(r.default&&r.playlists)return xr(r.playlists[0].attributes.CODECS)}return null}(t,n.AUDIO)||[])).audio&&(r.audio=i.audio),r},xc=Al("PlaylistSelector"),Cc=function(t){if(t&&t.playlist){var e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})}},kc=function(t,n){var r=t.slice();t.sort(function(t,e){var i=n(t,e);return 0===i?r.indexOf(t)-r.indexOf(e):i})},ae=function(){var t=this.useDevicePixelRatio&&window.devicePixelRatio||1;return gl(this.playlists.master,this.systemBandwidth,parseInt(fl(this.tech_.el(),"width"),10)*t,parseInt(fl(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Ec=function(n){function t(t,e){var i=n.call(this)||this;if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.vhs_=t.vhs,i.loaderType_=t.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.sourceUpdater_=t.sourceUpdater,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=t.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=t.parse708captions,i.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,i.captionServices_=t.captionServices,i.experimentalExactManifestTimings=t.experimentalExactManifestTimings,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=11<=Zn.browser.IE_VERSION,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",function(){i.isEndOfStream_()||(i.ended_=!1)}),i.fetchAtBuffer_=!1,i.logger_=Al("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(pe(i),"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),i}fe(t,n);var e=t.prototype;return e.createTransmuxer_=function(){return uc({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},e.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},e.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},e.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},e.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},e.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},e.checkForAbort_=function(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)},e.error=function(t){return void 0!==t&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},e.endOfStream=function(){this.ended_=!0,this.transmuxer_&&cc(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},e.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return Zn.createTimeRanges();if("main"===this.loaderType_){var e=t.hasAudio,i=t.hasVideo,t=t.isMuxed;if(i&&e&&!this.audioDisabled_&&!t)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},e.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=Ya(t),n=this.initSegments_[i];return e&&!n&&t.bytes&&(this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),n||t},e.segmentKey=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=Ka(t),n=this.keyCache_[i];this.cacheEncryptionKeys_&&e&&!n&&t.bytes&&(this.keyCache_[i]=n={resolvedUri:t.resolvedUri,bytes:t.bytes});t={resolvedUri:(n||t).resolvedUri};return n&&(t.bytes=n.bytes),t},e.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},e.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},e.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},e.playlist=function(t,e){if(void 0===e&&(e={}),t){var i=this.playlist_,n=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(t));var r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==t.uri)return null!==this.mediaIndex&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");e=t.mediaSequence-i.mediaSequence;this.logger_("live window shift ["+e+"]"),null!==this.mediaIndex&&(this.mediaIndex-=e,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(r=this.playlist_.segments[this.mediaIndex],!this.partIndex||r.parts&&r.parts.length&&r.parts[this.partIndex]||(r=this.mediaIndex,this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=r))),n&&(n.mediaIndex-=e,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(0<=n.mediaIndex&&(n.segment=t.segments[n.mediaIndex]),0<=n.partIndex&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,t)}},e.pause=function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},e.paused=function(){return null===this.checkBufferTimeout_},e.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},e.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},e.resyncLoader=function(){this.transmuxer_&&cc(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},e.remove=function(t,e,i,n){if(void 0===i&&(i=function(){}),void 0===n&&(n=!1),(e=e===1/0?this.duration_():e)<=t)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var r,s=1,o=function(){0===--s&&i()};for(r in!n&&this.audioDisabled_||(s++,this.sourceUpdater_.removeAudio(t,e,o)),!n&&"main"!==this.loaderType_||(this.gopBuffer_=function(t,e,i,n){for(var r=Math.ceil((e-n)*kl),s=Math.ceil((i-n)*kl),n=t.slice(),o=t.length;o--&&!(t[o].pts<=s););if(-1===o)return n;for(var a=o+1;a--&&!(t[a].pts<=r););return a=Math.max(a,0),n.splice(a,o-a+1),n}(this.gopBuffer_,t,e,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(t,e,o)),this.inbandTextTracks_)vl(t,e,this.inbandTextTracks_[r]);vl(t,e,this.segmentMetadataTrack_),o()}else this.logger_("skipping remove because no source updater or starting media info")},e.monitorBuffer_=function(){this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),1)},e.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),500)},e.fillBuffer_=function(){var t;this.sourceUpdater_.updating()||(t=this.chooseNextRequest_())&&("number"==typeof t.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))},e.isEndOfStream_=function(t,e,i){if(void 0===t&&(t=this.mediaIndex),void 0===e&&(e=this.playlist_),void 0===i&&(i=this.partIndex),!e||!this.mediaSource_)return!1;var n="number"==typeof t&&e.segments[t],t=t+1===e.segments.length,n=!n||!n.parts||i+1===n.parts.length;return e.endList&&"open"===this.mediaSource_.readyState&&t&&n},e.chooseNextRequest_=function(){var t=this.buffered_(),e=Sa(t)||0,i=xa(t,this.currentTime_()),n=!this.hasPlayed_()&&1<=i,r=i>=this.goalBufferLength_(),t=this.playlist_.segments;if(!t.length||n||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var s,n={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};n.isSyncRequest?n.mediaIndex=function(t,e,i){e=e||[];for(var n=[],r=0,s=0;s<e.length;s++){var o=e[s];if(t===o.timeline&&(n.push(s),i<(r+=o.duration)))return s}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,t,e):null!==this.mediaIndex?(r=t[this.mediaIndex],s="number"==typeof this.partIndex?this.partIndex:-1,n.startOfSegment=r.end||e,r.parts&&r.parts[s+1]?(n.mediaIndex=this.mediaIndex,n.partIndex=s+1):n.mediaIndex=this.mediaIndex+1):(s=(a=Ul.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?e:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time})).segmentIndex,o=a.startTime,a=a.partIndex,n.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+e:"currentTime "+this.currentTime_(),n.mediaIndex=s,n.startOfSegment=o,n.partIndex=a);var o=t[n.mediaIndex],a=o&&"number"==typeof n.partIndex&&o.parts&&o.parts[n.partIndex];if(!o||"number"==typeof n.partIndex&&!a)return null;"number"!=typeof n.partIndex&&o.parts&&(n.partIndex=0,a=o.parts[0]),i||!a||a.independent||(0===n.partIndex?(a=(i=t[n.mediaIndex-1]).parts&&i.parts.length&&i.parts[i.parts.length-1])&&a.independent&&(--n.mediaIndex,n.partIndex=i.parts.length-1,n.independent="previous segment"):o.parts[n.partIndex-1].independent&&(--n.partIndex,n.independent="previous part"));o=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return n.mediaIndex>=t.length-1&&o&&!this.seeking_()?null:this.generateSegmentInfo_(n)},e.generateSegmentInfo_=function(t){var e=t.independent,i=t.playlist,n=t.mediaIndex,r=t.startOfSegment,s=t.isSyncRequest,o=t.partIndex,a=t.forceTimestampOffset,l=t.getMediaInfoForTime,c=i.segments[n],t="number"==typeof o&&c.parts[o],e={requestId:"segment-loader-"+Math.random(),uri:t&&t.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:t?o:null,isSyncRequest:s,startOfSegment:r,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:t&&t.duration||c.duration,segment:c,part:t,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:e},a=void 0!==a?a:this.isPendingTimestampOffset_;e.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:a});a=Sa(this.sourceUpdater_.audioBuffered());return"number"==typeof a&&(e.audioAppendStart=a-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(e.gopsToAlignWith=function(t,e,i){if(null==e||!t.length)return[];for(var n=Math.ceil((e-i+3)*kl),r=0;r<t.length&&!(t[r].pts>n);r++);return t.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),e},e.timestampOffsetForSegment_=function(t){return e=t.segmentTimeline,i=t.currentTimeline,n=t.startOfSegment,r=t.buffered,t.overrideCheck||e!==i?!(e<i)&&r.length?r.end(r.length-1):n:null;var e,i,n,r},e.earlyAbortWhenNeeded_=function(t){var e,i,n,r,s,o,a,l,c,u,d,h,p;!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3||(e=this.currentTime_(),r=t.bandwidth,s=this.pendingSegment_.duration,p=Ul.estimateSegmentRequestTime(s,r,this.playlist_,t.bytesReceived),i=this.buffered_(),n=e,void 0===(t=this.vhs_.tech_.playbackRate())&&(t=1),p<=(t=((i.length?i.end(i.length-1):0)-n)/t-1)||(r={master:this.vhs_.playlists.master,currentTime:e,bandwidth:r,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:t,currentTimeline:this.currentTimeline_,syncController:this.syncController_},s=r.master,o=r.currentTime,a=r.bandwidth,l=r.duration,c=r.segmentDuration,u=r.timeUntilRebuffer,d=r.currentTimeline,h=r.syncController,s=(r=(s=!(s=(r=s.playlists.filter(function(t){return!Ul.isIncompatible(t)})).filter(Ul.isEnabled)).length?r.filter(function(t){return!Ul.isDisabled(t)}):s).filter(Ul.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=h.getSyncPoint(t,l,d,o)?1:2;return{playlist:t,rebufferingImpact:Ul.estimateSegmentRequestTime(c,a,t)*e-u}})).filter(function(t){return t.rebufferingImpact<=0}),kc(s,function(t,e){return ml(e.playlist,t.playlist)}),(r=s.length?s[0]:(kc(r,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),r[0]||null))&&(p=p-t-r.rebufferingImpact,!r.playlist||r.playlist.uri===this.playlist_.uri||p<(t<=Il?1:.5)||(this.bandwidth=r.playlist.attributes.BANDWIDTH*ec.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))))))},e.handleAbort_=function(t){this.logger_("Aborting "+_l(t)),this.mediaRequestsAborted+=1},e.handleProgress_=function(t,e){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.trigger("progress")},e.handleTrackInfo_=function(t,e){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.checkForIllegalMediaSwitch(e)||(function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;var i=Object.keys(t).sort(),n=Object.keys(e).sort();if(i.length!==n.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(s!==n[r])return!1;if(t[s]!==e[s])return!1}return!0}(this.currentMediaInfo_,e=e||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=e,this.currentMediaInfo_=e,this.logger_("trackinfo update",e),this.trigger("trackinfo")),this.checkForAbort_(t.requestId)||(this.pendingSegment_.trackInfo=e,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},e.handleTimingInfo_=function(t,e,i,n){var r;this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||((r=this.pendingSegment_)[t=Tl(e)]=r[t]||{},r[t][i]=n,this.logger_("timinginfo: "+e+" - "+i+" - "+n),this.hasEnoughInfoToAppend_()&&this.processCallQueue_())},e.handleCaptions_=function(t,e){var g,y,v=this;this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||(0!==e.length?this.pendingSegment_.hasAppendedData_?(g=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),y={},e.forEach(function(t){y[t.stream]=y[t.stream]||{startTime:1/0,captions:[],endTime:0};var e=y[t.stream];e.startTime=Math.min(e.startTime,t.startTime+g),e.endTime=Math.max(e.endTime,t.endTime+g),e.captions.push(t)}),Object.keys(y).forEach(function(t){var e,i,n,r,s,o,a,l,c,u,d=y[t],h=d.startTime,p=d.endTime,f=d.captions,m=v.inbandTextTracks_;v.logger_("adding cues from "+h+" -> "+p+" for "+t),e=m,i=v.vhs_.tech_,e[n=t]||(i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"}),/^cc708_/.test(r=n)&&(r="SERVICE"+n.split("_")[1]),(a=i.textTracks().getTrackById(r))?e[n]=a:(o=s=n,d=!1,(a=(i.options_.vhs&&i.options_.vhs.captionServices||{})[r])&&(s=a.label,o=a.language,d=a.default),e[n]=i.addRemoteTextTrack({kind:"captions",id:r,default:d,label:s,language:o},!1).track)),vl(h,p,m[t]),c=(f={captionArray:f,inbandTextTracks:m,timestampOffset:g}).inbandTextTracks,m=f.captionArray,u=f.timestampOffset,m&&(l=window.WebKitDataCue||window.VTTCue,m.forEach(function(t){var e=t.stream;c[e].addCue(new l(t.startTime+u,t.endTime+u,t.text))}))}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})):this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,e)):this.logger_("SegmentLoader received no captions from a caption event"))},e.handleId3_=function(t,e,i){var n,r,s,o;this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||(this.pendingSegment_.hasAppendedData_?(n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r=this.inbandTextTracks_,s=i,o=this.vhs_.tech_,r.metadataTrack_||(r.metadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,r.metadataTrack_.inBandMetadataTrackDispatchType=s),yl({inbandTextTracks:this.inbandTextTracks_,metadataArray:e,timestampOffset:n,videoDuration:this.duration_()})):this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,e,i)))},e.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},e.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(t){return t()})},e.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(t){return t()})},e.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var t=this.pendingSegment_;return!!t&&(!this.getCurrentMediaInfo_()||!wl({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},e.getCurrentMediaInfo_=function(t){return(t=void 0===t?this.pendingSegment_:t)&&t.trackInfo||this.currentMediaInfo_},e.getMediaInfo_=function(t){return void 0===t&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},e.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,e=this.getCurrentMediaInfo_();if(!t||!e)return!1;var i=e.hasAudio,n=e.hasVideo,e=e.isMuxed;return!(n&&!t.videoTimingInfo)&&(!(i&&!this.audioDisabled_&&!e&&!t.audioTimingInfo)&&!wl({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},e.handleData_=function(t,e){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var i,n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),n.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),n.isFmp4=t.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4?(this.trigger("fmp4"),n.timingInfo.start=n[Tl(e.type)].start):(i=this.getCurrentMediaInfo_(),(i="main"===this.loaderType_&&i&&i.hasVideo)&&(r=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:i,firstVideoFrameTimeForData:r,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})),this.updateAppendInitSegmentStatus(n,e.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var r=this.chooseNextRequest_();if(r.mediaIndex!==n.mediaIndex||r.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,e)}}else this.callQueue_.push(this.handleData_.bind(this,t,e))},e.updateAppendInitSegmentStatus=function(t,e){"main"!==this.loaderType_||"number"!=typeof t.timestampOffset||t.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[e]!==t.playlist&&(this.appendInitSegment_[e]=!0)},e.getInitSegmentAndUpdateState_=function(t){var e=t.type,i=t.initSegment,n=t.map,r=t.playlist;if(n){t=Ya(n);if(this.activeInitSegmentId_===t)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=t}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null},e.handleQuotaExceededError_=function(t,e){var i=this,n=t.segmentInfo,r=t.type,s=t.bytes,o=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();1<o.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+wa(o).join(", ")),1<a.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+wa(a).join(", "));var l=o.length?o.start(0):0,c=o.length?o.end(o.length-1):0,u=a.length?a.start(0):0,t=a.length?a.end(a.length-1):0;if(c-l<=1&&t-u<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+s.byteLength+", audio buffer: "+wa(o).join(", ")+", video buffer: "+wa(a).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:n,type:r,bytes:s}));s=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+s),this.remove(0,s,function(){i.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=window.setTimeout(function(){i.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),i.quotaExceededErrorRetryTimeout_=null,i.processCallQueue_()},1e3)},!0)},e.handleAppendError_=function(t,e){var i=t.segmentInfo,n=t.type,t=t.bytes;e&&(22!==e.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",e),this.error(n+" append of "+t.length+"b failed for segment #"+i.mediaIndex+" in playlist "+i.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:i,type:n,bytes:t}))},e.appendToSourceBuffer_=function(t){var e,i,n=t.segmentInfo,r=t.type,s=t.initSegment,o=t.data,a=t.bytes;a||(t=[o],o=o.byteLength,s&&(t.unshift(s),o+=s.byteLength),i=0,(t={bytes:o,segments:t}).bytes&&(e=new Uint8Array(t.bytes),t.segments.forEach(function(t){e.set(t,i),i+=t.byteLength})),a=e),this.sourceUpdater_.appendBuffer({segmentInfo:n,type:r,bytes:a},this.handleAppendError_.bind(this,{segmentInfo:n,type:r,bytes:a}))},e.handleSegmentTimingInfo_=function(t,e,i){this.pendingSegment_&&e===this.pendingSegment_.requestId&&((e=this.pendingSegment_.segment)[t=t+"TimingInfo"]||(e[t]={}),e[t].transmuxerPrependedSeconds=i.prependedContentDuration||0,e[t].transmuxedPresentationStart=i.start.presentation,e[t].transmuxedDecodeStart=i.start.decode,e[t].transmuxedPresentationEnd=i.end.presentation,e[t].transmuxedDecodeEnd=i.end.decode,e[t].baseMediaDecodeTime=i.baseMediaDecodeTime)},e.appendData_=function(t,e){var i=e.type,n=e.data;n&&n.byteLength&&("audio"===i&&this.audioDisabled_||(e=this.getInitSegmentAndUpdateState_({type:i,initSegment:e.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null}),this.appendToSourceBuffer_({segmentInfo:t,type:i,initSegment:e,data:n})))},e.loadSegment_=function(e){var i=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push(function(){var t=m({},e,{forceTimestampOffset:!0});m(e,i.generateSegmentInfo_(t)),i.isPendingTimestampOffset_=!1,i.updateTransmuxerAndRequestSegment_(e)})},e.updateTransmuxerAndRequestSegment_=function(n){var r=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var t=this.createSimplifiedSegmentObj_(n),e=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),i=null!==this.mediaIndex,s=n.timeline!==this.currentTimeline_&&0<n.timeline,s=e||i&&s;this.logger_("Requesting "+_l(n)),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=hl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:function(){r.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(t){var e=t.message,i=t.level,t=t.stream;r.logger_(_l(n)+" logged from transmuxer stream "+t+" as a "+i+": "+e)}})},e.trimBackBuffer_=function(t){var e,i,n,r,r=(e=this.seekable_(),i=this.currentTime_(),n=this.playlist_.targetDuration||10,r=i-ec.BACK_BUFFER_LENGTH,e.length&&(r=Math.max(r,e.start(0))),Math.min(i-n,r));0<r&&this.remove(0,r)},e.createSimplifiedSegmentObj_=function(t){var e=t.segment,i=t.part,n={resolvedUri:(i||e).resolvedUri,byterange:(i||e).byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},i=t.playlist.segments[t.mediaIndex-1];return i&&i.timeline===e.timeline&&(i.videoTimingInfo?n.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&&(n.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),e.key&&(t=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]),n.key=this.segmentKey(e.key),n.key.iv=t),e.map&&(n.map=this.initSegmentForMap(e.map)),n},e.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},e.saveBandwidthRelatedStats_=function(t,e){this.pendingSegment_.byteLength=e.bytesReceived,t<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+t+" is less than the min to record "+1/60):(this.bandwidth=e.bandwidth,this.roundTrip=e.roundTripTime)},e.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},e.segmentRequestFinished_=function(t,e,i){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,e,i));else if(this.saveTransferStats_(e.stats),this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===dc.ABORTED?void 0:(this.pause(),t.code===dc.TIMEOUT?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));t=this.pendingSegment_;this.saveBandwidthRelatedStats_(t.duration,e.stats),t.endOfAllRequests=e.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=function(t,e,i){if(!e.length)return t;if(i)return e.slice();for(var n=e[0].pts,r=0;r<t.length&&!(t[r].pts>=n);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(t)}},e.setTimeMapping_=function(t){t=this.syncController_.mappingForTimeline(t);null!==t&&(this.timeMapping_=t)},e.updateMediaSecondsLoaded_=function(t){"number"==typeof t.start&&"number"==typeof t.end?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},e.shouldUpdateTransmuxerTimestampOffset_=function(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())},e.trueSegmentStart_=function(t){var e=t.currentStart,i=t.playlist,n=t.mediaIndex,r=t.firstVideoFrameTimeForData,s=t.currentVideoTimestampOffset,o=t.useVideoTimingInfo,a=t.videoTimingInfo,t=t.audioTimingInfo;if(void 0!==e)return e;if(!o)return t.start;i=i.segments[n-1];return 0!==n&&i&&void 0!==i.start&&i.end===r+s?a.start:r},e.waitForAppendsToComplete_=function(t){var e=this.getCurrentMediaInfo_(t);if(!e)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var i=e.hasAudio,n=e.hasVideo,e=e.isMuxed,n="main"===this.loaderType_&&n,e=!this.audioDisabled_&&i&&!e;if(t.waitingOnAppends=0,!t.hasAppendedData_)return t.timingInfo||"number"!=typeof t.timestampOffset||(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);n&&t.waitingOnAppends++,e&&t.waitingOnAppends++,n&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),e&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},e.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())},e.checkForIllegalMediaSwitch=function(t){var e,i,t=(e=this.loaderType_,i=this.getCurrentMediaInfo_(),t=t,"main"===e&&i&&t?t.hasAudio||t.hasVideo?i.hasVideo&&!t.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&t.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},e.updateSourceBufferTimestampOffset_=function(t){var e;null===t.timestampOffset||"number"!=typeof t.timingInfo.start||t.changedTimestampOffset||"main"!==this.loaderType_||(e=!1,t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),e=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),e=!0),e&&this.trigger("timestampoffset"))},e.getSegmentStartTimeForTimestampOffsetCalculation_=function(t){var e=t.videoTimingInfo,i=t.audioTimingInfo,t=t.timingInfo;return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStart:i&&"number"==typeof i.transmuxedDecodeStart?i.transmuxedDecodeStart:t.start:t.start},e.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var e=this.getMediaInfo_(),e="main"===this.loaderType_&&e&&e.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;e&&(t.timingInfo.end="number"==typeof e.end?e.end:e.start+t.duration)},e.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_});var e=xl(t,this.sourceType_);if(e&&("warn"===e.severity?Zn.log.warn(e.message):this.logger_(e.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",!t.isSyncRequest||(this.trigger("syncinfoupdate"),t.hasAppendedData_)){this.logger_("Appended "+_l(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var i=t.segment,e=t.part,i=i.end&&this.currentTime_()-i.end>3*t.playlist.targetDuration,e=e&&e.end&&this.currentTime_()-e.end>3*t.playlist.partTargetDuration;if(i||e)return this.logger_("bad "+(i?"segment":"part")+" "+_l(t)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+_l(t))},e.recordThroughput_=function(t){var e,i;t.duration<1/60?this.logger_("Ignoring segment's throughput because its duration of "+t.duration+" is less than the min to record "+1/60):(e=this.throughput.rate,i=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/i*8*1e3),this.throughput.rate+=(i-e)/++this.throughput.count)},e.addSegmentMetadataCue_=function(t){var e,i,n,r;this.segmentMetadataTrack_&&(i=(e=t.segment).start,r=e.end,bl(i)&&bl(r)&&(vl(i,r,this.segmentMetadataTrack_),n=window.WebKitDataCue||window.VTTCue,t={custom:e.custom,dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:i,end:r},(r=new n(i,r,JSON.stringify(t))).value=t,this.segmentMetadataTrack_.addCue(r)))},t}(Zn.EventTarget);function Ac(){}function Ic(t){return"string"!=typeof t?t:t.replace(/./,function(t){return t.toUpperCase()})}function Pc(t,e){var i=e[t+"Buffer"],n=Ic(t);i&&(i.removeEventListener("updateend",e["on"+n+"UpdateEnd_"]),i.removeEventListener("error",e["on"+n+"Error_"]),e.codecs[t]=null,e[t+"Buffer"]=null)}function Dc(t,e){return t&&e&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,e)}function Oc(t){var e=t.type,i=t.sourceUpdater,n=t.action,r=t.doneFn,t=t.name;i.queue.push({type:e,action:n,doneFn:r,name:t}),Hc(e,i)}function Lc(i,n){return function(t){var e;n.queuePending[i]&&(e=n.queuePending[i].doneFn,n.queuePending[i]=null,e&&e(n[i+"Error_"])),Hc(i,n)}}function Mc(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))}function Nc(s){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){uu[t](t,s)});var t,o=s.mediaTypes,e=s.masterPlaylistLoader,i=s.tech,n=s.vhs,r=s.segmentLoaders,a=r.AUDIO,l=r.main;function c(){o.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})}for(t in["AUDIO","SUBTITLES"].forEach(function(t){var l,c,a,u,e,i,d,h,n,r;o[t].activeGroup=(l=t,c=s,function(e){var t=c.masterPlaylistLoader,i=c.mediaTypes[l].groups,n=t.media();if(!n)return null;var r=null;n.attributes[l]&&(r=i[n.attributes[l]]);var s=Object.keys(i);if(!r)if("AUDIO"===l&&1<s.length&&jl(c.master))for(var o=0;o<s.length;o++){var a=i[s[o]];if(du(a,n)){r=a;break}}else i.main?r=i.main:1===s.length&&(r=i[s[0]]);return void 0===e?r:null!==e&&r&&r.filter(function(t){return t.id===e.id})[0]||null}),o[t].activeTrack=hu[t](t,s),o[t].onGroupChanged=(a=t,u=s,function(){var t=u.segmentLoaders,e=t[a],i=t.main,n=u.mediaTypes[a],r=n.activeTrack(),s=n.getActiveGroup(),o=n.activePlaylistLoader,t=n.lastGroup_;s&&t&&s.id===t.id||(n.lastGroup_=s,n.lastTrack_=r,ou(e,n),s&&!s.isMasterPlaylist&&(s.playlistLoader?(e.resyncLoader(),au(s.playlistLoader,n)):o&&i.resetEverything()))}),o[t].onGroupChanging=(e=t,i=s,function(){var t=i.segmentLoaders[e];i.mediaTypes[e].lastGroup_=null,t.abort(),t.pause()}),o[t].onTrackChanged=(d=t,h=s,function(){var t=h.masterPlaylistLoader,e=h.segmentLoaders,i=e[d],n=e.main,r=h.mediaTypes[d],s=r.activeTrack(),o=r.getActiveGroup(),a=r.activePlaylistLoader,l=r.lastTrack_;if((!l||!s||l.id!==s.id)&&(r.lastGroup_=o,r.lastTrack_=s,ou(i,r),o)){if(o.isMasterPlaylist){if(!s||!l||s.id===l.id)return;var c=h.vhs.masterPlaylistController_,e=c.selectPlaylist();return c.media()===e?void 0:(r.logger_("track change. Switching master audio from "+l.id+" to "+s.id),t.pause(),n.resetEverything(),void c.fastQualityChange_(e))}if("AUDIO"===d){if(!o.playlistLoader)return n.setAudio(!0),void n.resetEverything();i.setAudio(!0),n.setAudio(!1)}a!==o.playlistLoader&&(i.track&&i.track(s),i.resetEverything()),au(o.playlistLoader,r)}}),o[t].getActiveGroup=(n=t,r=s.mediaTypes,function(){var t=r[n].activeTrack();return t?r[n].activeGroup(t):null})}),(r=o.AUDIO.activeGroup())&&(r=(r.filter(function(t){return t.default})[0]||r[0]).id,o.AUDIO.tracks[r].enabled=!0,o.AUDIO.onGroupChanged(),o.AUDIO.onTrackChanged(),o.AUDIO.getActiveGroup().playlistLoader?(l.setAudio(!1),a.setAudio(!0)):l.setAudio(!0)),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return o[t].onGroupChanged()})}),e.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(t){return o[t].onGroupChanging()})}),i.audioTracks().addEventListener("change",c),i.remoteTextTracks().addEventListener("change",o.SUBTITLES.onTrackChanged),n.on("dispose",function(){i.audioTracks().removeEventListener("change",c),i.remoteTextTracks().removeEventListener("change",o.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),o.AUDIO.tracks)i.audioTracks().addTrack(o.AUDIO.tracks[t])}function Rc(t,e,i){var n,r=t.masterPlaylistController_,s=r[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(r);e.attributes&&(n=e.attributes.RESOLUTION,this.width=n&&n.width,this.height=n&&n.height,this.bandwidth=e.attributes.BANDWIDTH),this.codecs=Sc(r.master(),e),this.playlist=e,this.id=i,this.enabled=mu(t.playlists,e.id,s)}function Fc(e,t){var i=0,n=0,r=Zn.mergeOptions(vu,t);function s(t){null!=t&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",l),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())}function o(){return Date.now()-i<1e3*r.errorInterval?(e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void e.trigger({type:"usage",name:"hls-error-reload-canceled"})):r.getSource&&"function"==typeof r.getSource?(i=Date.now(),r.getSource.call(e,s)):void Zn.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}function a(){e.off("loadedmetadata",l),e.off("error",o),e.off("dispose",a)}e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var l=function(){n&&e.currentTime(n)};e.on("error",o),e.on("dispose",a),e.reloadSourceOnError=function(t){a(),Fc(e,t)}}var jc,Uc=["video","audio"],Bc=function(t,e){var i=e[t+"Buffer"];return i&&i.updating||e.queuePending[t]},$c=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];if("mediaSource"===n.type)return null;if(n.type===t)return i}return null},Hc=function t(e,i){if(0!==i.queue.length){var n=0,r=i.queue[n];if("mediaSource"!==r.type){if("mediaSource"!==e&&i.ready()&&"closed"!==i.mediaSource.readyState&&!Bc(e,i)){if(r.type!==e){if(null===(n=$c(e,i.queue)))return;r=i.queue[n]}i.queue.splice(n,1),(i.queuePending[e]=r).action(e,i),r.doneFn||(i.queuePending[e]=null,t(e,i))}}else i.updating()||"closed"===i.mediaSource.readyState||(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),t("audio",i),t("video",i))}},qc=function(n,r,s){return function(e,i){var t=i[e+"Buffer"];if(Dc(i.mediaSource,t)){i.logger_("Appending segment "+r.mediaIndex+"'s "+n.length+" bytes to "+e+"Buffer");try{t.appendBuffer(n)}catch(t){i.logger_("Error with code "+t.code+" "+(22===t.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+r.mediaIndex+" to "+e+"Buffer"),i.queuePending[e]=null,s(t)}}}},Wc=function(n,r){return function(e,i){var t=i[e+"Buffer"];if(Dc(i.mediaSource,t)){i.logger_("Removing "+n+" to "+r+" from "+e+"Buffer");try{t.remove(n,r)}catch(t){i.logger_("Remove "+n+" to "+r+" from "+e+"Buffer failed")}}}},zc=function(n){return function(t,e){var i=e[t+"Buffer"];Dc(e.mediaSource,i)&&(e.logger_("Setting "+t+"timestampOffset to "+n),i.timestampOffset=n)}},Vc=function(i){return function(t,e){i()}},Gc=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(t){Zn.log.warn("Failed to call media source endOfStream",t)}}}},Xc=function(e){return function(t){t.logger_("Setting mediaSource duration to "+e);try{t.mediaSource.duration=e}catch(t){Zn.log.warn("Failed to set media source duration",t)}}},Yc=function(){return function(e,t){if("open"===t.mediaSource.readyState){var i=t[e+"Buffer"];if(Dc(t.mediaSource,i)){t.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){Zn.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},Kc=function(n,r){return function(t){var e=Ic(n),i=Cr(r);t.logger_("Adding "+n+"Buffer with codec "+r+" to mediaSource");i=t.mediaSource.addSourceBuffer(i);i.addEventListener("updateend",t["on"+e+"UpdateEnd_"]),i.addEventListener("error",t["on"+e+"Error_"]),t.codecs[n]=r,t[n+"Buffer"]=i}},Qc=function(i){return function(t){var e=t[i+"Buffer"];if(Pc(i,t),Dc(t.mediaSource,e)){t.logger_("Removing "+i+"Buffer with codec "+t.codecs[i]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(e)}catch(t){Zn.log.warn("Failed to removeSourceBuffer "+i+"Buffer",t)}}}},Zc=function(r){return function(t,e){var i=e[t+"Buffer"],n=Cr(r);Dc(e.mediaSource,i)&&e.codecs[t]!==r&&(e.logger_("changing "+t+"Buffer codec from "+e.codecs[t]+" to "+r),i.changeType(n),e.codecs[t]=r)}},Jc=function(i){function t(t){var e=i.call(this)||this;return e.mediaSource=t,e.sourceopenListener_=function(){return Hc("mediaSource",pe(e))},e.mediaSource.addEventListener("sourceopen",e.sourceopenListener_),e.logger_=Al("SourceUpdater"),e.audioTimestampOffset_=0,e.videoTimestampOffset_=0,e.queue=[],e.queuePending={audio:null,video:null},e.delayedAudioAppendQueue_=[],e.videoAppendQueued_=!1,e.codecs={},e.onVideoUpdateEnd_=Lc("video",pe(e)),e.onAudioUpdateEnd_=Lc("audio",pe(e)),e.onVideoError_=function(t){e.videoError_=t},e.onAudioError_=function(t){e.audioError_=t},e.createdSourceBuffers_=!1,e.initializedEme_=!1,e.triggeredReady_=!1,e}fe(t,i);var e=t.prototype;return e.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},e.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},e.hasInitializedAnyEme=function(){return this.initializedEme_},e.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},e.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},e.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},e.addSourceBuffer=function(t,e){Oc({type:"mediaSource",sourceUpdater:this,action:Kc(t,e),name:"addSourceBuffer"})},e.abort=function(t){Oc({type:t,sourceUpdater:this,action:Yc(t),name:"abort"})},e.removeSourceBuffer=function(t){this.canRemoveSourceBuffer()?Oc({type:"mediaSource",sourceUpdater:this,action:Qc(t),name:"removeSourceBuffer"}):Zn.log.error("removeSourceBuffer is not supported!")},e.canRemoveSourceBuffer=function(){return!Zn.browser.IE_VERSION&&!Zn.browser.IS_FIREFOX&&window.MediaSource&&window.MediaSource.prototype&&"function"==typeof window.MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return window.SourceBuffer&&window.SourceBuffer.prototype&&"function"==typeof window.SourceBuffer.prototype.changeType},e.canChangeType=function(){return this.constructor.canChangeType()},e.changeType=function(t,e){this.canChangeType()?Oc({type:t,sourceUpdater:this,action:Zc(e),name:"changeType"}):Zn.log.error("changeType is not supported!")},e.addOrChangeSourceBuffers=function(i){var n=this;if(!i||"object"!=typeof i||0===Object.keys(i).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(i).forEach(function(t){var e=i[t];if(!n.hasCreatedSourceBuffers())return n.addSourceBuffer(t,e);n.canChangeType()&&n.changeType(t,e)})},e.appendBuffer=function(t,e){var i=this,n=t.segmentInfo,r=t.type,s=t.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,e]),void this.logger_("delayed audio append of "+s.length+" until video append");Oc({type:r,sourceUpdater:this,action:qc(s,n||{mediaIndex:-1},e),doneFn:e,name:"appendBuffer"}),"video"===r&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length&&(r=this.delayedAudioAppendQueue_.slice(),this.logger_("queuing delayed audio "+r.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,r.forEach(function(t){i.appendBuffer.apply(i,t)})))},e.audioBuffered=function(){return Dc(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||Zn.createTimeRange()},e.videoBuffered=function(){return Dc(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered||Zn.createTimeRange()},e.buffered=function(){var t=Dc(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,e=Dc(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return e&&!t?this.audioBuffered():t&&!e?this.videoBuffered():function(t,e){var i=null,n=null,r=0,s=[],o=[];if(!(t&&t.length&&e&&e.length))return Zn.createTimeRange();for(var a=t.length;a--;)s.push({time:t.start(a),type:"start"}),s.push({time:t.end(a),type:"end"});for(a=e.length;a--;)s.push({time:e.start(a),type:"start"}),s.push({time:e.end(a),type:"end"});for(s.sort(function(t,e){return t.time-e.time}),a=0;a<s.length;a++)"start"===s[a].type?2===++r&&(i=s[a].time):"end"===s[a].type&&1===--r&&(n=s[a].time),null!==i&&null!==n&&(o.push([i,n]),n=i=null);return Zn.createTimeRanges(o)}(this.audioBuffered(),this.videoBuffered())},e.setDuration=function(t,e){void 0===e&&(e=Ac),Oc({type:"mediaSource",sourceUpdater:this,action:Xc(t),name:"duration",doneFn:e})},e.endOfStream=function(t,e){void 0===e&&(e=Ac),Oc({type:"mediaSource",sourceUpdater:this,action:Gc(t="string"!=typeof(t=void 0===t?null:t)?void 0:t),name:"endOfStream",doneFn:e})},e.removeAudio=function(t,e,i){void 0===i&&(i=Ac),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Oc({type:"audio",sourceUpdater:this,action:Wc(t,e),doneFn:i,name:"remove"}):i()},e.removeVideo=function(t,e,i){void 0===i&&(i=Ac),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Oc({type:"video",sourceUpdater:this,action:Wc(t,e),doneFn:i,name:"remove"}):i()},e.updating=function(){return!(!Bc("audio",this)&&!Bc("video",this))},e.audioTimestampOffset=function(t){return void 0!==t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Oc({type:"audio",sourceUpdater:this,action:zc(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},e.videoTimestampOffset=function(t){return void 0!==t&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Oc({type:"video",sourceUpdater:this,action:zc(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},e.audioQueueCallback=function(t){this.audioBuffer&&Oc({type:"audio",sourceUpdater:this,action:Vc(t),name:"callback"})},e.videoQueueCallback=function(t){this.videoBuffer&&Oc({type:"video",sourceUpdater:this,action:Vc(t),name:"callback"})},e.dispose=function(){var e=this;this.trigger("dispose"),Uc.forEach(function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"](function(){return Pc(t,e)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Zn.EventTarget),tu=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),eu=function(i){function t(t,e){return(e=i.call(this,t,e=void 0===e?{}:e)||this).mediaSource_=null,e.subtitlesTrack_=null,e.loaderType_="subtitle",e.featuresNativeTextTracks_=t.featuresNativeTextTracks,e.shouldSaveSegmentTimingInfo_=!1,e}fe(t,i);var e=t.prototype;return e.createTransmuxer_=function(){return null},e.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Zn.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,t=t[t.length-1].startTime;return Zn.createTimeRanges([[e,t]])},e.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=Ya(t),n=this.initSegments_[i];return e&&!n&&t.bytes&&(e=tu.byteLength+t.bytes.byteLength,(e=new Uint8Array(e)).set(t.bytes),e.set(tu,t.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:e}),n||t},e.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},e.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},e.track=function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},e.remove=function(t,e){vl(t,e,this.subtitlesTrack_)},e.fillBuffer_=function(){var t=this,e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}},e.timestampOffsetForSegment_=function(){return null},e.chooseNextRequest_=function(){return this.skipEmptySegments_(i.prototype.chooseNextRequest_.call(this))},e.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},e.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},e.segmentRequestFinished_=function(t,e,i){var n=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(e.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(t)return t.code===dc.TIMEOUT&&this.handleTimeout_(),t.code===dc.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(t);var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,e.stats),this.state="APPENDING",this.trigger("appending");var s=r.segment;if(s.map&&(s.map.bytes=e.map.bytes),r.bytes=e.bytes,"function"!=typeof window.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var o=function(){n.subtitlesTrack_.tech_.off("vttjsloaded",a),n.stopForError({message:"Error loading vtt.js"})},a=function(){n.subtitlesTrack_.tech_.off("vttjserror",o),n.segmentRequestFinished_(t,e,i)};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",a),void this.subtitlesTrack_.tech_.one("vttjserror",o)}s.requested=!0;try{this.parseVTTCues_(r)}catch(t){return void this.stopForError({message:t.message})}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,r.cues.forEach(function(t){n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_?new window.VTTCue(t.startTime,t.endTime,t.text):t)}),function(e){var t=e.cues;if(t)for(var i=0;i<t.length;i++){for(var n=[],r=0,s=0;s<t.length;s++)t[i].startTime===t[s].startTime&&t[i].endTime===t[s].endTime&&t[i].text===t[s].text&&1<++r&&n.push(t[s]);n.length&&n.forEach(function(t){return e.removeCue(t)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},e.handleData_=function(){},e.updateTimingInfoEnd_=function(){},e.parseVTTCues_=function(e){var t=!1;"function"==typeof window.TextDecoder?i=new window.TextDecoder("utf8"):(i=window.WebVTT.StringDecoder(),t=!0);var i=new window.WebVTT.Parser(window,window.vttjs,i);e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=function(t){e.timestampmap=t},i.onparsingerror=function(t){Zn.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map&&(n=e.segment.map.bytes,t&&(n=Mc(n)),i.parse(n));var n=e.bytes;t&&(n=Mc(n)),i.parse(n),i.flush()},e.updateTimeMapping_=function(t,e,i){var n,r,s=t.segment;e&&(t.cues.length?(r=t.timestampmap,n=r.MPEGTS/kl-r.LOCAL+e.mapping,t.cues.forEach(function(t){t.startTime+=n,t.endTime+=n}),i.syncInfo||(r=t.cues[0].startTime,e=t.cues[t.cues.length-1].startTime,i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:Math.min(r,e-s.duration)})):s.empty=!0)},t}(Ec),iu=[{name:"VOD",run:function(t,e,i,n,r){if(i===1/0)return null;return{time:0,segmentIndex:0,partIndex:null}}},{name:"ProgramDateTime",run:function(t,e,i,n,r){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var s=null,o=null,a=ka(e);r=r||0;for(var l=0;l<a.length;l++){var c=a[e.endList||0===r?l:a.length-(l+1)],u=c.segment,d=t.timelineToDatetimeMappings[u.timeline];if(d&&u.dateTimeObject){var h=u.dateTimeObject.getTime()/1e3+d;if(u.parts&&"number"==typeof c.partIndex)for(var p=0;p<c.partIndex;p++)h+=u.parts[p].duration;d=Math.abs(r-h);if(null!==o&&(0===d||o<d))break;o=d,s={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}return s}},{name:"Segment",run:function(t,e,i,n,r){var s=null,o=null;r=r||0;for(var a=ka(e),l=0;l<a.length;l++){var c=a[e.endList||0===r?l:a.length-(l+1)],u=c.segment,d=c.part&&c.part.start||u&&u.start;if(u.timeline===n&&void 0!==d){u=Math.abs(r-d);if(null!==o&&o<u)break;(!s||null===o||u<=o)&&(o=u,s={time:d,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:function(t,e,i,n,r){var s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var o=null,a=0;a<e.discontinuityStarts.length;a++){var l=e.discontinuityStarts[a],c=e.discontinuitySequence+a+1,u=t.discontinuities[c];if(u){c=Math.abs(r-u.time);if(null!==o&&o<c)break;(!s||null===o||c<=o)&&(o=c,s={time:u.time,segmentIndex:l,partIndex:null})}}return s}},{name:"Playlist",run:function(t,e,i,n,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}}],nu=function(i){function t(t){var e=i.call(this)||this;return e.timelines=[],e.discontinuities=[],e.timelineToDatetimeMappings={},e.logger_=Al("SyncController"),e}fe(t,i);var e=t.prototype;return e.getSyncPoint=function(t,e,i,n){i=this.runStrategies_(t,e,i,n);return i.length?this.selectSyncPoint_(i,{key:"time",value:n}):null},e.getExpiredTime=function(t,e){if(!t||!t.segments)return null;e=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!e.length)return null;e=this.selectSyncPoint_(e,{key:"segmentIndex",value:0});return 0<e.segmentIndex&&(e.time*=-1),Math.abs(e.time+Ia({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.segmentIndex,endIndex:0}))},e.runStrategies_=function(t,e,i,n){for(var r=[],s=0;s<iu.length;s++){var o=iu[s],a=o.run(this,t,e,i,n);a&&(a.strategy=o.name,r.push({strategy:o.name,syncPoint:a}))}return r},e.selectSyncPoint_=function(t,e){for(var i=t[0].syncPoint,n=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,s=1;s<t.length;s++){var o=Math.abs(t[s].syncPoint[e.key]-e.value);o<n&&(n=o,i=t[s].syncPoint,r=t[s].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+("number"==typeof i.partIndex?",partIndex:"+i.partIndex:"")+"]"),i},e.saveExpiredSegmentInfo=function(t,e){var i=e.mediaSequence-t.mediaSequence;if(86400<i)Zn.log.warn("Not saving expired segment info. Media sequence gap "+i+" is too large.");else for(var n=i-1;0<=n;n--){var r=t.segments[n];if(r&&void 0!==r.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},e.setDateTimeMappingForStart=function(t){var e;this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject&&(t=(e=t.segments[0]).dateTimeObject.getTime()/1e3,this.timelineToDatetimeMappings[e.timeline]=-t)},e.saveSegmentTimingInfo=function(t){var e=t.segmentInfo,i=t.shouldSaveTimelineMapping,n=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),t=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:t.start}));e=t.dateTimeObject;t.discontinuity&&i&&e&&(this.timelineToDatetimeMappings[t.timeline]=-e.getTime()/1e3)},e.timestampOffsetForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].time},e.mappingForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping},e.calculateSegmentTimeMapping_=function(t,e,i){var n,r,s=t.segment,o=t.part,a=this.timelines[t.timeline];if("number"==typeof t.timestampOffset)a={time:t.startOfSegment,mapping:t.startOfSegment-e.start},i&&(this.timelines[t.timeline]=a,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+a.time+"] [mapping: "+a.mapping+"]")),n=t.startOfSegment,r=e.end+a.mapping;else{if(!a)return!1;n=e.start+a.mapping,r=e.end+a.mapping}return o&&(o.start=n,o.end=r),(!s.start||n<s.start)&&(s.start=n),s.end=r,!0},e.saveDiscontinuitySyncInfo_=function(t){var e=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var n=0;n<e.discontinuityStarts.length;n++){var r,s=e.discontinuityStarts[n],o=e.discontinuitySequence+n+1,a=s-t.mediaIndex,l=Math.abs(a);(!this.discontinuities[o]||this.discontinuities[o].accuracy>l)&&(r=void 0,r=a<0?i.start-Ia({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.mediaIndex,endIndex:s}):i.end+Ia({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.mediaIndex+1,endIndex:s}),this.discontinuities[o]={time:r,accuracy:l})}},e.dispose=function(){this.trigger("dispose"),this.off()},t}(Zn.EventTarget),ru=function(e){function t(){var t=e.call(this)||this;return t.pendingTimelineChanges_={},t.lastTimelineChanges_={},t}fe(t,e);var i=t.prototype;return i.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(t){var e=t.type,i=t.from,t=t.to;return"number"==typeof i&&"number"==typeof t&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:t},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]},i.lastTimelineChange=function(t){var e=t.type,i=t.from,t=t.to;return"number"==typeof i&&"number"==typeof t&&(this.lastTimelineChanges_[e]={type:e,from:i,to:t},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Zn.EventTarget),su=C(ir(ii(function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e,i){return t(i={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&i.path)}},i.exports),i.exports}var i=e(function(t){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t},t.exports.default=t.exports,t.exports.__esModule=!0}),n=e(function(i){function n(t,e){return i.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i.exports.default=i.exports,i.exports.__esModule=!0,n(t,e)}i.exports=n,i.exports.default=i.exports,i.exports.__esModule=!0}),r=e(function(t){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0}),s=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;e=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(e,1),-1<e},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,o=0;o<s;++o)e[o].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(e){this.on("data",function(t){e.push(t)})},t}();function m(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}var u=null,g=function(){function t(t){var e,i,n;u=u||function(){for(var t,e,i,n,r,s,o,a=[[[],[],[],[],[]],[[],[],[],[],[]]],l=a[0],c=a[1],u=l[4],d=c[4],h=[],p=[],f=0;f<256;f++)p[(h[f]=f<<1^283*(f>>7))^f]=f;for(t=e=0;!u[t];t^=i||1,e=p[e]||1)for(o=16843009*h[n=h[i=h[d[u[t]=r=(r=e^e<<1^e<<2^e<<3^e<<4)>>8^255&r^99]=t]]]^65537*n^257*i^16843008*t,s=257*h[r]^16843008*r,f=0;f<4;f++)l[f][t]=s=s<<24^s>>>8,c[f][r]=o=o<<24^o>>>8;for(f=0;f<5;f++)l[f]=l[f].slice(0),c[f]=c[f].slice(0);return a}(),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var r=this._tables[0][4],s=this._tables[1],o=t.length,a=1;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size");var l=t.slice(0),c=[];for(this._key=[l,c],e=o;e<4*o+28;e++)n=l[e-1],(e%o==0||8===o&&e%o==4)&&(n=r[n>>>24]<<24^r[n>>16&255]<<16^r[n>>8&255]<<8^r[255&n],e%o==0&&(n=n<<8^n>>>24^a<<24,a=a<<1^283*(a>>7))),l[e]=l[e-o]^n;for(i=0;e;i++,e--)n=l[3&i?e:e-4],c[i]=e<=4||i<4?n:s[0][r[n>>>24]]^s[1][r[n>>16&255]]^s[2][r[n>>8&255]]^s[3][r[255&n]]}return t.prototype.decrypt=function(t,e,i,n,r,s){for(var o,a,l,c=this._key[1],u=t^c[0],d=n^c[1],h=i^c[2],p=e^c[3],f=c.length/4-2,m=4,e=this._tables[1],g=e[0],y=e[1],v=e[2],b=e[3],_=e[4],T=0;T<f;T++)o=g[u>>>24]^y[d>>16&255]^v[h>>8&255]^b[255&p]^c[m],a=g[d>>>24]^y[h>>16&255]^v[p>>8&255]^b[255&u]^c[m+1],l=g[h>>>24]^y[p>>16&255]^v[u>>8&255]^b[255&d]^c[m+2],p=g[p>>>24]^y[u>>16&255]^v[d>>8&255]^b[255&h]^c[m+3],m+=4,u=o,d=a,h=l;for(T=0;T<4;T++)r[(3&-T)+s]=_[u>>>24]<<24^_[d>>16&255]<<16^_[h>>8&255]<<8^_[255&p]^c[m++],o=u,u=d,d=h,h=p,p=o},t}(),c=function(e){function t(){var t=e.call(this,s)||this;return t.jobs=[],t.delay=1,t.timeout_=null,t}r(t,e);var i=t.prototype;return i.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(s),o=function(){function l(t,e,i,n){var r=l.STEP,s=new Int32Array(t.buffer),o=new Uint8Array(t.byteLength),a=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(s.subarray(a,a+r),e,i,o)),a=r;a<s.length;a+=r)i=new Uint32Array([m(s[a-4]),m(s[a-3]),m(s[a-2]),m(s[a-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(a,a+r),e,i,o));this.asyncStream_.push(function(){n(null,o.subarray(0,o.byteLength-o[o.byteLength-1]))})}return l.prototype.decryptChunk_=function(e,i,n,r){return function(){var t=function(t,e,i){for(var n,r,s,o,a=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),l=new g(Array.prototype.slice.call(e)),t=new Uint8Array(t.byteLength),c=new Int32Array(t.buffer),u=i[0],d=i[1],h=i[2],p=i[3],f=0;f<a.length;f+=4)n=m(a[f]),r=m(a[f+1]),s=m(a[f+2]),o=m(a[f+3]),l.decrypt(n,r,s,o,c,f),c[f]=m(c[f]^u),c[f+1]=m(c[f+1]^d),c[f+2]=m(c[f+2]^h),c[f+3]=m(c[f+3]^p),u=n,d=r,h=s,p=o;return t}(e,i,n);r.set(t,e.byteOffset)}},i(l,null,[{key:"STEP",get:function(){return 32e3}}]),l}(),t="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},t=t.BigInt||Number;t("0x1"),t("0x100"),t("0x10000"),t("0x1000000"),t("0x100000000"),t("0x10000000000"),t("0x1000000000000"),t("0x100000000000000"),t("0x10000000000000000");function a(n){var r={};return Object.keys(n).forEach(function(t){var e,i=n[t];e=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer)?r[t]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:r[t]=i}),r}self.onmessage=function(t){var i=t.data,e=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),t=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new o(e,n,t,function(t,e){self.postMessage(a({source:i.source,decrypted:e}),[e.buffer])})}}))),ou=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},au=function(t,e){(e.activePlaylistLoader=t).load()},lu={AUDIO:function(o,a){return function(){var t=a.segmentLoaders[o],e=a.mediaTypes[o],i=a.blacklistCurrentPlaylist;ou(t,e);var n=e.activeTrack(),t=e.activeGroup(),t=(t.filter(function(t){return t.default})[0]||t[0]).id,r=e.tracks[t];if(n!==r){for(var s in Zn.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),e.tracks)e.tracks[s].enabled=e.tracks[s]===r;e.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(i,n){return function(){var t=n.segmentLoaders[i],e=n.mediaTypes[i];Zn.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ou(t,e);t=e.activeTrack();t&&(t.mode="disabled"),e.onTrackChanged()}}},cu={AUDIO:function(t,e,i){var n,r,s;e&&(n=i.tech,r=i.requestOptions,s=i.segmentLoaders[t],e.on("loadedmetadata",function(){var t=e.media();s.playlist(t,r),(!n.paused()||t.endList&&"none"!==n.preload())&&s.load()}),e.on("loadedplaylist",function(){s.playlist(e.media(),r),n.paused()||s.load()}),e.on("error",lu[t](t,i)))},SUBTITLES:function(t,e,i){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[t],o=i.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();s.playlist(t,r),s.track(o.activeTrack()),(!n.paused()||t.endList&&"none"!==n.preload())&&s.load()}),e.on("loadedplaylist",function(){s.playlist(e.media(),r),n.paused()||s.load()}),e.on("error",lu[t](t,i))}},uu={AUDIO:function(t,e){var i,n,r=e.vhs,s=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,l=e.master.mediaGroups,c=e.mediaTypes[t],u=c.groups,d=c.tracks,h=c.logger_,p=e.masterPlaylistLoader,f=jl(p.master);for(i in l[t]&&0!==Object.keys(l[t]).length||(l[t]={main:{default:{default:!0}}},f&&(l[t].main.default.playlists=p.master.playlists)),l[t])for(var m in u[i]||(u[i]=[]),l[t][i]){var g=l[t][i][m],y=void 0,y=f?(h("AUDIO group '"+i+"' label '"+m+"' is a master playlist"),g.isMasterPlaylist=!0,null):"vhs-json"===s&&g.playlists?new Gl(g.playlists[0],r,a):g.resolvedUri?new Gl(g.resolvedUri,r,a):g.playlists&&"dash"===s?new tc(g.playlists[0],r,a,p):null,g=Zn.mergeOptions({id:m,playlistLoader:y},g);cu[t](t,g.playlistLoader,e),u[i].push(g),void 0===d[m]&&(g=new Zn.AudioTrack({id:m,kind:(n=void 0,n=(y=g).default?"main":"alternative",n=y.characteristics&&0<=y.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":n),enabled:!1,language:g.language,default:g.default,label:m}),d[m]=g)}o.on("error",lu[t](t,e))},SUBTITLES:function(t,e){var i,n=e.tech,r=e.vhs,s=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,l=e.master.mediaGroups,c=e.mediaTypes[t],u=c.groups,d=c.tracks,h=e.masterPlaylistLoader;for(i in l[t])for(var p in u[i]||(u[i]=[]),l[t][i])if(!l[t][i][p].forced){var f=l[t][i][p],m=void 0;if("hls"===s)m=new Gl(f.resolvedUri,r,a);else if("dash"===s){if(!f.playlists.filter(function(t){return t.excludeUntil!==1/0}).length)return;m=new tc(f.playlists[0],r,a,h)}else"vhs-json"===s&&(m=new Gl(f.playlists?f.playlists[0]:f.resolvedUri,r,a));f=Zn.mergeOptions({id:p,playlistLoader:m},f),cu[t](t,f.playlistLoader,e),u[i].push(f),void 0===d[p]&&(f=n.addRemoteTextTrack({id:p,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:p},!1).track,d[p]=f)}o.on("error",lu[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i,n=e.tech,r=e.master.mediaGroups,e=e.mediaTypes[t],s=e.groups,o=e.tracks;for(i in r[t])for(var a in s[i]||(s[i]=[]),r[t][i]){var l,c,u=r[t][i][a];/^(?:CC|SERVICE)/.test(u.instreamId)&&(void 0===(c=(l=n.options_.vhs&&n.options_.vhs.captionServices||{})[(c={label:a,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect}).instreamId]?Zn.mergeOptions(c,l[c.instreamId]):c).default&&delete c.default,s[i].push(Zn.mergeOptions({id:a},u)),void 0===o[a]&&(c=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track,o[a]=c))}}},du=function t(e,i){for(var n=0;n<e.length;n++){if(Ra(i,e[n]))return!0;if(e[n].playlists&&t(e[n].playlists,i))return!0}return!1},hu={AUDIO:function(i,n){return function(){var t,e=n.mediaTypes[i].tracks;for(t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(i,n){return function(){var t,e=n.mediaTypes[i].tracks;for(t in e)if("showing"===e[t].mode||"hidden"===e[t].mode)return e[t];return null}}},pu=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],fu=function(v){function t(t){var e=v.call(this)||this,i=t.src,n=t.handleManifestRedirects,r=t.withCredentials,s=t.tech,o=t.bandwidth,a=t.externVhs,l=t.useCueTags,c=t.blacklistDuration,u=t.enableLowInitialPlaylist,d=t.sourceType,h=t.cacheEncryptionKeys,p=t.experimentalBufferBasedABR,f=t.experimentalLeastPixelDiffSelector,m=t.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var g,y=t.maxPlaylistRetries;null==y&&(y=1/0),jc=a,e.experimentalBufferBasedABR=Boolean(p),e.experimentalLeastPixelDiffSelector=Boolean(f),e.withCredentials=r,e.tech_=s,e.vhs_=s.vhs,e.sourceType_=d,e.useCueTags_=l,e.blacklistDuration=c,e.maxPlaylistRetries=y,e.enableLowInitialPlaylist=u,e.useCueTags_&&(e.cueTagsTrack_=e.tech_.addTextTrack("metadata","ad-cues"),e.cueTagsTrack_.inBandMetadataTrackDispatchType=""),e.requestOptions_={withCredentials:r,handleManifestRedirects:n,maxPlaylistRetries:y,timeout:null},e.on("error",e.pauseLoading),e.mediaTypes_=(g={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){g[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ac,activeTrack:Ac,getActiveGroup:Ac,onGroupChanged:Ac,onTrackChanged:Ac,lastTrack_:null,logger_:Al("MediaGroups["+t+"]")}}),g),e.mediaSource=new window.MediaSource,e.handleDurationChange_=e.handleDurationChange_.bind(pe(e)),e.handleSourceOpen_=e.handleSourceOpen_.bind(pe(e)),e.handleSourceEnded_=e.handleSourceEnded_.bind(pe(e)),e.mediaSource.addEventListener("durationchange",e.handleDurationChange_),e.mediaSource.addEventListener("sourceopen",e.handleSourceOpen_),e.mediaSource.addEventListener("sourceended",e.handleSourceEnded_),e.seekable_=Zn.createTimeRanges(),e.hasPlayed_=!1,e.syncController_=new nu(t),e.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,e.decrypter_=new su,e.sourceUpdater_=new Jc(e.mediaSource),e.inbandTextTracks_={},e.timelineChangeController_=new ru;h={vhs:e.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:m,mediaSource:e.mediaSource,currentTime:e.tech_.currentTime.bind(e.tech_),seekable:function(){return e.seekable()},seeking:function(){return e.tech_.seeking()},duration:function(){return e.duration()},hasPlayed:function(){return e.hasPlayed_},goalBufferLength:function(){return e.goalBufferLength()},bandwidth:o,syncController:e.syncController_,decrypter:e.decrypter_,sourceType:e.sourceType_,inbandTextTracks:e.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:e.sourceUpdater_,timelineChangeController:e.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};e.masterPlaylistLoader_=new("dash"===e.sourceType_?tc:Gl)(i,e.vhs_,e.requestOptions_),e.setupMasterPlaylistLoaderListeners_(),e.mainSegmentLoader_=new Ec(Zn.mergeOptions(h,{segmentMetadataTrack:e.segmentMetadataTrack_,loaderType:"main"}),t),e.audioSegmentLoader_=new Ec(Zn.mergeOptions(h,{loaderType:"audio"}),t),e.subtitleSegmentLoader_=new eu(Zn.mergeOptions(h,{loaderType:"vtt",featuresNativeTextTracks:e.tech_.featuresNativeTextTracks}),t),e.setupSegmentLoaderListeners_(),e.experimentalBufferBasedABR&&(e.masterPlaylistLoader_.one("loadedplaylist",function(){return e.startABRTimer_()}),e.tech_.on("pause",function(){return e.stopABRTimer_()}),e.tech_.on("play",function(){return e.startABRTimer_()})),pu.forEach(function(t){e[t+"_"]=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]}.bind(pe(e),t)}),e.logger_=Al("MPC"),e.triggeredFmp4Usage=!1,"none"===e.tech_.preload()?(e.loadOnPlay_=function(){e.loadOnPlay_=null,e.masterPlaylistLoader_.load()},e.tech_.one("play",e.loadOnPlay_)):e.masterPlaylistLoader_.load(),e.timeToLoadedData__=-1,e.mainAppendsToLoadedData__=-1,e.audioAppendsToLoadedData__=-1;t="none"===e.tech_.preload()?"play":"loadstart";return e.tech_.one(t,function(){var t=Date.now();e.tech_.one("loadeddata",function(){e.timeToLoadedData__=Date.now()-t,e.mainAppendsToLoadedData__=e.mainSegmentLoader_.mediaAppends,e.audioAppendsToLoadedData__=e.audioSegmentLoader_.mediaAppends})}),e}fe(t,v);var e=t.prototype;return e.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},e.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},e.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),e=this.audioAppendsToLoadedData_();return-1===t||-1===e?-1:t+e},e.timeToLoadedData_=function(){return this.timeToLoadedData__},e.checkABR_=function(){var t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,"abr")},e.switchMedia_=function(t,e,i){var n=this.media(),r=n&&(n.id||n.uri),n=t.id||t.uri;r&&r!==n&&(this.logger_("switch media "+r+" -> "+n+" from "+e),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+e})),this.masterPlaylistLoader_.media(t,i)},e.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=window.setInterval(function(){return t.checkABR_()},250)},e.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window.clearInterval(this.abrTimer_),this.abrTimer_=null)},e.getAudioTrackPlaylists_=function(){var t=this.master(),e=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return e;var i,n=t.mediaGroups.AUDIO,r=Object.keys(n);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)i=this.mediaTypes_.AUDIO.activeTrack();else{var s,o=n.main||r.length&&n[r[0]];for(s in o)if(o[s].default){i={label:s};break}}if(!i)return e;var a,l=[];for(a in n)if(n[a][i.label]){var c=n[a][i.label];if(c.playlists&&c.playlists.length)l.push.apply(l,c.playlists);else if(c.uri)l.push(c);else if(t.playlists.length)for(var u=0;u<t.playlists.length;u++){var d=t.playlists[u];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===a&&l.push(d)}}return l.length?l:e},e.setupMasterPlaylistLoaderListeners_=function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=i.masterPlaylistLoader_.media(),e=1.5*t.targetDuration*1e3;Na(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=e,t.endList&&"none"!==i.tech_.preload()&&(i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.mainSegmentLoader_.load()),Nc({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,vhs:i.vhs_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),t),i.setupFirstPlay(),!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()?i.trigger("selectedinitialmedia"):i.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){i.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){i.loadOnPlay_&&i.tech_.off("play",i.loadOnPlay_);var t,e=i.masterPlaylistLoader_.media();if(!e){if(i.excludeUnsupportedVariants_(),!(t=(t=i.enableLowInitialPlaylist?i.selectInitialPlaylist():t)||i.selectPlaylist())||!i.shouldSwitchToMedia_(t))return;if(i.initialMedia_=t,i.switchMedia_(i.initialMedia_,"initial"),!("vhs-json"===i.sourceType_&&i.initialMedia_.segments))return;e=i.initialMedia_}i.handleUpdatedMediaPlaylist(e)}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=i.masterPlaylistLoader_.media(),e=1.5*t.targetDuration*1e3;Na(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=e,i.mainSegmentLoader_.playlist(t,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=i.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&i.stuckAtPlaylistEnd_(t)&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),i.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},e.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},e.triggerPresenceUsage_=function(t,e){var i,n=t.mediaGroups||{},r=!0,t=Object.keys(n.AUDIO);for(i in n.AUDIO)for(var s in n.AUDIO[i])n.AUDIO[i][s].uri||(r=!1);r&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),jc.Playlist.isAes(e)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),t.length&&1<Object.keys(n.AUDIO[t[0]]).length&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},e.shouldSwitchToMedia_=function(t){var e=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),n=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function(t){var e=t.currentPlaylist,i=t.buffered,n=t.currentTime,r=t.nextPlaylist,s=t.bufferLowWaterLine,o=t.bufferHighWaterLine,a=t.duration,l=t.experimentalBufferBasedABR,c=t.log;if(!r)return Zn.log.warn("We received no playlist to switch to. Please check your stream."),!1;var u="allowing switch "+(e&&e.id||"null")+" -> "+r.id;if(!e)return c(u+" as current playlist is not set"),!0;if(r.id===e.id)return!1;t=Boolean(ba(i,n).length);if(!e.endList)return t||"number"!=typeof e.partTargetDuration?(c(u+" as current playlist is live"),!0):(c("not "+u+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);i=xa(i,n),n=l?ec.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ec.MAX_BUFFER_LOW_WATER_LINE;if(a<n)return c(u+" as duration < max low water line ("+a+" < "+n+")"),!0;n=r.attributes.BANDWIDTH,r=e.attributes.BANDWIDTH;if(n<r&&(!l||i<o)){e=u+" as next bandwidth < current bandwidth ("+n+" < "+r+")";return l&&(e+=" and forwardBuffer < bufferHighWaterLine ("+i+" < "+o+")"),c(e),!0}if((!l||r<n)&&s<=i){s=u+" as forwardBuffer >= bufferLowWaterLine ("+i+" >= "+s+")";return l&&(s+=" and next bandwidth > current bandwidth ("+n+" > "+r+")"),c(s),!0}return c("not "+u+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:i,currentPlaylist:e,nextPlaylist:t,bufferLowWaterLine:n,bufferHighWaterLine:r,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},e.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.switchMedia_(t,"bandwidthupdate"),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){e.logger_("main segment loader ended"),e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))});function t(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)}this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()})},e.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},e.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},e.smoothQualityChange_=function(t){void 0===t&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},e.fastQualityChange_=function(t){var e=this;(t=void 0===t?this.selectPlaylist():t)!==this.masterPlaylistLoader_.media()?(this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){Zn.browser.IE_VERSION||Zn.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},e.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}},e.setupFirstPlay=function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var i=this.seekable();if(!i.length)return!1;if(Zn.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(i.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0},e.handleSourceOpen_=function(){var t;this.tryToCreateSourceBuffers_(),!this.tech_.autoplay()||void 0!==(t=this.tech_.play())&&"function"==typeof t.then&&t.then(null,function(t){}),this.trigger("sourceopen")},e.handleSourceEnded_=function(){var t,e;!this.inbandTextTracks_.metadataTrack_||(t=this.inbandTextTracks_.metadataTrack_.cues)&&t.length&&(e=this.duration(),t[t.length-1].endTime=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e)},e.handleDurationChange_=function(){this.tech_.trigger("durationchange")},e.onEndOfStream=function(){var t,e=this.mainSegmentLoader_.ended_;(e=this.mediaTypes_.AUDIO.activePlaylistLoader?((t=this.mainSegmentLoader_.getCurrentMediaInfo_())&&!t.hasVideo||e)&&this.audioSegmentLoader_.ended_:e)&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},e.stuckAtPlaylistEnd_=function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.duration());if(null===e)return!1;var i=jc.Playlist.playlistEnd(t,e),t=this.tech_.currentTime(),e=this.tech_.buffered();if(!e.length)return i-t<=Pl;e=e.end(e.length-1);return e-t<=Pl&&i-e<=Pl},e.blacklistCurrentPlaylist=function(t,e){var i=(t=void 0===t?{}:t).playlist||this.masterPlaylistLoader_.media();if(e=e||t.blacklistDuration||this.blacklistDuration,!i)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));i.playlistErrors_++;var n,r=this.masterPlaylistLoader_.master.playlists,s=r.filter(La),o=1===s.length&&s[0]===i;if(1===r.length&&e!==1/0)return Zn.log.warn("Problem encountered with playlist "+i.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);o&&(n=!1,r.forEach(function(t){var e;t===i||void 0!==(e=t.excludeUntil)&&e!==1/0&&(n=!0,delete t.excludeUntil)}),n&&(Zn.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))),s=i.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*e,i.excludeUntil=s,t.reason&&(i.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});r=this.selectPlaylist();if(!r)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");e=t.internal?this.logger_:Zn.log.warn,s=t.message?" "+t.message:"";e((t.internal?"Internal problem":"Problem")+" encountered with playlist "+i.id+"."+s+" Switching to playlist "+r.id+"."),r.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),r.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);s=r.targetDuration/2*1e3||5e3,s="number"==typeof r.lastRequest&&Date.now()-r.lastRequest<=s;return this.switchMedia_(r,"exclude",o||s)},e.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},e.delegateLoaders_=function(i,t){var n=this,r=[],e="all"===i;!e&&"main"!==i||r.push(this.masterPlaylistLoader_);var s=[];!e&&"audio"!==i||s.push("AUDIO"),!e&&"subtitle"!==i||(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(function(t){t=n.mediaTypes_[t]&&n.mediaTypes_[t].activePlaylistLoader;t&&r.push(t)}),["main","audio","subtitle"].forEach(function(t){var e=n[t+"SegmentLoader_"];!e||i!==t&&"all"!==i||r.push(e)}),r.forEach(function(e){return t.forEach(function(t){"function"==typeof e[t]&&e[t]()})})},e.setCurrentTime=function(t){var e=ba(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},e.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:jc.Playlist.duration(t):1/0:0},e.seekable=function(){return this.seekable_},e.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var i=this.syncController_.getExpiredTime(e,this.duration());if(null!==i){var n,r,s=this.masterPlaylistLoader_.master,o=jc.Playlist.seekable(e,i,jc.Playlist.liveEdgeDelay(s,e));if(0!==o.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(e,this.duration())))return;if(0===(t=jc.Playlist.seekable(e,i,jc.Playlist.liveEdgeDelay(s,e))).length)return}this.seekable_&&this.seekable_.length&&(n=this.seekable_.end(0),r=this.seekable_.start(0)),!t||t.start(0)>o.end(0)||o.start(0)>t.end(0)?this.seekable_=o:this.seekable_=Zn.createTimeRanges([[(t.start(0)>o.start(0)?t:o).start(0),(t.end(0)<o.end(0)?t:o).end(0)]]),this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===n&&this.seekable_.start(0)===r||(this.logger_("seekable updated ["+Ta(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},e.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){var e=this.seekable();return e.length?void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1))):void 0}t=this.tech_.buffered(),e=jc.Playlist.duration(this.masterPlaylistLoader_.media());0<t.length&&(e=Math.max(e,t.end(t.length-1))),this.mediaSource.duration!==e&&this.sourceUpdater_.setDuration(e)},e.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(t){var e,i=n.mediaTypes_[t].groups;for(e in i)i[e].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},e.master=function(){return this.masterPlaylistLoader_.master},e.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},e.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,e=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),t=!t||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return e&&t},e.getCodecsOrExclude_=function(){var n=this,r={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};r.video=r.main;var t=Sc(this.master(),this.media()),s={},e=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(r.main.hasVideo&&(s.video=t.video||r.main.videoCodec||"avc1.4d400d"),r.main.isMuxed&&(s.video+=","+(t.audio||r.main.audioCodec||"mp4a.40.2")),(r.main.hasAudio&&!r.main.isMuxed||r.audio.hasAudio||e)&&(s.audio=t.audio||r.main.audioCodec||r.audio.audioCodec||"mp4a.40.2",r.audio.isFmp4=(r.main.hasAudio&&!r.main.isMuxed?r.main:r.audio).isFmp4),s.audio||s.video){var o,i,a={};if(["video","audio"].forEach(function(t){var e,i;s.hasOwnProperty(t)&&(e=r[t].isFmp4,i=s[t],!(e?ur:dr)(i))&&(i=r[t].isFmp4?"browser":"muxer",a[i]=a[i]||[],a[i].push(s[t]),"audio"===t&&(o=i))}),e&&o&&this.media().attributes.AUDIO&&(i=this.media().attributes.AUDIO,this.master().playlists.forEach(function(t){(t.attributes&&t.attributes.AUDIO)===i&&t!==n.media()&&(t.excludeUntil=1/0)}),this.logger_("excluding audio group "+i+" as "+o+' does not support codec(s): "'+s.audio+'"')),!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach(function(t){var e=(xr(n.sourceUpdater_.codecs[t]||"")[0]||{}).type,i=(xr(s[t]||"")[0]||{}).type;e&&i&&e.toLowerCase()!==i.toLowerCase()&&l.push('"'+n.sourceUpdater_.codecs[t]+'" -> "'+s[t]+'"')}),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return s}e=Object.keys(a).reduce(function(t,e){return t&&(t+=", "),t+=e+' does not support codec(s): "'+a[e].join(",")+'"'},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:e,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},e.tryToCreateSourceBuffers_=function(){var t;"open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_()||(t=this.getCodecsOrExclude_())&&(this.sourceUpdater_.createSourceBuffers(t),t=[t.video,t.audio].filter(Boolean).join(","),this.excludeIncompatibleVariants_(t))},e.excludeUnsupportedVariants_=function(){var n=this,r=this.master().playlists,s=[];Object.keys(r).forEach(function(t){var e,i=r[t];-1===s.indexOf(i.id)&&(s.push(i.id),e=[],!(t=Sc(n.master,i)).audio||dr(t.audio)||ur(t.audio)||e.push("audio codec "+t.audio),!t.video||dr(t.video)||ur(t.video)||e.push("video codec "+t.video),t.text&&"stpp.ttml.im1t"===t.text&&e.push("text codec "+t.text),e.length&&(i.excludeUntil=1/0,n.logger_("excluding "+i.id+" for unsupported: "+e.join(", "))))})},e.excludeIncompatibleVariants_=function(t){var r=this,s=[],o=this.master().playlists,t=wc(xr(t)),a=pl(t),l=t.video&&xr(t.video)[0]||null,c=t.audio&&xr(t.audio)[0]||null;Object.keys(o).forEach(function(t){var e,i,n=o[t];-1===s.indexOf(n.id)&&n.excludeUntil!==1/0&&(s.push(n.id),e=[],i=Sc(r.masterPlaylistLoader_.master,n),t=pl(i),(i.audio||i.video)&&(t!==a&&e.push('codec count "'+t+'" !== "'+a+'"'),r.sourceUpdater_.canChangeType()||(t=i.video&&xr(i.video)[0]||null,i=i.audio&&xr(i.audio)[0]||null,t&&l&&t.type.toLowerCase()!==l.type.toLowerCase()&&e.push('video codec "'+t.type+'" !== "'+l.type+'"'),i&&c&&i.type.toLowerCase()!==c.type.toLowerCase()&&e.push('audio codec "'+i.type+'" !== "'+c.type+'"')),e.length&&(n.excludeUntil=1/0,r.logger_("blacklisting "+n.id+": "+e.join(" && ")))))})},e.updateAdCues_=function(t){var e=0,i=this.seekable();i.length&&(e=i.start(0)),function(t,e,i){if(void 0===i&&(i=0),t.segments)for(var n=i,r=0;r<t.segments.length;r++){var s,o,a,l=t.segments[r];if(a=a||function(t,e){for(var i=t.cues,n=0;n<i.length;n++){var r=i[n];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null}(e,n+l.duration/2)){if("cueIn"in l){a.endTime=n,a.adEndTime=n,n+=l.duration,a=null;continue}if(n<a.endTime){n+=l.duration;continue}a.endTime+=l.duration}else"cueOut"in l&&((a=new window.VTTCue(n,n+l.duration,l.cueOut)).adStartTime=n,a.adEndTime=n+parseFloat(l.cueOut),e.addCue(a)),"cueOutCont"in l&&(s=(o=l.cueOutCont.split("/").map(parseFloat))[0],o=o[1],(a=new window.VTTCue(n,n+l.duration,"")).adStartTime=n-s,a.adEndTime=a.adStartTime+o,e.addCue(a));n+=l.duration}}(t,this.cueTagsTrack_,e)},e.goalBufferLength=function(){var t=this.tech_.currentTime(),e=ec.GOAL_BUFFER_LENGTH,i=ec.GOAL_BUFFER_LENGTH_RATE,n=Math.max(e,ec.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*i,n)},e.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),e=ec.BUFFER_LOW_WATER_LINE,i=ec.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(e,ec.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(e,ec.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*i,this.experimentalBufferBasedABR?r:n)},e.bufferHighWaterLine=function(){return ec.BUFFER_HIGH_WATER_LINE},t}(Zn.EventTarget),mu=function(r,s,o){return function(t){var e=r.master.playlists[s],i=Oa(e),n=La(e);return void 0===t?n:(t?delete e.disabled:e.disabled=!0,t===n||i||(o(),t?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),t)}},gu=["seeking","seeked","pause","playing","error"],yu=function(){function t(t){var i=this;this.masterPlaylistController_=t.masterPlaylistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Al("PlaybackWatcher"),this.logger_("initialize");function e(){return i.monitorCurrentTime_()}function n(){return i.monitorCurrentTime_()}function r(){return i.techWaiting_()}function s(){return i.cancelTimer_()}var o=this.masterPlaylistController_,a=["main","subtitle","audio"],l={};a.forEach(function(t){l[t]={reset:function(){return i.resetSegmentDownloads_(t)},updateend:function(){return i.checkSegmentDownloads_(t)}},o[t+"SegmentLoader_"].on("appendsdone",l[t].updateend),o[t+"SegmentLoader_"].on("playlistupdate",l[t].reset),i.tech_.on(["seeked","seeking"],l[t].reset)});function c(e){["main","audio"].forEach(function(t){o[t+"SegmentLoader_"][e]("appended",i.seekingAppendCheck_)})}this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(gu,s),this.tech_.on("canplay",n),this.tech_.one("play",e),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",r),i.tech_.off(gu,s),i.tech_.off("canplay",n),i.tech_.off("play",e),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),a.forEach(function(t){o[t+"SegmentLoader_"].off("appendsdone",l[t].updateend),o[t+"SegmentLoader_"].off("playlistupdate",l[t].reset),i.tech_.off(["seeked","seeking"],l[t].reset)}),i.checkCurrentTimeTimeout_&&window.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(t){var e=this.masterPlaylistController_[t+"SegmentLoader_"];0<this[t+"StalledDownloads_"]&&this.logger_("resetting possible stalled download count for "+t+" loader"),this[t+"StalledDownloads_"]=0,this[t+"Buffered_"]=e.buffered_()},e.checkSegmentDownloads_=function(t){var e=this.masterPlaylistController_,i=e[t+"SegmentLoader_"],n=i.buffered_(),r=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t)return!0;if(t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1}(this[t+"Buffered_"],n);this[t+"Buffered_"]=n,r?this.resetSegmentDownloads_(t):(this[t+"StalledDownloads_"]++,this.logger_("found #"+this[t+"StalledDownloads_"]+" "+t+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:wa(n)}),this[t+"StalledDownloads_"]<10||(this.logger_(t+" loader stalled download exclusion"),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:"vhs-"+t+"-download-exclusion"}),"subtitle"!==t&&e.blacklistCurrentPlaylist({message:"Excessive "+t+" segment downloading detected."},1/0)))},e.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+Pl>=e.end(e.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var t,e=this.seekable(),i=this.tech_.currentTime();if(this.afterSeekableWindow_(e,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=e.end(e.length-1)),void 0!==(t=this.beforeSeekableWindow_(e,i)?(s=e.start(0))+(s===e.end(0)?0:Pl):t))return this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+Ta(e)+". Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0;for(var n=this.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered(),s=n.audioBuffer?n.audioBuffered():null,e=n.videoBuffer?n.videoBuffered():null,n=this.media(),o=n.partTargetDuration||2*(n.targetDuration-Il),a=[s,e],l=0;l<a.length;l++)if(a[l])if(xa(a[l],i)<o)return!1;r=_a(r,i);return 0!==r.length&&(t=r.start(0)+Pl,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+i+"). Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0)},e.waiting_=function(){var t,e;this.techWaiting_()||(t=this.tech_.currentTime(),e=this.tech_.buffered(),(e=ba(e,t)).length&&t+3<=e.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+e.start(0)+" -> "+e.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})))},e.techWaiting_=function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var i=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}t=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:t.audioBuffered(),videoBuffered:t.videoBuffered(),currentTime:e}))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;t=_a(i,e);if(0<t.length){i=t.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+i+", seeking to "+t.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*i,e),!0}return!1},e.afterSeekableWindow_=function(t,e,i,n){if(void 0===n&&(n=!1),!t.length)return!1;var r=t.end(t.length-1)+Pl;return(r=!i.endList&&n?t.end(t.length-1)+3*i.targetDuration:r)<e},e.beforeSeekableWindow_=function(t,e){return!!(t.length&&0<t.start(0)&&e<t.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(t){var e,i,n=t.videoBuffered,r=t.audioBuffered,s=t.currentTime;if(n)return n.length&&r.length?(i=ba(n,s-3),t=ba(n,s),(r=ba(r,s)).length&&!t.length&&i.length&&(e={start:i.end(0),end:r.end(0)})):_a(n,s).length||(e=this.gapFromVideoUnderflow_(n,s)),!!e&&(this.logger_("Encountered a gap in video from "+e.start+" to "+e.end+". Seeking to current time "+s),!0)},e.skipTheGap_=function(t){var e=this.tech_.buffered(),i=this.tech_.currentTime(),e=_a(e,i);this.cancelTimer_(),0!==e.length&&i===t&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",t,"nextRange start:",e.start(0)),this.tech_.setCurrentTime(e.start(0)+Il),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(t,e){for(var i=function(t){if(t.length<2)return Zn.createTimeRanges();for(var e=[],i=1;i<t.length;i++){var n=t.end(i-1),r=t.start(i);e.push([n,r])}return Zn.createTimeRanges(e)}(t),n=0;n<i.length;n++){var r=i.start(n),s=i.end(n);if(e-r<4&&2<e-r)return{start:r,end:s}}return null},t}(),vu={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},bu={PlaylistLoader:Gl,Playlist:Ul,utils:H,STANDARD_PLAYLIST_SELECTOR:ae,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(Ul.isEnabled);return kc(t,ml),t.filter(function(t){return!!Sc(e.playlists.master,t).video})[0]||null},lastBandwidthSelector:ae,movingAverageBandwidthSelector:function(e){var i=-1,n=-1;if(e<0||1<e)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&window.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,n=this.systemBandwidth),0<this.systemBandwidth&&this.systemBandwidth!==n&&(i=e*this.systemBandwidth+(1-e)*i,n=this.systemBandwidth),gl(this.playlists.master,i,parseInt(fl(this.tech_.el(),"width"),10)*t,parseInt(fl(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:ml,comparePlaylistResolution:function(t,e){var i,n;return(i=(i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:i)||window.Number.MAX_VALUE)===(n=(n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:n)||window.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n},xhr:Wa()};Object.keys(ec).forEach(function(e){Object.defineProperty(bu,e,{get:function(){return Zn.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),ec[e]},set:function(t){Zn.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Zn.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):ec[e]=t}})});function _u(t,e){for(var i=e.media(),n=-1,r=0;r<t.length;r++)if(t[r].id===i.id){n=r;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})}var Tu="videojs-vhs";bu.canPlaySource=function(){return Zn.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};function wu(t){var n=t.player,e=t.sourceKeySystems,i=t.audioMedia,t=t.mainPlaylists;if(!n.eme.initializeMediaKeys)return Promise.resolve();var r,t=(t=t=i?t.concat([i]):t,r=Object.keys(e),t.reduce(function(t,n){if(!n.contentProtection)return t;var e=r.reduce(function(t,e){var i=n.contentProtection[e];return i&&i.pssh&&(t[e]={pssh:i.pssh}),t},{});return Object.keys(e).length&&t.push(e),t},[])),s=[],o=[];return t.forEach(function(t){o.push(new Promise(function(t,e){n.tech_.one("keysessioncreated",t)})),s.push(new Promise(function(e,i){n.eme.initializeMediaKeys({keySystems:t},function(t){t?i(t):e()})}))}),Promise.race([Promise.all(s),Promise.race(o)])}function Su(t){var e=t.player;return!!(t=function(t,e,i){if(!t)return t;var n={};e&&e.attributes&&e.attributes.CODECS&&(n=wc(xr(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);var r,s=Cr(n.video),o=Cr(n.audio),a={};for(r in t)a[r]={},o&&(a[r].audioContentType=o),s&&(a[r].videoContentType=s),e.contentProtection&&e.contentProtection[r]&&e.contentProtection[r].pssh&&(a[r].pssh=e.contentProtection[r].pssh),"string"==typeof t[r]&&(a[r].url=t[r]);return Zn.mergeOptions(t,a)}(t.sourceKeySystems,t.media,t.audioMedia))&&(!((e.currentSource().keySystems=t)&&!e.eme)||(Zn.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))}function xu(){if(!window.localStorage)return null;var t=window.localStorage.getItem(Tu);if(!t)return null;try{return JSON.parse(t)}catch(t){return null}}bu.supportsNativeHls=function(){if(!document||!document.createElement)return!1;var e=document.createElement("video");if(!Zn.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),bu.supportsNativeDash=!!(document&&document.createElement&&Zn.getTech("Html5").isSupported())&&/maybe|probably/i.test(document.createElement("video").canPlayType("application/dash+xml")),bu.supportsTypeNatively=function(t){return"hls"===t?bu.supportsNativeHls:"dash"===t&&bu.supportsNativeDash},bu.isSupported=function(){return Zn.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Cu=function(r){function t(t,e,i){var n=r.call(this,e,Zn.mergeOptions(i.hls,i.vhs))||this;if(i.hls&&Object.keys(i.hls).length&&Zn.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"==typeof i.initialBandwidth&&(n.options_.bandwidth=i.initialBandwidth),n.logger_=Al("VhsHandler"),e.options_&&e.options_.playerId&&((i=Zn(e.options_.playerId)).hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return Zn.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),e.trigger({type:"usage",name:"hls-player-access"}),pe(n)},configurable:!0}),i.hasOwnProperty("vhs")||Object.defineProperty(i,"vhs",{get:function(){return Zn.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),e.trigger({type:"usage",name:"vhs-player-access"}),pe(n)},configurable:!0}),i.hasOwnProperty("dash")||Object.defineProperty(i,"dash",{get:function(){return Zn.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),pe(n)},configurable:!0}),n.player_=i),n.tech_=e,n.source_=t,n.stats={},n.ignoreNextSeekingEvent_=!1,n.setOptions_(),n.options_.overrideNative&&e.overrideNativeAudioTracks&&e.overrideNativeVideoTracks)e.overrideNativeAudioTracks(!0),e.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(e.featuresNativeVideoTracks||e.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(document,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&e.contains(n.tech_.el())?n.masterPlaylistController_.fastQualityChange_():n.masterPlaylistController_.checkABR_()}),n.on(n.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),n.on(n.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,"play",n.play),n}fe(t,r);var e=t.prototype;return e.setOptions_=function(){var t,e=this;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((t=xu())&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=ec.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ec.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},e.src=function(t,e){var n=this;t&&(this.setOptions_(),this.options_.src=0===(t=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(t.substring(t.indexOf(",")+1)):t,this.options_.tech=this.tech_,this.options_.externVhs=bu,this.options_.sourceType=hr(e),this.options_.seekTo=function(t){n.tech_.setCurrentTime(t)},this.options_.smoothQualityChange&&Zn.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new fu(this.options_),e=Zn.mergeOptions({liveRangeSafeTimeDelta:Pl},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_}),this.playbackWatcher_=new yu(e),this.masterPlaylistController_.on("error",function(){var t=Zn.players[n.tech_.options_.playerId],e=n.masterPlaylistController_.error;"object"!=typeof e||e.code?"string"==typeof e&&(e={message:e,code:3}):e.code=3,t.error(e)}),e=this.options_.experimentalBufferBasedABR?bu.movingAverageBandwidthSelector(.55):bu.STANDARD_PLAYLIST_SELECTOR,this.masterPlaylistController_.selectPlaylist=(this.selectPlaylist||e).bind(this),this.masterPlaylistController_.selectInitialPlaylist=bu.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var t=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;return t=this.options_.useNetworkInformationApi&&e?1e7<=(e=1e3*e.downlink*1e3)&&1e7<=t?Math.max(t,e):e:t},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=0<this.throughput?1/this.throughput:0;return Math.floor(1/(t+e))},set:function(){Zn.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return wa(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return wa(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){n.options_.useBandwidthFromLocalStorage&&function(t){if(!window.localStorage)return;var e=(e=xu())?Zn.mergeOptions(e,t):t;try{window.localStorage.setItem(Tu,JSON.stringify(e))}catch(t){return}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var i;(i=n).representations=function(){var t=i.masterPlaylistController_.master(),t=jl(t)?i.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return t?t.filter(function(t){return!Oa(t)}).map(function(t,e){return new Rc(i,t,t.id)}):[]}}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){n.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},e.createKeySessions_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),wu({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})})},e.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},e.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=Su({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on("keystatuschange",function(t){"output-restricted"===t.status&&e.masterPlaylistController_.blacklistCurrentPlaylist({playlist:e.masterPlaylistController_.media(),message:"DRM keystatus changed to "+t.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Zn.browser.IE_VERSION&&t?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},e.setupQualityLevels_=function(){var i=this,t=Zn.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,t;e=i.qualityLevels_,(t=i).representations().forEach(function(t){e.addQualityLevel(t)}),_u(e,t.playlists)}),this.playlists.on("mediachange",function(){_u(i.qualityLevels_,i.playlists)}))},t.version=function(){return{"@videojs/http-streaming":"2.14.2","mux.js":"6.0.1","mpd-parser":"0.21.1","m3u8-parser":"4.7.1","aes-decrypter":"3.1.3"}},e.version=function(){return this.constructor.version()},e.canChangeType=function(){return Jc.canChangeType()},e.play=function(){this.masterPlaylistController_.play()},e.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},e.duration=function(){return this.masterPlaylistController_.duration()},e.seekable=function(){return this.masterPlaylistController_.seekable()},e.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),r.prototype.dispose.call(this)},e.convertToProgramTime=function(t,e){return Za({playlist:this.masterPlaylistController_.media(),time:t,callback:e})},e.seekToProgramTime=function(t,e,i,n){return void 0===i&&(i=!0),void 0===n&&(n=2),Ja({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})},t}(Zn.getComponent("Component")),ku={name:"videojs-http-streaming",VERSION:"2.14.2",canHandleSource:function(t,e){e=Zn.mergeOptions(Zn.options,e=void 0===e?{}:e);return ku.canPlayType(t.type,e)},handleSource:function(t,e,i){i=Zn.mergeOptions(Zn.options,i=void 0===i?{}:i);return e.vhs=new Cu(t,e,i),Zn.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return Zn.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=Wa(),e.vhs.src(t.src,t.type),e.vhs},canPlayType:function(t,e){var i=Zn.mergeOptions(Zn.options,e=void 0===e?{}:e),e=i.vhs,e=(e=void 0===e?{}:e).overrideNative,e=void 0===e?!Zn.browser.IS_ANY_SAFARI:e,i=i.hls,i=(i=void 0===i?{}:i).overrideNative,i=void 0!==i&&i,t=hr(t);return t&&(!bu.supportsTypeNatively(t)||i||e)?"maybe":""}};return ur("avc1.4d400d,mp4a.40.2")&&Zn.getTech("Html5").registerSourceHandler(ku,0),Zn.VhsHandler=Cu,Object.defineProperty(Zn,"HlsHandler",{get:function(){return Zn.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Cu},configurable:!0}),Zn.VhsSourceHandler=ku,Object.defineProperty(Zn,"HlsSourceHandler",{get:function(){return Zn.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),ku},configurable:!0}),Zn.Vhs=bu,Object.defineProperty(Zn,"Hls",{get:function(){return Zn.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),bu},configurable:!0}),Zn.use||(Zn.registerComponent("Hls",bu),Zn.registerComponent("Vhs",bu)),Zn.options.vhs=Zn.options.vhs||{},Zn.options.hls=Zn.options.hls||{},Zn.getPlugin&&Zn.getPlugin("reloadSourceOnError")||(Zn.registerPlugin||Zn.plugin)("reloadSourceOnError",function(t){Fc(this,t)}),Zn}),$(function(){$(window).width()<481&&$(".projects__descr").appendTo($(".projects__inner")),$(window).width()<481&&$(".control__btn").appendTo($(".control__form")),$(".slider-projects").slick({slidesToShow:1,asNavFor:".slider-dotshead, .slider-projectsphoto",prevArrow:'<button type="button" class="slider-projects__arrow slider-projects__arrow--prev"><svg class="slider-projects__arrow-svg"><use xlink:href="images/sprite.svg#arrow"></use></svg></button>',nextArrow:'<button type="button" class="slider-projects__arrow slider-projects__arrow--next"><svg class="slider-projects__arrow-svg"><use xlink:href="images/sprite.svg#arrow"></use></svg></button>',dots:!0,responsive:[{breakpoint:1243,settings:{dots:!1,arrows:!1}}]}),$(".slider-projectsphoto").slick({asNavFor:".slider-projects",arrows:!1,prevArrow:'<button type="button" class="slider-projectsphoto__arrow slider-projectsphoto__arrow--prev"><svg class="slider-projectsphoto__arrow-svg"><use xlink:href="images/sprite.svg#arrow-small"></use></svg></button>',nextArrow:'<button type="button" class="slider-projectsphoto__arrow slider-projectsphoto__arrow--next"><svg class="slider-projectsphoto__arrow-svg"><use xlink:href="images/sprite.svg#arrow-small"></use></svg></button>',responsive:[{breakpoint:1243,settings:{arrows:!0}}]}),$(".slider-dotshead").slick({slidesToShow:3,asNavFor:".slider-projects",variableWidth:!0}),$(".gallery-slider__list").slick({slidesToShow:1,prevArrow:'<button type="button" class="gallery-slider__arrow gallery-slider__arrow--prev"><svg class="gallery-slider__arrow-svg"><use xlink:href="images/sprite.svg#arrow-small"></use></svg></button>',nextArrow:'<button type="button" class="gallery-slider__arrow gallery-slider__arrow--next"><svg class="gallery-slider__arrow-svg"><use xlink:href="images/sprite.svg#arrow-small"></use></svg></button>'}),$("[data-go]").on("click",function(){const t=$(this);var e=t.attr("data-go");$(".slider-projectsphoto").slick("slickGoTo",parseInt(e))}),videojs(document.querySelector(".video-js"));mixitup(".slider-gallery",{load:{filter:".category-a",sort:"myorder:asc"}}),mixitup(".gallery-slider",{});$(".style-filter__btn").on("click",function(){$(".style-filter__btn").removeClass("style-filter__btn--active"),$(this).addClass("style-filter__btn--active")})});